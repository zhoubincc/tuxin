(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0059":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-a75f7a08], uni-scroll-view[data-v-a75f7a08], uni-swiper-item[data-v-a75f7a08]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}\n/**\n * vue版本动画内置的动画模式有如下：\n * fade：淡入\n * zoom：缩放\n * fade-zoom：缩放淡入\n * fade-up：上滑淡入\n * fade-down：下滑淡入\n * fade-left：左滑淡入\n * fade-right：右滑淡入\n * slide-up：上滑进入\n * slide-down：下滑进入\n * slide-left：左滑进入\n * slide-right：右滑进入\n */.u-fade-enter-active[data-v-a75f7a08],\n.u-fade-leave-active[data-v-a75f7a08]{transition-property:opacity}.u-fade-enter[data-v-a75f7a08],\n.u-fade-leave-to[data-v-a75f7a08]{opacity:0}.u-fade-zoom-enter[data-v-a75f7a08],\n.u-fade-zoom-leave-to[data-v-a75f7a08]{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}.u-fade-zoom-enter-active[data-v-a75f7a08],\n.u-fade-zoom-leave-active[data-v-a75f7a08]{transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform}.u-fade-down-enter-active[data-v-a75f7a08],\n.u-fade-down-leave-active[data-v-a75f7a08],\n.u-fade-left-enter-active[data-v-a75f7a08],\n.u-fade-left-leave-active[data-v-a75f7a08],\n.u-fade-right-enter-active[data-v-a75f7a08],\n.u-fade-right-leave-active[data-v-a75f7a08],\n.u-fade-up-enter-active[data-v-a75f7a08],\n.u-fade-up-leave-active[data-v-a75f7a08]{transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.u-fade-up-enter[data-v-a75f7a08],\n.u-fade-up-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);opacity:0}.u-fade-down-enter[data-v-a75f7a08],\n.u-fade-down-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);opacity:0}.u-fade-left-enter[data-v-a75f7a08],\n.u-fade-left-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);opacity:0}.u-fade-right-enter[data-v-a75f7a08],\n.u-fade-right-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);opacity:0}.u-slide-down-enter-active[data-v-a75f7a08],\n.u-slide-down-leave-active[data-v-a75f7a08],\n.u-slide-left-enter-active[data-v-a75f7a08],\n.u-slide-left-leave-active[data-v-a75f7a08],\n.u-slide-right-enter-active[data-v-a75f7a08],\n.u-slide-right-leave-active[data-v-a75f7a08],\n.u-slide-up-enter-active[data-v-a75f7a08],\n.u-slide-up-leave-active[data-v-a75f7a08]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-slide-up-enter[data-v-a75f7a08],\n.u-slide-up-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}.u-slide-down-enter[data-v-a75f7a08],\n.u-slide-down-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}.u-slide-left-enter[data-v-a75f7a08],\n.u-slide-left-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}.u-slide-right-enter[data-v-a75f7a08],\n.u-slide-right-leave-to[data-v-a75f7a08]{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}.u-zoom-enter-active[data-v-a75f7a08],\n.u-zoom-leave-active[data-v-a75f7a08]{transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.u-zoom-enter[data-v-a75f7a08],\n.u-zoom-leave-to[data-v-a75f7a08]{-webkit-transform:scale(.95);transform:scale(.95)}',""]),e.exports=t},"00ce":function(e,t,n){"use strict";var i=SyntaxError,r=Function,a=TypeError,o=function(e){try{return r('"use strict"; return ('+e+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(P){s=null}var c=function(){throw new a},u=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(t){return c}}}():c,d=n("5156")(),l=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"===typeof Uint8Array?void 0:l(Uint8Array),h={"%AggregateError%":"undefined"===typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?l([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"===typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?l(l([][Symbol.iterator]())):void 0,"%JSON%":"object"===typeof JSON?JSON:void 0,"%Map%":"undefined"===typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d?l((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?void 0:Promise,"%Proxy%":"undefined"===typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d?l((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?l(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?void 0:WeakSet},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n("0f7c"),g=n("a0d3"),b=m.call(Function.call,Array.prototype.concat),y=m.call(Function.apply,Array.prototype.splice),k=m.call(Function.call,String.prototype.replace),w=m.call(Function.call,String.prototype.slice),S=m.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,x=function(e){var t=w(e,0,1),n=w(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,A,(function(e,t,n,i){r[r.length]=n?k(i,C,"$1"):t||e})),r},T=function(e,t){var n,r=e;if(g(v,r)&&(n=v[r],r="%"+n[0]+"%"),g(h,r)){var s=h[r];if(s===f&&(s=function e(t){var n;if("%AsyncFunction%"===t)n=o("async function () {}");else if("%GeneratorFunction%"===t)n=o("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=o("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=l(r.prototype))}return h[t]=n,n}(r)),"undefined"===typeof s&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:s}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=x(e),r=n.length>0?n[0]:"",o=T("%"+r+"%",t),c=o.name,u=o.value,d=!1,l=o.alias;l&&(r=l[0],y(n,b([0,1],l)));for(var f=1,p=!0;f<n.length;f+=1){var v=n[f],m=w(v,0,1),k=w(v,-1);if(('"'===m||"'"===m||"`"===m||'"'===k||"'"===k||"`"===k)&&m!==k)throw new i("property names with quotes must have matching quotes");if("constructor"!==v&&p||(d=!0),r+="."+v,c="%"+r+"%",g(h,c))u=h[c];else if(null!=u){if(!(v in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&f+1>=n.length){var A=s(u,v);p=!!A,u=p&&"get"in A&&!("originalValue"in A.get)?A.get:u[v]}else p=g(u,v),u=u[v];p&&!d&&(h[c]=u)}}return u}},"0104":function(e,t,n){"use strict";n.r(t);var i=n("33e1"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"01c1":function(e,t,n){var i=n("57ee");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("2498eb9c",i,!0,{sourceMap:!1,shadowMode:!1})},"0200":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("uvText",{attrs:{type:e.type,show:e.show,text:e.text,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,mode:e.mode,href:e.href,format:e.format,call:e.call,openType:e.openType,bold:e.bold,block:e.block,lines:e.lines,color:e.color,decoration:e.decoration,size:e.size,iconStyle:e.iconStyle,margin:e.margin,lineHeight:e.lineHeight,align:e.align,wordWrap:e.wordWrap,customStyle:e.customStyle},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("click")}}})},r=[]},"043b":function(e,t,n){"use strict";var i=n("01c1"),r=n.n(i);r.a},"0469":function(e,t,n){"use strict";var i=n("cadc"),r=n.n(i);r.a},"049f":function(e,t,n){"use strict";var i=n("8153"),r=n.n(i);r.a},"0522":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{bgColor:{type:String,default:uni.$u.props.statusBar.bgColor}}};t.default=i},"0548":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.member_item[data-v-327502e2]{height:%?322?%;width:calc(50vw - 30px);background-color:#fff;margin-bottom:%?24?%;border-radius:%?8?%;overflow:hidden;position:relative}.member_item .loading_wrap[data-v-327502e2]{height:100%;background-color:#262626}.member_item .mic_status[data-v-327502e2]{width:%?62?%;height:%?62?%;position:absolute;right:%?24?%;bottom:%?24?%}.member_item .member_video[data-v-327502e2]{width:100%;height:100%}.member_item .u-avatar[data-v-327502e2]{height:%?322?%!important;width:calc(50vw - 31px)!important}.member_item .u-avatar[data-v-327502e2] .u-avatar__image--square{height:%?322?%!important;width:calc(50vw - 31px)!important}.member_item[data-v-327502e2]:nth-child(odd){margin-right:12px}',""]),e.exports=t},"0849":function(e,t,n){e.exports=n.p+"static/img/accept.5bbfeeaa.png"},"0baf":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-status-bar",style:[this.style]},[this._t("default")],2)},r=[]},"0ce7":function(e,t,n){"use strict";n.r(t);var i=n("110c"),r=n("dae6");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("2c4e");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"b2a05bc2",null,!1,i["a"],void 0);t["default"]=s.exports},"0f7c":function(e,t,n){"use strict";var i=n("688e");e.exports=Function.prototype.bind||i},1:function(e,t){},"110c":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uTransition:n("2f22").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-transition",{attrs:{show:e.show,"custom-class":"u-overlay",duration:e.duration,"custom-style":e.overlayStyle},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("default")],2)},a=[]},"11a4":function(e,t,n){"use strict";n.r(t);var i=n("b3f0"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"137d":function(e,t,n){"use strict";n.r(t);var i=n("9663"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},1405:function(e,t,n){var i=n("52c8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("c7b67830",i,!0,{sourceMap:!1,shadowMode:!1})},"152c":function(e,t,n){"use strict";var i=n("6cd2"),r=n.n(i);r.a},1696:function(e,t,n){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},"17e2":function(e,t,n){"use strict";n.r(t);var i=n("4cd4"),r=n("d3cf");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("542a");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"244244fc",null,!1,i["a"],void 0);t["default"]=s.exports},"19b9":function(e,t){e.exports="data:image/png;base64,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"},"1b5d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA0CAYAAADfRPtlAAAAAXNSR0IArs4c6QAAAdFJREFUaEPtmb8uREEUxn8fCYlCywsQnUpCI4RKQxSUStGIN7CEUsJW4hGIV/AnCKFVoCEavUSxRI6M3E3Y7Nq9yWXvjJny5pw5853v3JnzRwS+FDg+IkDfGY4MRgZz7oEYojknqO7x/geDZjYJrAN9QGtdt/ytQAk4BZYkXac1LTObBvbTKjZB/hnol/SQxrYDeAv0plFqouyOpPk09h3Ad6AlUboDNgH3LQ+rE1gBOpLDHEgaS3MwB9C+KKxKWk6zwW/LmtkxMJzYOZI0msZmJcCCJOex3CwzOwRG6gE0syFgDugBXCRuSbrxGqCZtQEzwCIwUMHKCzDuJUAz6wLcZbMAdP8Qbme+AbwHToBZoL2B/6jkG8BamJ6AbWAX2AAmyoK+A7xylwmwJ+nVgTIz9woUfAb4lmReRUnnlZT6DtCF4qCkx1qx6jvAug99BOhrJlMO2chgZLCB9CFLkUaT7RiiiQe8LZdCYTD4h94RVU7VXEF7EVqqVonnEiiGlmxXu6SDKZeCL3g/k+2QWxbfqolgm07VfsJG24ZBNn6Db90HP3wJe3yWtNqmgLUgB6BZ1m553Ot/zOjz6PmszhQZzMqTzdonMtgsz2dlN3gGPwCiKaHac+rEXgAAAABJRU5ErkJggg=="},"1b80":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""}},"1bf2":function(e,t,n){var i=n("23e7"),r=n("56ef");i({target:"Reflect",stat:!0},{ownKeys:r})},"1e81":function(e,t,n){"use strict";n.r(t);var i=n("adb8"),r=n("988d");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("043b");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"684dd422",null,!1,i["a"],void 0);t["default"]=s.exports},"20b5":function(e,t,n){"use strict";var i=n("376e"),r=n.n(i);r.a},"20bf":function(e,t,n){"use strict";var i=n("8aa7"),r=n("ebb5").exportTypedArrayStaticMethod,a=n("a078");r("from",a,i)},"220e":function(e,t,n){var i=n("e650");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("6519635e",i,!0,{sourceMap:!1,shadowMode:!1})},"238c":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-59765974], uni-scroll-view[data-v-59765974], uni-swiper-item[data-v-59765974]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}@font-face{font-family:uicon-iconfont;src:url(https://at.alicdn.com/t/font_2225171_8kdcwk4po24.ttf) format("truetype")}.u-icon[data-v-59765974]{display:flex;align-items:center}.u-icon--left[data-v-59765974]{flex-direction:row-reverse;align-items:center}.u-icon--right[data-v-59765974]{flex-direction:row;align-items:center}.u-icon--top[data-v-59765974]{flex-direction:column-reverse;justify-content:center}.u-icon--bottom[data-v-59765974]{flex-direction:column;justify-content:center}.u-icon__icon[data-v-59765974]{font-family:uicon-iconfont;position:relative;display:flex;flex-direction:row;align-items:center}.u-icon__icon--primary[data-v-59765974]{color:#3c9cff}.u-icon__icon--success[data-v-59765974]{color:#5ac725}.u-icon__icon--error[data-v-59765974]{color:#f56c6c}.u-icon__icon--warning[data-v-59765974]{color:#f9ae3d}.u-icon__icon--info[data-v-59765974]{color:#909399}.u-icon__img[data-v-59765974]{height:auto;will-change:transform}.u-icon__label[data-v-59765974]{line-height:1}',""]),e.exports=t},2430:function(e,t,n){"use strict";(function(e){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.VideoQuality=t.VideoPresets43=t.VideoPresets=t.VideoPreset=t.UnsupportedServer=t.UnexpectedConnectionState=t.TrackPublication=t.TrackInvalidError=t.TrackEvent=t.Track=t.ScreenSharePresets=t.RoomState=t.RoomEvent=t.Room=t.RemoteVideoTrack=t.RemoteTrackPublication=t.RemoteTrack=t.RemoteParticipant=t.RemoteAudioTrack=t.PublishDataError=t.ParticipantEvent=t.Participant=t.NegotiationError=t.MediaDeviceFailure=t.LogLevel=t.LocalVideoTrack=t.LocalTrackPublication=t.LocalTrack=t.LocalParticipant=t.LocalAudioTrack=t.LivekitError=t.EngineEvent=t.DisconnectReason=t.DefaultReconnectPolicy=t.DataPacket_Kind=t.CriticalTimers=t.ConnectionState=t.ConnectionQuality=t.ConnectionError=t.ConnectionCheck=t.AudioPresets=void 0,t.attachToElement=fo,t.createAudioAnalyser=function(e,t){var n=xn({cloneTrack:!1,fftSize:2048,smoothingTimeConstant:.8,minDecibels:-100,maxDecibels:-80},t),i=ba();if(!i)throw new Error("Audio Context not supported on this browser");var r=n.cloneTrack?e.mediaStreamTrack.clone():e.mediaStreamTrack,a=i.createMediaStreamSource(new MediaStream([r])),o=i.createAnalyser();o.minDecibels=n.minDecibels,o.maxDecibels=n.maxDecibels,o.fftSize=n.fftSize,o.smoothingTimeConstant=n.smoothingTimeConstant,a.connect(o);var s=new Uint8Array(o.frequencyBinCount);return{calculateVolume:function(){o.getByteFrequencyData(s);var e,t=0,n=(0,g.default)(s);try{for(n.s();!(e=n.n()).done;){var i=e.value;t+=Math.pow(i/255,2)}}catch(a){n.e(a)}finally{n.f()}var r=Math.sqrt(t/s.length);return r},analyser:o,cleanup:function(){i.close(),n.cloneTrack&&r.stop()}}},t.createLocalAudioTrack=Fs,t.createLocalScreenTracks=function(e){return Js.apply(this,arguments)},t.createLocalTracks=_s,t.createLocalVideoTrack=Bs,t.detachTrack=po,t.getEmptyAudioStreamTrack=Va,t.getEmptyVideoStreamTrack=ja,t.isBackupCodec=Io,t.isBrowserSupported=function(){return wa()||Sa()},t.protocolVersion=void 0,t.setLogExtension=function(e){var t=x.methodFactory;x.methodFactory=function(n,i,r){var a=t(n,i,r),o=x.getLevel(),s=i>=o&&i<S.silent;return function(t,n){n?a(t,n):a(t),s&&e(i,t,n)}},x.setLevel(x.getLevel())}
/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */,t.setLogLevel=function(e){x.setLevel(e)},t.supportsAV1=Aa,t.supportsAdaptiveStream=function(){return void 0!==("undefined"===typeof ResizeObserver?"undefined":(0,b.default)(ResizeObserver))&&void 0!==("undefined"===typeof IntersectionObserver?"undefined":(0,b.default)(IntersectionObserver))},t.supportsDynacast=function(){return wa()},t.version=void 0;var r=i(n("257e")),a=i(n("45eb")),o=i(n("7e84")),s=i(n("c7eb")),c=i(n("3835")),u=i(n("1da1")),d=i(n("262e")),l=i(n("2caf")),f=i(n("9072")),p=i(n("ade3")),h=i(n("2909")),v=i(n("d4ec")),m=i(n("bee2")),g=i(n("b85c")),b=i(n("53ca"));function y(e,t){return t.forEach((function(t){t&&"string"!==typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}n("d3b7"),n("159b"),n("b64b"),n("e439"),n("7a82"),n("dca8"),n("6c57"),n("ac1f"),n("00b4"),n("c975"),n("fb6a"),n("d9e2"),n("d401"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("40d9"),n("e25e"),n("25f0"),n("14d9"),n("a434"),n("cfc3"),n("4a9b"),n("8ba4"),n("a9e3"),n("20bf"),n("d81d"),n("f4b3"),n("bf19"),n("aff5"),n("a4d3"),n("e01a"),n("b636"),n("d28b"),n("3ca3"),n("ddb0"),n("4de4"),n("dbb4"),n("1d1c"),n("8172"),n("efec"),n("466d"),n("4ec9"),n("13d5"),n("8a79"),n("99af"),n("e9c4"),n("7db0"),n("caad"),n("2532"),n("0eb6"),n("b7ef"),n("8bd4"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("acd8"),n("498a"),n("1276"),n("cb29"),n("c740"),n("4e82"),n("820e"),n("f8c9"),n("a6fd"),n("1bf2"),n("7039"),n("3410"),n("3c65"),n("a630"),n("07ac"),n("2ca0"),n("6062"),n("c19f"),n("9861"),n("4fadc");var k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var S,A={},C={get exports(){return A},set exports(e){A=e}};(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(k,(function(){var e=function(){},t="undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))&&"undefined"!==(0,b.default)(window.navigator)&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(n){return"debug"===n&&(n="log"),"undefined"!==("undefined"===typeof console?"undefined":(0,b.default)(console))&&("trace"===n&&t?r:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function o(t,i){for(var r=0;r<n.length;r++){var a=n[r];this[a]=r<t?e:this.methodFactory(a,t,i)}this.log=this.debug}function s(e,t,n){return function(){"undefined"!==("undefined"===typeof console?"undefined":(0,b.default)(console))&&(o.call(this,t,n),this[e].apply(this,arguments))}}function c(e,t,n){return a(e)||s.apply(this,arguments)}function u(e,t,i){var r,a=this;t=null==t?"WARN":t;var s="loglevel";function u(){var e;if("undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))&&s){try{e=window.localStorage[s]}catch(i){}if("undefined"===(0,b.default)(e))try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(s)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(i){}return void 0===a.levels[e]&&(e=void 0),e}}"string"===typeof e?s+=":"+e:"symbol"===(0,b.default)(e)&&(s=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||c,a.getLevel=function(){return r},a.setLevel=function(t,i){if("string"===typeof t&&void 0!==a.levels[t.toUpperCase()]&&(t=a.levels[t.toUpperCase()]),!("number"===typeof t&&t>=0&&t<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==i&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))&&s){try{return void(window.localStorage[s]=t)}catch(i){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(i){}}}(t),o.call(a,t,e),"undefined"===("undefined"===typeof console?"undefined":(0,b.default)(console))&&t<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){t=e,u()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(t,!1),function(){if("undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))&&s){try{return void window.localStorage.removeItem(s)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var d=u();null==d&&(d=t),a.setLevel(d,!1)}var d=new u,l={};d.getLogger=function(e){if("symbol"!==(0,b.default)(e)&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new u(e,d.getLevel(),d.methodFactory)),t};var f="undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))?window.log:void 0;return d.noConflict=function(){return"undefined"!==("undefined"===typeof window?"undefined":(0,b.default)(window))&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return l},d["default"]=d,d}))})(C),t.LogLevel=S,function(e){e[e["trace"]=0]="trace",e[e["debug"]=1]="debug",e[e["info"]=2]="info",e[e["warn"]=3]="warn",e[e["error"]=4]="error",e[e["silent"]=5]="silent"}(S||(t.LogLevel=S={}));var x=A.getLogger("livekit");x.setLevel(S.info);var T=null;try{T=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Ys){}function P(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function E(e){return!0===(e&&e["__isLong__"])}function R(e){var t=Math.clz32(e&-e);return e?31-t:t}P.prototype.__isLong__,Object.defineProperty(P.prototype,"__isLong__",{value:!0}),P.isLong=E;var O={},N={};function I(e,t){var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=N[e],i)?i:(n=D(e,0,!0),r&&(N[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=O[e],i)?i:(n=D(e,e<0?-1:0,!1),r&&(O[e]=n),n))}function M(e,t){if(isNaN(e))return t?G:J;if(t){if(e<0)return G;if(e>=j)return $}else{if(e<=-F)return z;if(e+1>=F)return q}return e<0?M(-e,t).neg():D(e%B|0,e/B|0,t)}function D(e,t,n){return new P(e,t,n)}P.fromInt=I,P.fromNumber=M,P.fromBits=D;var U=Math.pow;function _(e,t,n){if(0===e.length)throw Error("empty string");if("number"===typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?G:J;if(n=n||10,n<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return _(e.substring(1),t,n).neg();for(var r=M(U(n,8)),a=J,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+s),n);if(s<8){var u=M(U(n,s));a=a.mul(u).add(M(c))}else a=a.mul(r),a=a.add(M(c))}return a.unsigned=t,a}function L(e,t){return"number"===typeof e?M(e,t):"string"===typeof e?_(e,t):D(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}P.fromString=_,P.fromValue=L;var B=4294967296,j=B*B,F=j/2,V=I(1<<24),J=I(0);P.ZERO=J;var G=I(0,!0);P.UZERO=G;var H=I(1);P.ONE=H;var W=I(1,!0);P.UONE=W;var Q=I(-1);P.NEG_ONE=Q;var q=D(-1,2147483647,!1);P.MAX_VALUE=q;var $=D(-1,-1,!0);P.MAX_UNSIGNED_VALUE=$;var z=D(0,-2147483648,!1);P.MIN_VALUE=z;var Z=P.prototype;Z.toInt=function(){return this.unsigned?this.low>>>0:this.low},Z.toNumber=function(){return this.unsigned?(this.high>>>0)*B+(this.low>>>0):this.high*B+(this.low>>>0)},Z.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(z)){var t=M(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}var r=M(U(e,6),this.unsigned),a=this,o="";while(1){var s=a.div(r),c=a.sub(s.mul(r)).toInt()>>>0,u=c.toString(e);if(a=s,a.isZero())return u+o;while(u.length<6)u="0"+u;o=""+u+o}},Z.getHighBits=function(){return this.high},Z.getHighBitsUnsigned=function(){return this.high>>>0},Z.getLowBits=function(){return this.low},Z.getLowBitsUnsigned=function(){return this.low>>>0},Z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(z)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0;t--)if(0!=(e&1<<t))break;return 0!=this.high?t+33:t+1},Z.isZero=function(){return 0===this.high&&0===this.low},Z.eqz=Z.isZero,Z.isNegative=function(){return!this.unsigned&&this.high<0},Z.isPositive=function(){return this.unsigned||this.high>=0},Z.isOdd=function(){return 1===(1&this.low)},Z.isEven=function(){return 0===(1&this.low)},Z.equals=function(e){return E(e)||(e=L(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},Z.eq=Z.equals,Z.notEquals=function(e){return!this.eq(e)},Z.neq=Z.notEquals,Z.ne=Z.notEquals,Z.lessThan=function(e){return this.comp(e)<0},Z.lt=Z.lessThan,Z.lessThanOrEqual=function(e){return this.comp(e)<=0},Z.lte=Z.lessThanOrEqual,Z.le=Z.lessThanOrEqual,Z.greaterThan=function(e){return this.comp(e)>0},Z.gt=Z.greaterThan,Z.greaterThanOrEqual=function(e){return this.comp(e)>=0},Z.gte=Z.greaterThanOrEqual,Z.ge=Z.greaterThanOrEqual,Z.compare=function(e){if(E(e)||(e=L(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Z.comp=Z.compare,Z.negate=function(){return!this.unsigned&&this.eq(z)?z:this.not().add(H)},Z.neg=Z.negate,Z.add=function(e){E(e)||(e=L(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,a=e.high>>>16,o=65535&e.high,s=e.low>>>16,c=65535&e.low,u=0,d=0,l=0,f=0;return f+=r+c,l+=f>>>16,f&=65535,l+=i+s,d+=l>>>16,l&=65535,d+=n+o,u+=d>>>16,d&=65535,u+=t+a,u&=65535,D(l<<16|f,u<<16|d,this.unsigned)},Z.subtract=function(e){return E(e)||(e=L(e)),this.add(e.neg())},Z.sub=Z.subtract,Z.multiply=function(e){if(this.isZero())return this;if(E(e)||(e=L(e)),T){var t=T["mul"](this.low,this.high,e.low,e.high);return D(t,T["get_high"](),this.unsigned)}if(e.isZero())return this.unsigned?G:J;if(this.eq(z))return e.isOdd()?z:J;if(e.eq(z))return this.isOdd()?z:J;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(V)&&e.lt(V))return M(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,a=65535&this.low,o=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=65535&e.low,d=0,l=0,f=0,p=0;return p+=a*u,f+=p>>>16,p&=65535,f+=r*u,l+=f>>>16,f&=65535,f+=a*c,l+=f>>>16,f&=65535,l+=i*u,d+=l>>>16,l&=65535,l+=r*c,d+=l>>>16,l&=65535,l+=a*s,d+=l>>>16,l&=65535,d+=n*u+i*c+r*s+a*o,d&=65535,D(f<<16|p,d<<16|l,this.unsigned)},Z.mul=Z.multiply,Z.divide=function(e){if(E(e)||(e=L(e)),e.isZero())throw Error("division by zero");if(T){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;var t=(this.unsigned?T["div_u"]:T["div_s"])(this.low,this.high,e.low,e.high);return D(t,T["get_high"](),this.unsigned)}if(this.isZero())return this.unsigned?G:J;var n,i,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return G;if(e.gt(this.shru(1)))return W;r=G}else{if(this.eq(z)){if(e.eq(H)||e.eq(Q))return z;if(e.eq(z))return H;var a=this.shr(1);return n=a.div(e).shl(1),n.eq(J)?e.isNegative()?H:Q:(i=this.sub(e.mul(n)),r=n.add(i.div(e)),r)}if(e.eq(z))return this.unsigned?G:J;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=J}i=this;while(i.gte(e)){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));var o=Math.ceil(Math.log(n)/Math.LN2),s=o<=48?1:U(2,o-48),c=M(n),u=c.mul(e);while(u.isNegative()||u.gt(i))n-=s,c=M(n,this.unsigned),u=c.mul(e);c.isZero()&&(c=H),r=r.add(c),i=i.sub(u)}return r},Z.div=Z.divide,Z.modulo=function(e){if(E(e)||(e=L(e)),T){var t=(this.unsigned?T["rem_u"]:T["rem_s"])(this.low,this.high,e.low,e.high);return D(t,T["get_high"](),this.unsigned)}return this.sub(this.div(e).mul(e))},Z.mod=Z.modulo,Z.rem=Z.modulo,Z.not=function(){return D(~this.low,~this.high,this.unsigned)},Z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Z.clz=Z.countLeadingZeros,Z.countTrailingZeros=function(){return this.low?R(this.low):R(this.high)+32},Z.ctz=Z.countTrailingZeros,Z.and=function(e){return E(e)||(e=L(e)),D(this.low&e.low,this.high&e.high,this.unsigned)},Z.or=function(e){return E(e)||(e=L(e)),D(this.low|e.low,this.high|e.high,this.unsigned)},Z.xor=function(e){return E(e)||(e=L(e)),D(this.low^e.low,this.high^e.high,this.unsigned)},Z.shiftLeft=function(e){return E(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?D(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):D(0,this.low<<e-32,this.unsigned)},Z.shl=Z.shiftLeft,Z.shiftRight=function(e){return E(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?D(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):D(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Z.shr=Z.shiftRight,Z.shiftRightUnsigned=function(e){return E(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?D(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):D(32===e?this.high:this.high>>>e-32,0,this.unsigned)},Z.shru=Z.shiftRightUnsigned,Z.shr_u=Z.shiftRightUnsigned,Z.rotateLeft=function(e){var t;return E(e)&&(e=e.toInt()),0===(e&=63)?this:32===e?D(this.high,this.low,this.unsigned):e<32?(t=32-e,D(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,D(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},Z.rotl=Z.rotateLeft,Z.rotateRight=function(e){var t;return E(e)&&(e=e.toInt()),0===(e&=63)?this:32===e?D(this.high,this.low,this.unsigned):e<32?(t=32-e,D(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,D(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},Z.rotr=Z.rotateRight,Z.toSigned=function(){return this.unsigned?D(this.low,this.high,!1):this},Z.toUnsigned=function(){return this.unsigned?this:D(this.low,this.high,!0)},Z.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Z.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Z.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},P.fromBytes=function(e,t,n){return n?P.fromBytesLE(e,t):P.fromBytesBE(e,t)},P.fromBytesLE=function(e,t){return new P(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},P.fromBytesBE=function(e,t){return new P(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Y={},K={get exports(){return Y},set exports(e){Y=e}},X={},ee={},te=function(e,t){var n=new Array(arguments.length-1),i=0,r=2,a=!0;while(r<arguments.length)n[i++]=arguments[r++];return new Promise((function(r,o){n[i]=function(e){if(a)if(a=!1,e)o(e);else{var t=new Array(arguments.length-1),n=0;while(n<t.length)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,o(s))}}))};var ne={};(function(e){var t=e;t.length=function(e){var t=e.length;if(!t)return 0;var n=0;while(--t%4>1&&"="===e.charAt(t))++n;return Math.ceil(3*e.length)/4-n};for(var n=new Array(64),i=new Array(123),r=0;r<64;)i[n[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(e,t,i){var r,a=null,o=[],s=0,c=0;while(t<i){var u=e[t++];switch(c){case 0:o[s++]=n[u>>2],r=(3&u)<<4,c=1;break;case 1:o[s++]=n[r|u>>4],r=(15&u)<<2,c=2;break;case 2:o[s++]=n[r|u>>6],o[s++]=n[63&u],c=0;break}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=n[r],o[s++]=61,1===c&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};t.decode=function(e,t,n){for(var r,a=n,o=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&o>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(o){case 0:r=c,o=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,o=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,o=3;break;case 3:t[n++]=(3&r)<<6|c,o=0;break}}if(1===o)throw Error("invalid encoding");return n-a},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})(ne);var ie=re;function re(){this._listeners={}}re.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},re.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},re.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this};var ae=oe(oe);function oe(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),i=128===n[3];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3]}function a(e,i,r){t[0]=e,i[r]=n[3],i[r+1]=n[2],i[r+2]=n[1],i[r+3]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t[0]}function s(e,i){return n[3]=e[i],n[2]=e[i+1],n[1]=e[i+2],n[0]=e[i+3],t[0]}e.writeFloatLE=i?r:a,e.writeFloatBE=i?a:r,e.readFloatLE=i?o:s,e.readFloatBE=i?s:o}():function(){function t(e,t,n,i){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,n,i);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,n,i);else{var a=Math.floor(Math.log(t)/Math.LN2),o=8388607&Math.round(t*Math.pow(2,-a)*8388608);e((r<<31|a+127<<23|o)>>>0,n,i)}}function n(e,t,n){var i=e(t,n),r=2*(i>>31)+1,a=i>>>23&255,o=8388607&i;return 255===a?o?NaN:r*(1/0):0===a?1401298464324817e-60*r*o:r*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,se),e.writeFloatBE=t.bind(null,ce),e.readFloatLE=n.bind(null,ue),e.readFloatBE=n.bind(null,de)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),i=128===n[7];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3],i[r+4]=n[4],i[r+5]=n[5],i[r+6]=n[6],i[r+7]=n[7]}function a(e,i,r){t[0]=e,i[r]=n[7],i[r+1]=n[6],i[r+2]=n[5],i[r+3]=n[4],i[r+4]=n[3],i[r+5]=n[2],i[r+6]=n[1],i[r+7]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],n[4]=e[i+4],n[5]=e[i+5],n[6]=e[i+6],n[7]=e[i+7],t[0]}function s(e,i){return n[7]=e[i],n[6]=e[i+1],n[5]=e[i+2],n[4]=e[i+3],n[3]=e[i+4],n[2]=e[i+5],n[1]=e[i+6],n[0]=e[i+7],t[0]}e.writeDoubleLE=i?r:a,e.writeDoubleBE=i?a:r,e.readDoubleLE=i?o:s,e.readDoubleBE=i?s:o}():function(){function t(e,t,n,i,r,a){var o=i<0?1:0;if(o&&(i=-i),0===i)e(0,r,a+t),e(1/i>0?0:2147483648,r,a+n);else if(isNaN(i))e(0,r,a+t),e(2146959360,r,a+n);else if(i>17976931348623157e292)e(0,r,a+t),e((o<<31|2146435072)>>>0,r,a+n);else{var s;if(i<22250738585072014e-324)s=i/5e-324,e(s>>>0,r,a+t),e((o<<31|s/4294967296)>>>0,r,a+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),s=i*Math.pow(2,-c),e(4503599627370496*s>>>0,r,a+t),e((o<<31|c+1023<<20|1048576*s&1048575)>>>0,r,a+n)}}}function n(e,t,n,i,r){var a=e(i,r+t),o=e(i,r+n),s=2*(o>>31)+1,c=o>>>20&2047,u=4294967296*(1048575&o)+a;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,se,0,4),e.writeDoubleBE=t.bind(null,ce,4,0),e.readDoubleLE=n.bind(null,ue,0,4),e.readDoubleBE=n.bind(null,de,4,0)}(),e}function se(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function ce(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function ue(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function de(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var le=function(e){try{var t=void 0;t}catch(Ys){}return null};var fe={};(function(e){var t=e;t.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},t.read=function(e,t,n){var i=n-t;if(i<1)return"";var r,a=null,o=[],s=0;while(t<n)r=e[t++],r<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},t.write=function(e,t,n){for(var i,r,a=n,o=0;o<e.length;++o)i=e.charCodeAt(o),i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&56320===(64512&(r=e.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&r),++o,t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128);return n-a}})(fe);var pe,he,ve,me=function(e,t,n){var i=n||8192,r=i>>>1,a=null,o=i;return function(n){if(n<1||n>r)return e(n);o+n>i&&(a=e(i),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}};function ge(){return ve||(ve=1,function(e){var t=e;function n(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;++r)void 0!==e[i[r]]&&n||(e[i[r]]=t[i[r]]);return e}function i(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&n(this,i)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=te,t.base64=ne,t.EventEmitter=ie,t.float=ae,t.inquire=le,t.utf8=fe,t.pool=me,t.LongBits=function(){if(he)return pe;he=1,pe=t;var e=ge();function t(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=t.zero=new t(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var i=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(e){if(0===e)return n;var i=e<0;i&&(e=-e);var r=e>>>0,a=(e-r)/4294967296>>>0;return i&&(a=~a>>>0,r=~r>>>0,++r>4294967295&&(r=0,++a>4294967295&&(a=0))),new t(r,a)},t.from=function(i){if("number"===typeof i)return t.fromNumber(i);if(e.isString(i)){if(!e.Long)return t.fromNumber(parseInt(i,10));i=e.Long.fromString(i)}return i.low||i.high?new t(i.low>>>0,i.high>>>0):n},t.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},t.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var r=String.prototype.charCodeAt;return t.fromHash=function(e){return e===i?n:new t((r.call(e,0)|r.call(e,1)<<8|r.call(e,2)<<16|r.call(e,3)<<24)>>>0,(r.call(e,4)|r.call(e,5)<<8|r.call(e,6)<<16|r.call(e,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},t.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},t.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10},pe}(),t.isNode=Boolean("undefined"!==typeof k&&k&&k.process&&k.process.versions&&k.process.versions.node),t.global=t.isNode&&k||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||k,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"===typeof e||e instanceof String},t.isObject=function(e){return e&&"object"===(0,b.default)(e)},t.isset=t.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==(0,b.default)(n)||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(Ys){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"===typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},t.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,n){var i=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(i.lo,i.hi,n):i.toNumber(Boolean(n))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=i,t.ProtocolError=i("ProtocolError"),t.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},t.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(ee)),ee}var be,ye=Pe,ke=ge(),we=ke.LongBits,Se=ke.base64,Ae=ke.utf8;function Ce(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function xe(){}function Te(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Pe(){this.len=0,this.head=new Ce(xe,0,0),this.tail=this.head,this.states=null}var Ee=function(){return ke.Buffer?function(){return(Pe.create=function(){return new be})()}:function(){return new Pe}};function Re(e,t,n){t[n]=255&e}function Oe(e,t){this.len=e,this.next=void 0,this.val=t}function Ne(e,t,n){while(e.hi)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;while(e.lo>127)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function Ie(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}Pe.create=Ee(),Pe.alloc=function(e){return new ke.Array(e)},ke.Array!==Array&&(Pe.alloc=ke.pool(Pe.alloc,ke.Array.prototype.subarray)),Pe.prototype._push=function(e,t,n){return this.tail=this.tail.next=new Ce(e,t,n),this.len+=t,this},Oe.prototype=Object.create(Ce.prototype),Oe.prototype.fn=function(e,t,n){while(e>127)t[n++]=127&e|128,e>>>=7;t[n]=e},Pe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Oe((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Pe.prototype.int32=function(e){return e<0?this._push(Ne,10,we.fromNumber(e)):this.uint32(e)},Pe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Pe.prototype.uint64=function(e){var t=we.from(e);return this._push(Ne,t.length(),t)},Pe.prototype.int64=Pe.prototype.uint64,Pe.prototype.sint64=function(e){var t=we.from(e).zzEncode();return this._push(Ne,t.length(),t)},Pe.prototype.bool=function(e){return this._push(Re,1,e?1:0)},Pe.prototype.fixed32=function(e){return this._push(Ie,4,e>>>0)},Pe.prototype.sfixed32=Pe.prototype.fixed32,Pe.prototype.fixed64=function(e){var t=we.from(e);return this._push(Ie,4,t.lo)._push(Ie,4,t.hi)},Pe.prototype.sfixed64=Pe.prototype.fixed64,Pe.prototype.float=function(e){return this._push(ke.float.writeFloatLE,4,e)},Pe.prototype.double=function(e){return this._push(ke.float.writeDoubleLE,8,e)};var Me=ke.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};Pe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Re,1,0);if(ke.isString(e)){var n=Pe.alloc(t=Se.length(e));Se.decode(e,n,0),e=n}return this.uint32(t)._push(Me,t,e)},Pe.prototype.string=function(e){var t=Ae.length(e);return t?this.uint32(t)._push(Ae.write,t,e):this._push(Re,1,0)},Pe.prototype.fork=function(){return this.states=new Te(this),this.head=this.tail=new Ce(xe,0,0),this.len=0,this},Pe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ce(xe,0,0),this.len=0),this},Pe.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},Pe.prototype.finish=function(){var e=this.head.next,t=this.constructor.alloc(this.len),n=0;while(e)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},Pe._configure=function(e){be=e,Pe.create=Ee(),be._configure()};var De=Le,Ue=ye;(Le.prototype=Object.create(Ue.prototype)).constructor=Le;var _e=ge();function Le(){Ue.call(this)}function Be(e,t,n){e.length<40?_e.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}Le._configure=function(){Le.alloc=_e._Buffer_allocUnsafe,Le.writeBytesBuffer=_e.Buffer&&_e.Buffer.prototype instanceof Uint8Array&&"set"===_e.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}},Le.prototype.bytes=function(e){_e.isString(e)&&(e=_e._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Le.writeBytesBuffer,t,e),this},Le.prototype.string=function(e){var t=_e.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Be,t,e),this},Le._configure();var je,Fe=We,Ve=ge(),Je=Ve.LongBits,Ge=Ve.utf8;function He(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function We(e){this.buf=e,this.pos=0,this.len=e.length}var Qe="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new We(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new We(e);throw Error("illegal buffer")},qe=function(){return Ve.Buffer?function(e){return(We.create=function(e){return Ve.Buffer.isBuffer(e)?new je(e):Qe(e)})(e)}:Qe};function $e(){var e=new Je(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw He(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw He(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function ze(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function Ze(){if(this.pos+8>this.len)throw He(this,8);return new Je(ze(this.buf,this.pos+=4),ze(this.buf,this.pos+=4))}We.create=qe(),We.prototype._slice=Ve.Array.prototype.subarray||Ve.Array.prototype.slice,We.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,He(this,10);return e}}(),We.prototype.int32=function(){return 0|this.uint32()},We.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},We.prototype.bool=function(){return 0!==this.uint32()},We.prototype.fixed32=function(){if(this.pos+4>this.len)throw He(this,4);return ze(this.buf,this.pos+=4)},We.prototype.sfixed32=function(){if(this.pos+4>this.len)throw He(this,4);return 0|ze(this.buf,this.pos+=4)},We.prototype.float=function(){if(this.pos+4>this.len)throw He(this,4);var e=Ve.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},We.prototype.double=function(){if(this.pos+8>this.len)throw He(this,4);var e=Ve.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},We.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw He(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},We.prototype.string=function(){var e=this.bytes();return Ge.read(e,0,e.length)},We.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw He(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw He(this)}while(128&this.buf[this.pos++]);return this},We.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while(4!==(e=7&this.uint32()))this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},We._configure=function(e){je=e,We.create=qe(),je._configure();var t=Ve.Long?"toLong":"toNumber";Ve.merge(We.prototype,{int64:function(){return $e.call(this)[t](!1)},uint64:function(){return $e.call(this)[t](!0)},sint64:function(){return $e.call(this).zzDecode()[t](!1)},fixed64:function(){return Ze.call(this)[t](!0)},sfixed64:function(){return Ze.call(this)[t](!1)}})};var Ye=et,Ke=Fe;(et.prototype=Object.create(Ke.prototype)).constructor=et;var Xe=ge();function et(e){Ke.call(this,e)}et._configure=function(){Xe.Buffer&&(et.prototype._slice=Xe.Buffer.prototype.slice)},et.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},et._configure();var tt={},nt=rt,it=ge();function rt(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");it.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(rt.prototype=Object.create(it.EventEmitter.prototype)).constructor=rt,rt.prototype.rpcCall=function e(t,n,i,r,a){if(!r)throw TypeError("request must be specified");var o=this;if(!a)return it.asPromise(e,o,t,n,i,r);if(o.rpcImpl)try{return o.rpcImpl(t,n[o.requestDelimited?"encodeDelimited":"encode"](r).finish(),(function(e,n){if(e)return o.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return o.emit("error",e,t),a(e)}return o.emit("data",n,t),a(null,n)}o.end(!0)}))}catch(s){return o.emit("error",s,t),void setTimeout((function(){a(s)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},rt.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){var t=e;t.Service=nt}(tt);var at={};(function(e){var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=ye,t.BufferWriter=De,t.Reader=Fe,t.BufferReader=Ye,t.util=ge(),t.rpc=tt,t.roots=at,t.configure=n,n()})(X),function(e){e.exports=X}(K);var ot,st,ct,ut,dt,lt,ft,pt,ht,vt,mt,gt=w(Y),bt=function(){if("undefined"!==typeof bt)return bt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw"Unable to locate global object"}();function yt(e){switch(e){case 0:case"AUDIO":return ot.AUDIO;case 1:case"VIDEO":return ot.VIDEO;case 2:case"DATA":return ot.DATA;case-1:case"UNRECOGNIZED":default:return ot.UNRECOGNIZED}}function kt(e){switch(e){case ot.AUDIO:return"AUDIO";case ot.VIDEO:return"VIDEO";case ot.DATA:return"DATA";case ot.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function wt(e){switch(e){case 0:case"UNKNOWN":return st.UNKNOWN;case 1:case"CAMERA":return st.CAMERA;case 2:case"MICROPHONE":return st.MICROPHONE;case 3:case"SCREEN_SHARE":return st.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return st.SCREEN_SHARE_AUDIO;case-1:case"UNRECOGNIZED":default:return st.UNRECOGNIZED}}function St(e){switch(e){case st.UNKNOWN:return"UNKNOWN";case st.CAMERA:return"CAMERA";case st.MICROPHONE:return"MICROPHONE";case st.SCREEN_SHARE:return"SCREEN_SHARE";case st.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";case st.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function At(e){switch(e){case 0:case"LOW":return ct.LOW;case 1:case"MEDIUM":return ct.MEDIUM;case 2:case"HIGH":return ct.HIGH;case 3:case"OFF":return ct.OFF;case-1:case"UNRECOGNIZED":default:return ct.UNRECOGNIZED}}function Ct(e){switch(e){case ct.LOW:return"LOW";case ct.MEDIUM:return"MEDIUM";case ct.HIGH:return"HIGH";case ct.OFF:return"OFF";case ct.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function xt(e){switch(e){case 0:case"POOR":return ut.POOR;case 1:case"GOOD":return ut.GOOD;case 2:case"EXCELLENT":return ut.EXCELLENT;case-1:case"UNRECOGNIZED":default:return ut.UNRECOGNIZED}}function Tt(e){switch(e){case 0:case"UNSET":return dt.UNSET;case 1:case"DISABLED":return dt.DISABLED;case 2:case"ENABLED":return dt.ENABLED;case-1:case"UNRECOGNIZED":default:return dt.UNRECOGNIZED}}function Pt(e){switch(e){case dt.UNSET:return"UNSET";case dt.DISABLED:return"DISABLED";case dt.ENABLED:return"ENABLED";case dt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function Et(e){switch(e){case 0:case"UNKNOWN_REASON":return lt.UNKNOWN_REASON;case 1:case"CLIENT_INITIATED":return lt.CLIENT_INITIATED;case 2:case"DUPLICATE_IDENTITY":return lt.DUPLICATE_IDENTITY;case 3:case"SERVER_SHUTDOWN":return lt.SERVER_SHUTDOWN;case 4:case"PARTICIPANT_REMOVED":return lt.PARTICIPANT_REMOVED;case 5:case"ROOM_DELETED":return lt.ROOM_DELETED;case 6:case"STATE_MISMATCH":return lt.STATE_MISMATCH;case 7:case"JOIN_FAILURE":return lt.JOIN_FAILURE;case-1:case"UNRECOGNIZED":default:return lt.UNRECOGNIZED}}function Rt(e){switch(e){case 0:case"JOINING":return ft.JOINING;case 1:case"JOINED":return ft.JOINED;case 2:case"ACTIVE":return ft.ACTIVE;case 3:case"DISCONNECTED":return ft.DISCONNECTED;case-1:case"UNRECOGNIZED":default:return ft.UNRECOGNIZED}}function Ot(e){switch(e){case 0:case"NONE":return pt.NONE;case 1:case"GCM":return pt.GCM;case 2:case"CUSTOM":return pt.CUSTOM;case-1:case"UNRECOGNIZED":default:return pt.UNRECOGNIZED}}function Nt(e){switch(e){case pt.NONE:return"NONE";case pt.GCM:return"GCM";case pt.CUSTOM:return"CUSTOM";case pt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function It(e){switch(e){case 0:case"RELIABLE":return ht.RELIABLE;case 1:case"LOSSY":return ht.LOSSY;case-1:case"UNRECOGNIZED":default:return ht.UNRECOGNIZED}}function Mt(e){switch(e){case 0:case"Standard":return vt.Standard;case 1:case"Cloud":return vt.Cloud;case-1:case"UNRECOGNIZED":default:return vt.UNRECOGNIZED}}function Dt(e){switch(e){case 0:case"UNKNOWN":return mt.UNKNOWN;case 1:case"JS":return mt.JS;case 2:case"SWIFT":return mt.SWIFT;case 3:case"ANDROID":return mt.ANDROID;case 4:case"FLUTTER":return mt.FLUTTER;case 5:case"GO":return mt.GO;case 6:case"UNITY":return mt.UNITY;case-1:case"UNRECOGNIZED":default:return mt.UNRECOGNIZED}}function Ut(){return{sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,activeRecording:!1}}gt.util.Long!==P&&(gt.util.Long=P,gt.configure()),function(e){e[e["AUDIO"]=0]="AUDIO",e[e["VIDEO"]=1]="VIDEO",e[e["DATA"]=2]="DATA",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(ot||(ot={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["CAMERA"]=1]="CAMERA",e[e["MICROPHONE"]=2]="MICROPHONE",e[e["SCREEN_SHARE"]=3]="SCREEN_SHARE",e[e["SCREEN_SHARE_AUDIO"]=4]="SCREEN_SHARE_AUDIO",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(st||(st={})),t.VideoQuality=ct,function(e){e[e["LOW"]=0]="LOW",e[e["MEDIUM"]=1]="MEDIUM",e[e["HIGH"]=2]="HIGH",e[e["OFF"]=3]="OFF",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(ct||(t.VideoQuality=ct={})),function(e){e[e["POOR"]=0]="POOR",e[e["GOOD"]=1]="GOOD",e[e["EXCELLENT"]=2]="EXCELLENT",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(ut||(ut={})),function(e){e[e["UNSET"]=0]="UNSET",e[e["DISABLED"]=1]="DISABLED",e[e["ENABLED"]=2]="ENABLED",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(dt||(dt={})),t.DisconnectReason=lt,function(e){e[e["UNKNOWN_REASON"]=0]="UNKNOWN_REASON",e[e["CLIENT_INITIATED"]=1]="CLIENT_INITIATED",e[e["DUPLICATE_IDENTITY"]=2]="DUPLICATE_IDENTITY",e[e["SERVER_SHUTDOWN"]=3]="SERVER_SHUTDOWN",e[e["PARTICIPANT_REMOVED"]=4]="PARTICIPANT_REMOVED",e[e["ROOM_DELETED"]=5]="ROOM_DELETED",e[e["STATE_MISMATCH"]=6]="STATE_MISMATCH",e[e["JOIN_FAILURE"]=7]="JOIN_FAILURE",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(lt||(t.DisconnectReason=lt={})),function(e){e[e["JOINING"]=0]="JOINING",e[e["JOINED"]=1]="JOINED",e[e["ACTIVE"]=2]="ACTIVE",e[e["DISCONNECTED"]=3]="DISCONNECTED",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(ft||(ft={})),function(e){e[e["NONE"]=0]="NONE",e[e["GCM"]=1]="GCM",e[e["CUSTOM"]=2]="CUSTOM",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(pt||(pt={})),t.DataPacket_Kind=ht,function(e){e[e["RELIABLE"]=0]="RELIABLE",e[e["LOSSY"]=1]="LOSSY",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(ht||(t.DataPacket_Kind=ht={})),function(e){e[e["Standard"]=0]="Standard",e[e["Cloud"]=1]="Cloud",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(vt||(vt={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["JS"]=1]="JS",e[e["SWIFT"]=2]="SWIFT",e[e["ANDROID"]=3]="ANDROID",e[e["FLUTTER"]=4]="FLUTTER",e[e["GO"]=5]="GO",e[e["UNITY"]=6]="UNITY",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(mt||(mt={}));var _t={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.name&&t.uint32(18).string(e.name),0!==e.emptyTimeout&&t.uint32(24).uint32(e.emptyTimeout),0!==e.maxParticipants&&t.uint32(32).uint32(e.maxParticipants),0!==e.creationTime&&t.uint32(40).int64(e.creationTime),""!==e.turnPassword&&t.uint32(50).string(e.turnPassword);var n,i=(0,g.default)(e.enabledCodecs);try{for(i.s();!(n=i.n()).done;){var r=n.value;Bt.encode(r,t.uint32(58).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return""!==e.metadata&&t.uint32(66).string(e.metadata),0!==e.numParticipants&&t.uint32(72).uint32(e.numParticipants),!0===e.activeRecording&&t.uint32(80).bool(e.activeRecording),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Ut();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sid=n.string();break;case 2:r.name=n.string();break;case 3:r.emptyTimeout=n.uint32();break;case 4:r.maxParticipants=n.uint32();break;case 5:r.creationTime=bn(n.int64());break;case 6:r.turnPassword=n.string();break;case 7:r.enabledCodecs.push(Bt.decode(n,n.uint32()));break;case 8:r.metadata=n.string();break;case 9:r.numParticipants=n.uint32();break;case 10:r.activeRecording=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sid:yn(e.sid)?String(e.sid):"",name:yn(e.name)?String(e.name):"",emptyTimeout:yn(e.emptyTimeout)?Number(e.emptyTimeout):0,maxParticipants:yn(e.maxParticipants)?Number(e.maxParticipants):0,creationTime:yn(e.creationTime)?Number(e.creationTime):0,turnPassword:yn(e.turnPassword)?String(e.turnPassword):"",enabledCodecs:Array.isArray(null===e||void 0===e?void 0:e.enabledCodecs)?e.enabledCodecs.map((function(e){return Bt.fromJSON(e)})):[],metadata:yn(e.metadata)?String(e.metadata):"",numParticipants:yn(e.numParticipants)?Number(e.numParticipants):0,activeRecording:!!yn(e.activeRecording)&&Boolean(e.activeRecording)}},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.name&&(t.name=e.name),void 0!==e.emptyTimeout&&(t.emptyTimeout=Math.round(e.emptyTimeout)),void 0!==e.maxParticipants&&(t.maxParticipants=Math.round(e.maxParticipants)),void 0!==e.creationTime&&(t.creationTime=Math.round(e.creationTime)),void 0!==e.turnPassword&&(t.turnPassword=e.turnPassword),e.enabledCodecs?t.enabledCodecs=e.enabledCodecs.map((function(e){return e?Bt.toJSON(e):void 0})):t.enabledCodecs=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.numParticipants&&(t.numParticipants=Math.round(e.numParticipants)),void 0!==e.activeRecording&&(t.activeRecording=e.activeRecording),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l=Ut();return l.sid=null!==(t=e.sid)&&void 0!==t?t:"",l.name=null!==(n=e.name)&&void 0!==n?n:"",l.emptyTimeout=null!==(i=e.emptyTimeout)&&void 0!==i?i:0,l.maxParticipants=null!==(r=e.maxParticipants)&&void 0!==r?r:0,l.creationTime=null!==(a=e.creationTime)&&void 0!==a?a:0,l.turnPassword=null!==(o=e.turnPassword)&&void 0!==o?o:"",l.enabledCodecs=(null===(s=e.enabledCodecs)||void 0===s?void 0:s.map((function(e){return Bt.fromPartial(e)})))||[],l.metadata=null!==(c=e.metadata)&&void 0!==c?c:"",l.numParticipants=null!==(u=e.numParticipants)&&void 0!==u?u:0,l.activeRecording=null!==(d=e.activeRecording)&&void 0!==d&&d,l}};function Lt(){return{mime:"",fmtpLine:""}}var Bt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.mime&&t.uint32(10).string(e.mime),""!==e.fmtpLine&&t.uint32(18).string(e.fmtpLine),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Lt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.mime=n.string();break;case 2:r.fmtpLine=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{mime:yn(e.mime)?String(e.mime):"",fmtpLine:yn(e.fmtpLine)?String(e.fmtpLine):""}},toJSON:function(e){var t={};return void 0!==e.mime&&(t.mime=e.mime),void 0!==e.fmtpLine&&(t.fmtpLine=e.fmtpLine),t},fromPartial:function(e){var t,n,i=Lt();return i.mime=null!==(t=e.mime)&&void 0!==t?t:"",i.fmtpLine=null!==(n=e.fmtpLine)&&void 0!==n?n:"",i}};function jt(){return{canSubscribe:!1,canPublish:!1,canPublishData:!1,hidden:!1,recorder:!1}}var Ft={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return!0===e.canSubscribe&&t.uint32(8).bool(e.canSubscribe),!0===e.canPublish&&t.uint32(16).bool(e.canPublish),!0===e.canPublishData&&t.uint32(24).bool(e.canPublishData),!0===e.hidden&&t.uint32(56).bool(e.hidden),!0===e.recorder&&t.uint32(64).bool(e.recorder),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=jt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.canSubscribe=n.bool();break;case 2:r.canPublish=n.bool();break;case 3:r.canPublishData=n.bool();break;case 7:r.hidden=n.bool();break;case 8:r.recorder=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{canSubscribe:!!yn(e.canSubscribe)&&Boolean(e.canSubscribe),canPublish:!!yn(e.canPublish)&&Boolean(e.canPublish),canPublishData:!!yn(e.canPublishData)&&Boolean(e.canPublishData),hidden:!!yn(e.hidden)&&Boolean(e.hidden),recorder:!!yn(e.recorder)&&Boolean(e.recorder)}},toJSON:function(e){var t={};return void 0!==e.canSubscribe&&(t.canSubscribe=e.canSubscribe),void 0!==e.canPublish&&(t.canPublish=e.canPublish),void 0!==e.canPublishData&&(t.canPublishData=e.canPublishData),void 0!==e.hidden&&(t.hidden=e.hidden),void 0!==e.recorder&&(t.recorder=e.recorder),t},fromPartial:function(e){var t,n,i,r,a,o=jt();return o.canSubscribe=null!==(t=e.canSubscribe)&&void 0!==t&&t,o.canPublish=null!==(n=e.canPublish)&&void 0!==n&&n,o.canPublishData=null!==(i=e.canPublishData)&&void 0!==i&&i,o.hidden=null!==(r=e.hidden)&&void 0!==r&&r,o.recorder=null!==(a=e.recorder)&&void 0!==a&&a,o}};function Vt(){return{sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1}}var Jt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),""!==e.identity&&t.uint32(18).string(e.identity),0!==e.state&&t.uint32(24).int32(e.state);var n,i=(0,g.default)(e.tracks);try{for(i.s();!(n=i.n()).done;){var r=n.value;Qt.encode(r,t.uint32(34).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return""!==e.metadata&&t.uint32(42).string(e.metadata),0!==e.joinedAt&&t.uint32(48).int64(e.joinedAt),""!==e.name&&t.uint32(74).string(e.name),0!==e.version&&t.uint32(80).uint32(e.version),void 0!==e.permission&&Ft.encode(e.permission,t.uint32(90).fork()).ldelim(),""!==e.region&&t.uint32(98).string(e.region),!0===e.isPublisher&&t.uint32(104).bool(e.isPublisher),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Vt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sid=n.string();break;case 2:r.identity=n.string();break;case 3:r.state=n.int32();break;case 4:r.tracks.push(Qt.decode(n,n.uint32()));break;case 5:r.metadata=n.string();break;case 6:r.joinedAt=bn(n.int64());break;case 9:r.name=n.string();break;case 10:r.version=n.uint32();break;case 11:r.permission=Ft.decode(n,n.uint32());break;case 12:r.region=n.string();break;case 13:r.isPublisher=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sid:yn(e.sid)?String(e.sid):"",identity:yn(e.identity)?String(e.identity):"",state:yn(e.state)?Rt(e.state):0,tracks:Array.isArray(null===e||void 0===e?void 0:e.tracks)?e.tracks.map((function(e){return Qt.fromJSON(e)})):[],metadata:yn(e.metadata)?String(e.metadata):"",joinedAt:yn(e.joinedAt)?Number(e.joinedAt):0,name:yn(e.name)?String(e.name):"",version:yn(e.version)?Number(e.version):0,permission:yn(e.permission)?Ft.fromJSON(e.permission):void 0,region:yn(e.region)?String(e.region):"",isPublisher:!!yn(e.isPublisher)&&Boolean(e.isPublisher)}},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.identity&&(t.identity=e.identity),void 0!==e.state&&(t.state=function(e){switch(e){case ft.JOINING:return"JOINING";case ft.JOINED:return"JOINED";case ft.ACTIVE:return"ACTIVE";case ft.DISCONNECTED:return"DISCONNECTED";case ft.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.state)),e.tracks?t.tracks=e.tracks.map((function(e){return e?Qt.toJSON(e):void 0})):t.tracks=[],void 0!==e.metadata&&(t.metadata=e.metadata),void 0!==e.joinedAt&&(t.joinedAt=Math.round(e.joinedAt)),void 0!==e.name&&(t.name=e.name),void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.permission&&(t.permission=e.permission?Ft.toJSON(e.permission):void 0),void 0!==e.region&&(t.region=e.region),void 0!==e.isPublisher&&(t.isPublisher=e.isPublisher),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l=Vt();return l.sid=null!==(t=e.sid)&&void 0!==t?t:"",l.identity=null!==(n=e.identity)&&void 0!==n?n:"",l.state=null!==(i=e.state)&&void 0!==i?i:0,l.tracks=(null===(r=e.tracks)||void 0===r?void 0:r.map((function(e){return Qt.fromPartial(e)})))||[],l.metadata=null!==(a=e.metadata)&&void 0!==a?a:"",l.joinedAt=null!==(o=e.joinedAt)&&void 0!==o?o:0,l.name=null!==(s=e.name)&&void 0!==s?s:"",l.version=null!==(c=e.version)&&void 0!==c?c:0,l.permission=void 0!==e.permission&&null!==e.permission?Ft.fromPartial(e.permission):void 0,l.region=null!==(u=e.region)&&void 0!==u?u:"",l.isPublisher=null!==(d=e.isPublisher)&&void 0!==d&&d,l}};function Gt(){return{mimeType:"",mid:"",cid:"",layers:[]}}var Ht={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.mimeType&&t.uint32(10).string(e.mimeType),""!==e.mid&&t.uint32(18).string(e.mid),""!==e.cid&&t.uint32(26).string(e.cid);var n,i=(0,g.default)(e.layers);try{for(i.s();!(n=i.n()).done;){var r=n.value;$t.encode(r,t.uint32(34).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Gt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.mimeType=n.string();break;case 2:r.mid=n.string();break;case 3:r.cid=n.string();break;case 4:r.layers.push($t.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{mimeType:yn(e.mimeType)?String(e.mimeType):"",mid:yn(e.mid)?String(e.mid):"",cid:yn(e.cid)?String(e.cid):"",layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((function(e){return $t.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),void 0!==e.cid&&(t.cid=e.cid),e.layers?t.layers=e.layers.map((function(e){return e?$t.toJSON(e):void 0})):t.layers=[],t},fromPartial:function(e){var t,n,i,r,a=Gt();return a.mimeType=null!==(t=e.mimeType)&&void 0!==t?t:"",a.mid=null!==(n=e.mid)&&void 0!==n?n:"",a.cid=null!==(i=e.cid)&&void 0!==i?i:"",a.layers=(null===(r=e.layers)||void 0===r?void 0:r.map((function(e){return $t.fromPartial(e)})))||[],a}};function Wt(){return{sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[],stereo:!1,disableRed:!1,encryption:0}}var Qt={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.sid&&t.uint32(10).string(e.sid),0!==e.type&&t.uint32(16).int32(e.type),""!==e.name&&t.uint32(26).string(e.name),!0===e.muted&&t.uint32(32).bool(e.muted),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),!0===e.simulcast&&t.uint32(56).bool(e.simulcast),!0===e.disableDtx&&t.uint32(64).bool(e.disableDtx),0!==e.source&&t.uint32(72).int32(e.source);var n,i=(0,g.default)(e.layers);try{for(i.s();!(n=i.n()).done;){var r=n.value;$t.encode(r,t.uint32(82).fork()).ldelim()}}catch(c){i.e(c)}finally{i.f()}""!==e.mimeType&&t.uint32(90).string(e.mimeType),""!==e.mid&&t.uint32(98).string(e.mid);var a,o=(0,g.default)(e.codecs);try{for(o.s();!(a=o.n()).done;){var s=a.value;Ht.encode(s,t.uint32(106).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return!0===e.stereo&&t.uint32(112).bool(e.stereo),!0===e.disableRed&&t.uint32(120).bool(e.disableRed),0!==e.encryption&&t.uint32(128).int32(e.encryption),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Wt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sid=n.string();break;case 2:r.type=n.int32();break;case 3:r.name=n.string();break;case 4:r.muted=n.bool();break;case 5:r.width=n.uint32();break;case 6:r.height=n.uint32();break;case 7:r.simulcast=n.bool();break;case 8:r.disableDtx=n.bool();break;case 9:r.source=n.int32();break;case 10:r.layers.push($t.decode(n,n.uint32()));break;case 11:r.mimeType=n.string();break;case 12:r.mid=n.string();break;case 13:r.codecs.push(Ht.decode(n,n.uint32()));break;case 14:r.stereo=n.bool();break;case 15:r.disableRed=n.bool();break;case 16:r.encryption=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sid:yn(e.sid)?String(e.sid):"",type:yn(e.type)?yt(e.type):0,name:yn(e.name)?String(e.name):"",muted:!!yn(e.muted)&&Boolean(e.muted),width:yn(e.width)?Number(e.width):0,height:yn(e.height)?Number(e.height):0,simulcast:!!yn(e.simulcast)&&Boolean(e.simulcast),disableDtx:!!yn(e.disableDtx)&&Boolean(e.disableDtx),source:yn(e.source)?wt(e.source):0,layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((function(e){return $t.fromJSON(e)})):[],mimeType:yn(e.mimeType)?String(e.mimeType):"",mid:yn(e.mid)?String(e.mid):"",codecs:Array.isArray(null===e||void 0===e?void 0:e.codecs)?e.codecs.map((function(e){return Ht.fromJSON(e)})):[],stereo:!!yn(e.stereo)&&Boolean(e.stereo),disableRed:!!yn(e.disableRed)&&Boolean(e.disableRed),encryption:yn(e.encryption)?Ot(e.encryption):0}},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.type&&(t.type=kt(e.type)),void 0!==e.name&&(t.name=e.name),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.simulcast&&(t.simulcast=e.simulcast),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=St(e.source)),e.layers?t.layers=e.layers.map((function(e){return e?$t.toJSON(e):void 0})):t.layers=[],void 0!==e.mimeType&&(t.mimeType=e.mimeType),void 0!==e.mid&&(t.mid=e.mid),e.codecs?t.codecs=e.codecs.map((function(e){return e?Ht.toJSON(e):void 0})):t.codecs=[],void 0!==e.stereo&&(t.stereo=e.stereo),void 0!==e.disableRed&&(t.disableRed=e.disableRed),void 0!==e.encryption&&(t.encryption=Nt(e.encryption)),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g=Wt();return g.sid=null!==(t=e.sid)&&void 0!==t?t:"",g.type=null!==(n=e.type)&&void 0!==n?n:0,g.name=null!==(i=e.name)&&void 0!==i?i:"",g.muted=null!==(r=e.muted)&&void 0!==r&&r,g.width=null!==(a=e.width)&&void 0!==a?a:0,g.height=null!==(o=e.height)&&void 0!==o?o:0,g.simulcast=null!==(s=e.simulcast)&&void 0!==s&&s,g.disableDtx=null!==(c=e.disableDtx)&&void 0!==c&&c,g.source=null!==(u=e.source)&&void 0!==u?u:0,g.layers=(null===(d=e.layers)||void 0===d?void 0:d.map((function(e){return $t.fromPartial(e)})))||[],g.mimeType=null!==(l=e.mimeType)&&void 0!==l?l:"",g.mid=null!==(f=e.mid)&&void 0!==f?f:"",g.codecs=(null===(p=e.codecs)||void 0===p?void 0:p.map((function(e){return Ht.fromPartial(e)})))||[],g.stereo=null!==(h=e.stereo)&&void 0!==h&&h,g.disableRed=null!==(v=e.disableRed)&&void 0!==v&&v,g.encryption=null!==(m=e.encryption)&&void 0!==m?m:0,g}};function qt(){return{quality:0,width:0,height:0,bitrate:0,ssrc:0}}var $t={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),0!==e.width&&t.uint32(16).uint32(e.width),0!==e.height&&t.uint32(24).uint32(e.height),0!==e.bitrate&&t.uint32(32).uint32(e.bitrate),0!==e.ssrc&&t.uint32(40).uint32(e.ssrc),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=qt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.quality=n.int32();break;case 2:r.width=n.uint32();break;case 3:r.height=n.uint32();break;case 4:r.bitrate=n.uint32();break;case 5:r.ssrc=n.uint32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{quality:yn(e.quality)?At(e.quality):0,width:yn(e.width)?Number(e.width):0,height:yn(e.height)?Number(e.height):0,bitrate:yn(e.bitrate)?Number(e.bitrate):0,ssrc:yn(e.ssrc)?Number(e.ssrc):0}},toJSON:function(e){var t={};return void 0!==e.quality&&(t.quality=Ct(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.bitrate&&(t.bitrate=Math.round(e.bitrate)),void 0!==e.ssrc&&(t.ssrc=Math.round(e.ssrc)),t},fromPartial:function(e){var t,n,i,r,a,o=qt();return o.quality=null!==(t=e.quality)&&void 0!==t?t:0,o.width=null!==(n=e.width)&&void 0!==n?n:0,o.height=null!==(i=e.height)&&void 0!==i?i:0,o.bitrate=null!==(r=e.bitrate)&&void 0!==r?r:0,o.ssrc=null!==(a=e.ssrc)&&void 0!==a?a:0,o}};function zt(){return{kind:0,value:void 0}}var Zt={encode:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.kind&&i.uint32(8).int32(e.kind),"user"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&nn.encode(e.value.user,i.uint32(18).fork()).ldelim(),"speaker"===(null===(n=e.value)||void 0===n?void 0:n.$case)&&Kt.encode(e.value.speaker,i.uint32(26).fork()).ldelim(),i},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=zt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.kind=n.int32();break;case 2:r.value={$case:"user",user:nn.decode(n,n.uint32())};break;case 3:r.value={$case:"speaker",speaker:Kt.decode(n,n.uint32())};break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{kind:yn(e.kind)?It(e.kind):0,value:yn(e.user)?{$case:"user",user:nn.fromJSON(e.user)}:yn(e.speaker)?{$case:"speaker",speaker:Kt.fromJSON(e.speaker)}:void 0}},toJSON:function(e){var t,n,i,r,a,o,s={};return void 0!==e.kind&&(s.kind=function(e){switch(e){case ht.RELIABLE:return"RELIABLE";case ht.LOSSY:return"LOSSY";case ht.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.kind)),"user"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&(s.user=(null===(n=e.value)||void 0===n?void 0:n.user)?nn.toJSON(null===(i=e.value)||void 0===i?void 0:i.user):void 0),"speaker"===(null===(r=e.value)||void 0===r?void 0:r.$case)&&(s.speaker=(null===(a=e.value)||void 0===a?void 0:a.speaker)?Kt.toJSON(null===(o=e.value)||void 0===o?void 0:o.speaker):void 0),s},fromPartial:function(e){var t,n,i,r,a,o,s,c=zt();return c.kind=null!==(t=e.kind)&&void 0!==t?t:0,"user"===(null===(n=e.value)||void 0===n?void 0:n.$case)&&void 0!==(null===(i=e.value)||void 0===i?void 0:i.user)&&null!==(null===(r=e.value)||void 0===r?void 0:r.user)&&(c.value={$case:"user",user:nn.fromPartial(e.value.user)}),"speaker"===(null===(a=e.value)||void 0===a?void 0:a.$case)&&void 0!==(null===(o=e.value)||void 0===o?void 0:o.speaker)&&null!==(null===(s=e.value)||void 0===s?void 0:s.speaker)&&(c.value={$case:"speaker",speaker:Kt.fromPartial(e.value.speaker)}),c}};function Yt(){return{speakers:[]}}var Kt={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.speakers);try{for(i.s();!(t=i.n()).done;){var r=t.value;en.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Yt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.speakers.push(en.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{speakers:Array.isArray(null===e||void 0===e?void 0:e.speakers)?e.speakers.map((function(e){return en.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.speakers?t.speakers=e.speakers.map((function(e){return e?en.toJSON(e):void 0})):t.speakers=[],t},fromPartial:function(e){var t,n=Yt();return n.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((function(e){return en.fromPartial(e)})))||[],n}};function Xt(){return{sid:"",level:0,active:!1}}var en={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),0!==e.level&&t.uint32(21).float(e.level),!0===e.active&&t.uint32(24).bool(e.active),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Xt();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sid=n.string();break;case 2:r.level=n.float();break;case 3:r.active=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sid:yn(e.sid)?String(e.sid):"",level:yn(e.level)?Number(e.level):0,active:!!yn(e.active)&&Boolean(e.active)}},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.level&&(t.level=e.level),void 0!==e.active&&(t.active=e.active),t},fromPartial:function(e){var t,n,i,r=Xt();return r.sid=null!==(t=e.sid)&&void 0!==t?t:"",r.level=null!==(n=e.level)&&void 0!==n?n:0,r.active=null!==(i=e.active)&&void 0!==i&&i,r}};function tn(){return{participantSid:"",payload:new Uint8Array,destinationSids:[]}}var nn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.payload.length&&t.uint32(18).bytes(e.payload);var n,i=(0,g.default)(e.destinationSids);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.uint32(26).string(r)}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=tn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.payload=n.bytes();break;case 3:r.destinationSids.push(n.string());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:yn(e.participantSid)?String(e.participantSid):"",payload:yn(e.payload)?gn(e.payload):new Uint8Array,destinationSids:Array.isArray(null===e||void 0===e?void 0:e.destinationSids)?e.destinationSids.map((function(e){return String(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.payload&&(t.payload=function(e){if(mn.Buffer)return mn.Buffer.from(e).toString("base64");var t=[];return e.forEach((function(e){t.push(String.fromCharCode(e))})),mn.btoa(t.join(""))}(void 0!==e.payload?e.payload:new Uint8Array)),e.destinationSids?t.destinationSids=e.destinationSids.map((function(e){return e})):t.destinationSids=[],t},fromPartial:function(e){var t,n,i,r=tn();return r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.payload=null!==(n=e.payload)&&void 0!==n?n:new Uint8Array,r.destinationSids=(null===(i=e.destinationSids)||void 0===i?void 0:i.map((function(e){return e})))||[],r}};function rn(){return{participantSid:"",trackSids:[]}}var an={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid);var n,i=(0,g.default)(e.trackSids);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.uint32(18).string(r)}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=rn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.trackSids.push(n.string());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:yn(e.participantSid)?String(e.participantSid):"",trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((function(e){return String(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],t},fromPartial:function(e){var t,n,i=rn();return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.trackSids=(null===(n=e.trackSids)||void 0===n?void 0:n.map((function(e){return e})))||[],i}};function on(){return{edition:0,version:"",protocol:0,region:"",nodeId:"",debugInfo:""}}var sn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.edition&&t.uint32(8).int32(e.edition),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.region&&t.uint32(34).string(e.region),""!==e.nodeId&&t.uint32(42).string(e.nodeId),""!==e.debugInfo&&t.uint32(50).string(e.debugInfo),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=on();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.edition=n.int32();break;case 2:r.version=n.string();break;case 3:r.protocol=n.int32();break;case 4:r.region=n.string();break;case 5:r.nodeId=n.string();break;case 6:r.debugInfo=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{edition:yn(e.edition)?Mt(e.edition):0,version:yn(e.version)?String(e.version):"",protocol:yn(e.protocol)?Number(e.protocol):0,region:yn(e.region)?String(e.region):"",nodeId:yn(e.nodeId)?String(e.nodeId):"",debugInfo:yn(e.debugInfo)?String(e.debugInfo):""}},toJSON:function(e){var t={};return void 0!==e.edition&&(t.edition=function(e){switch(e){case vt.Standard:return"Standard";case vt.Cloud:return"Cloud";case vt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.edition)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=Math.round(e.protocol)),void 0!==e.region&&(t.region=e.region),void 0!==e.nodeId&&(t.nodeId=e.nodeId),void 0!==e.debugInfo&&(t.debugInfo=e.debugInfo),t},fromPartial:function(e){var t,n,i,r,a,o,s=on();return s.edition=null!==(t=e.edition)&&void 0!==t?t:0,s.version=null!==(n=e.version)&&void 0!==n?n:"",s.protocol=null!==(i=e.protocol)&&void 0!==i?i:0,s.region=null!==(r=e.region)&&void 0!==r?r:"",s.nodeId=null!==(a=e.nodeId)&&void 0!==a?a:"",s.debugInfo=null!==(o=e.debugInfo)&&void 0!==o?o:"",s}};function cn(){return{sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:"",network:""}}var un={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.sdk&&t.uint32(8).int32(e.sdk),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.os&&t.uint32(34).string(e.os),""!==e.osVersion&&t.uint32(42).string(e.osVersion),""!==e.deviceModel&&t.uint32(50).string(e.deviceModel),""!==e.browser&&t.uint32(58).string(e.browser),""!==e.browserVersion&&t.uint32(66).string(e.browserVersion),""!==e.address&&t.uint32(74).string(e.address),""!==e.network&&t.uint32(82).string(e.network),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=cn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sdk=n.int32();break;case 2:r.version=n.string();break;case 3:r.protocol=n.int32();break;case 4:r.os=n.string();break;case 5:r.osVersion=n.string();break;case 6:r.deviceModel=n.string();break;case 7:r.browser=n.string();break;case 8:r.browserVersion=n.string();break;case 9:r.address=n.string();break;case 10:r.network=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sdk:yn(e.sdk)?Dt(e.sdk):0,version:yn(e.version)?String(e.version):"",protocol:yn(e.protocol)?Number(e.protocol):0,os:yn(e.os)?String(e.os):"",osVersion:yn(e.osVersion)?String(e.osVersion):"",deviceModel:yn(e.deviceModel)?String(e.deviceModel):"",browser:yn(e.browser)?String(e.browser):"",browserVersion:yn(e.browserVersion)?String(e.browserVersion):"",address:yn(e.address)?String(e.address):"",network:yn(e.network)?String(e.network):""}},toJSON:function(e){var t={};return void 0!==e.sdk&&(t.sdk=function(e){switch(e){case mt.UNKNOWN:return"UNKNOWN";case mt.JS:return"JS";case mt.SWIFT:return"SWIFT";case mt.ANDROID:return"ANDROID";case mt.FLUTTER:return"FLUTTER";case mt.GO:return"GO";case mt.UNITY:return"UNITY";case mt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.sdk)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=Math.round(e.protocol)),void 0!==e.os&&(t.os=e.os),void 0!==e.osVersion&&(t.osVersion=e.osVersion),void 0!==e.deviceModel&&(t.deviceModel=e.deviceModel),void 0!==e.browser&&(t.browser=e.browser),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.address&&(t.address=e.address),void 0!==e.network&&(t.network=e.network),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l=cn();return l.sdk=null!==(t=e.sdk)&&void 0!==t?t:0,l.version=null!==(n=e.version)&&void 0!==n?n:"",l.protocol=null!==(i=e.protocol)&&void 0!==i?i:0,l.os=null!==(r=e.os)&&void 0!==r?r:"",l.osVersion=null!==(a=e.osVersion)&&void 0!==a?a:"",l.deviceModel=null!==(o=e.deviceModel)&&void 0!==o?o:"",l.browser=null!==(s=e.browser)&&void 0!==s?s:"",l.browserVersion=null!==(c=e.browserVersion)&&void 0!==c?c:"",l.address=null!==(u=e.address)&&void 0!==u?u:"",l.network=null!==(d=e.network)&&void 0!==d?d:"",l}};function dn(){return{video:void 0,screen:void 0,resumeConnection:0,disabledCodecs:void 0,forceRelay:0}}var ln={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return void 0!==e.video&&pn.encode(e.video,t.uint32(10).fork()).ldelim(),void 0!==e.screen&&pn.encode(e.screen,t.uint32(18).fork()).ldelim(),0!==e.resumeConnection&&t.uint32(24).int32(e.resumeConnection),void 0!==e.disabledCodecs&&vn.encode(e.disabledCodecs,t.uint32(34).fork()).ldelim(),0!==e.forceRelay&&t.uint32(40).int32(e.forceRelay),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=dn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.video=pn.decode(n,n.uint32());break;case 2:r.screen=pn.decode(n,n.uint32());break;case 3:r.resumeConnection=n.int32();break;case 4:r.disabledCodecs=vn.decode(n,n.uint32());break;case 5:r.forceRelay=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{video:yn(e.video)?pn.fromJSON(e.video):void 0,screen:yn(e.screen)?pn.fromJSON(e.screen):void 0,resumeConnection:yn(e.resumeConnection)?Tt(e.resumeConnection):0,disabledCodecs:yn(e.disabledCodecs)?vn.fromJSON(e.disabledCodecs):void 0,forceRelay:yn(e.forceRelay)?Tt(e.forceRelay):0}},toJSON:function(e){var t={};return void 0!==e.video&&(t.video=e.video?pn.toJSON(e.video):void 0),void 0!==e.screen&&(t.screen=e.screen?pn.toJSON(e.screen):void 0),void 0!==e.resumeConnection&&(t.resumeConnection=Pt(e.resumeConnection)),void 0!==e.disabledCodecs&&(t.disabledCodecs=e.disabledCodecs?vn.toJSON(e.disabledCodecs):void 0),void 0!==e.forceRelay&&(t.forceRelay=Pt(e.forceRelay)),t},fromPartial:function(e){var t,n,i=dn();return i.video=void 0!==e.video&&null!==e.video?pn.fromPartial(e.video):void 0,i.screen=void 0!==e.screen&&null!==e.screen?pn.fromPartial(e.screen):void 0,i.resumeConnection=null!==(t=e.resumeConnection)&&void 0!==t?t:0,i.disabledCodecs=void 0!==e.disabledCodecs&&null!==e.disabledCodecs?vn.fromPartial(e.disabledCodecs):void 0,i.forceRelay=null!==(n=e.forceRelay)&&void 0!==n?n:0,i}};function fn(){return{hardwareEncoder:0}}var pn={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.hardwareEncoder&&t.uint32(8).int32(e.hardwareEncoder),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=fn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.hardwareEncoder=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{hardwareEncoder:yn(e.hardwareEncoder)?Tt(e.hardwareEncoder):0}},toJSON:function(e){var t={};return void 0!==e.hardwareEncoder&&(t.hardwareEncoder=Pt(e.hardwareEncoder)),t},fromPartial:function(e){var t,n=fn();return n.hardwareEncoder=null!==(t=e.hardwareEncoder)&&void 0!==t?t:0,n}};function hn(){return{codecs:[]}}var vn={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.codecs);try{for(i.s();!(t=i.n()).done;){var r=t.value;Bt.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=hn();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.codecs.push(Bt.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{codecs:Array.isArray(null===e||void 0===e?void 0:e.codecs)?e.codecs.map((function(e){return Bt.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.codecs?t.codecs=e.codecs.map((function(e){return e?Bt.toJSON(e):void 0})):t.codecs=[],t},fromPartial:function(e){var t,n=hn();return n.codecs=(null===(t=e.codecs)||void 0===t?void 0:t.map((function(e){return Bt.fromPartial(e)})))||[],n}},mn=function(){if("undefined"!==typeof mn)return mn;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw"Unable to locate global object"}();function gn(e){if(mn.Buffer)return Uint8Array.from(mn.Buffer.from(e,"base64"));for(var t=mn.atob(e),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}function bn(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new mn.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function yn(e){return null!==e&&void 0!==e}gt.util.Long!==P&&(gt.util.Long=P,gt.configure());var kn=[0,300,1200,2700,4800,7e3,7e3,7e3,7e3,7e3],wn=function(){function e(t){(0,v.default)(this,e),this._retryDelays=void 0!==t?(0,h.default)(t):kn}return(0,m.default)(e,[{key:"nextRetryDelayInMs",value:function(e){if(e.retryCount>=this._retryDelays.length)return null;var t=this._retryDelays[e.retryCount];return e.retryCount<=1?t:t+1e3*Math.random()}}]),e}();function Sn(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new An(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function An(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return An=function(e){this.s=e,this.n=e.next},An.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new An(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return t=function(e){var t=function(e,t){if("object"!==(0,b.default)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,b.default)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,b.default)(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.DefaultReconnectPolicy=wn;var Pn=!0,En=!0;function Rn(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function On(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);var a=function(e){var t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,a),r.apply(this,[e,a])};var a=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);var i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function Nn(e){return"boolean"!==typeof e?new Error("Argument type: "+(0,b.default)(e)+". Please use a boolean."):(Pn=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function In(e){return"boolean"!==typeof e?new Error("Argument type: "+(0,b.default)(e)+". Please use a boolean."):(En=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Mn(){if("object"===("undefined"===typeof window?"undefined":(0,b.default)(window))){if(Pn)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function Dn(e,t){En&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Un(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=Rn(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Rn(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Rn(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function _n(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ln(e){return _n(e)?Object.keys(e).reduce((function(t,n){var i=_n(e[n]),r=i?Ln(e[n]):e[n],a=i&&!Object.keys(r).length;return void 0===r||a?t:Object.assign(t,(0,p.default)({},n,r))}),{}):e}function Bn(e,t,n){var i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===i&&n.trackId===t.id&&function e(t,n,i){n&&!i.has(n.id)&&(i.set(n.id,n),Object.keys(n).forEach((function(r){r.endsWith("Id")?e(t,t.get(n[r]),i):r.endsWith("Ids")&&n[r].forEach((function(n){e(t,t.get(n),i)}))})))}(e,n,r)}))})),r}var jn=Mn;function Fn(e,t){var n=e&&e.navigator;if(n.mediaDevices){var i=function(e){if("object"!==(0,b.default)(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===(0,b.default)(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"===typeof i.exact&&(i.min=i.max=i.exact);var r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var a={};"number"===typeof i.ideal?(a[r("min",n)]=i.ideal,t.optional.push(a),a={},a[r("max",n)]=i.ideal,t.optional.push(a)):(a[r("",n)]=i.ideal,t.optional.push(a))}void 0!==i.exact&&"number"!==typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach((function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if(e=JSON.parse(JSON.stringify(e)),e&&"object"===(0,b.default)(e.audio)){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),a(e.audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"===(0,b.default)(e.video)){var o=e.video.facingMode;o=o&&("object"===(0,b.default)(o)?o:{ideal:o});var s,c=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(s=["front"]),s)return n.mediaDevices.enumerateDevices().then((function(t){t=t.filter((function(e){return"videoinput"===e.kind}));var n=t.find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=o.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=i(e.video),jn("chrome: "+JSON.stringify(e)),r(e)}));e.video=i(e.video)}return jn("chrome: "+JSON.stringify(e)),r(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){i&&i(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return r(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}function Vn(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Jn(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.track.id})):{track:i.track};var a=new Event("track");a.track=i.track,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(i){var r;r=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===i.id})):{track:i};var a=new Event("track");a.track=i,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else On(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function Gn(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Hn(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),i=n[0],r=n[1],a=n[2];if(arguments.length>0&&"function"===typeof i)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof i))return t.apply(this,[]);var o=function(e){var t={},n=e.result();return n.forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){r(s(o(e)))};return t.apply(this,[c,i])}return new Promise((function(n,i){t.apply(e,[function(e){n(s(o(e)))},i])})).then(r,a)}}}function Wn(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Bn(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),On(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Bn(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,i,a=arguments[0];return this.getSenders().forEach((function(e){e.track===a&&(t?i=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===a&&(n?i=!0:n=e),e.track===a})),i||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}}}function Qn(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));if(n)throw new DOMException("Track already exists.","InvalidAccessError")}));var i=this.getSenders();n.apply(this,arguments);var r=this.getSenders().filter((function(e){return-1===i.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(r)};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var i=t._shimmedLocalStreams[n].indexOf(e);-1!==i&&t._shimmedLocalStreams[n].splice(i,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),r.apply(this,arguments)}}function qn(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Qn(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){var t=n.getSenders().find((function(t){return t.track===e}));if(t)throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}i.apply(this,[t])};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var i=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var a=this.getSenders().find((function(e){return e.track===t}));if(a)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){i.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],i=(0,p.default)({},t,(function(){var e=this,t=arguments,i=arguments.length&&"function"===typeof arguments[0];return i?n.apply(this,[function(n){var i=s(e,n);t[0].apply(null,[i])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=i[t]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var n,i=e._pc===this;if(!i)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(i){var r=t._streams[i].getTracks().find((function(t){return e.track===t}));r&&(n=t._streams[i])})),n&&(1===n.getTracks().length?this.removeStream(this._reverseStreams[n.id]):n.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function $n(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],i=(0,p.default)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=i[t]}))}function zn(e,t){On(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}var Zn=Object.freeze({__proto__:null,fixNegotiationNeeded:zn,shimAddTrackRemoveTrack:qn,shimAddTrackRemoveTrackWithNative:Qn,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var i=n.video&&n.video.width,r=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Gn,shimGetStats:Hn,shimGetUserMedia:Fn,shimMediaStream:Vn,shimOnTrack:Jn,shimPeerConnection:$n,shimSenderReceiverGetStats:Wn});function Yn(e,t){var n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){Dn("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var r=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(0,b.default)(e)&&"object"===(0,b.default)(e.audio)&&(e=JSON.parse(JSON.stringify(e)),r(e.audio,"autoGainControl","mozAutoGainControl"),r(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},i&&i.prototype.getSettings){var o=i.prototype.getSettings;i.prototype.getSettings=function(){var e=o.apply(this,arguments);return r(e,"mozAutoGainControl","autoGainControl"),r(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var s=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(0,b.default)(e)&&(e=JSON.parse(JSON.stringify(e)),r(e,"autoGainControl","mozAutoGainControl"),r(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function Kn(e){"object"===(0,b.default)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Xn(e,t){if("object"===(0,b.default)(e)&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],i=(0,p.default)({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=i[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),r=e[0],a=e[1],o=e[2];return i.apply(this,[r||null]).then((function(e){if(t.version<53&&!a)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(Ys){if("TypeError"!==Ys.name)throw Ys;e.forEach((function(t,i){e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(a,o)}}}function ei(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function ti(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),On(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function ni(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;Dn("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function ii(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function ri(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var i=t.apply(this,arguments);if(n){var r=i.sender,a=r.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e.sendEncodings,r.sendEncodings=e.sendEncodings,this.setParametersPromises.push(r.setParameters(a).then((function(){delete r.sendEncodings})).catch((function(){delete r.sendEncodings}))))}return i})}}function ai(e){if("object"===(0,b.default)(e)&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function oi(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function si(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}var ci=Object.freeze({__proto__:null,shimAddTransceiver:ri,shimCreateAnswer:si,shimCreateOffer:oi,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:ai,shimGetUserMedia:Yn,shimOnTrack:Kn,shimPeerConnection:Xn,shimRTCDataChannel:ii,shimReceiverGetStats:ti,shimRemoveStream:ni,shimSenderGetStats:ei});function ui(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(i){return t.call(n,i,e)})),e.getVideoTracks().forEach((function(i){return t.call(n,i,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return r&&r.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var i=e.getTracks();this.getSenders().forEach((function(e){i.includes(e.track)&&t.removeTrack(e)}))}})}}function di(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function li(e){if("object"===(0,b.default)(e)&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Promise.resolve()):r};var s=function(e,t,n){var i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}}function fi(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,i=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return i(pi(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function pi(e){return e&&void 0!==e.video?Object.assign({},e,{video:Ln(e.video)}):e}function hi(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],r=0;r<e.iceServers.length;r++){var a=e.iceServers[r];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(Dn("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[r])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function vi(e){"object"===(0,b.default)(e)&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function mi(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function gi(e){"object"!==(0,b.default)(e)||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var bi=Object.freeze({__proto__:null,shimAudioContext:gi,shimCallbacksAPI:li,shimConstraints:pi,shimCreateOfferLegacy:mi,shimGetUserMedia:fi,shimLocalStreamsAPI:ui,shimRTCIceServerUrls:hi,shimRemoteStreamsAPI:di,shimTrackEventTransceiver:vi}),yi={},ki={get exports(){return yi},set exports(e){yi=e}};(function(e){var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){var t=e.split("\nm=");return t.map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:void 0===n[t[i]]&&(n[t[i]]=t[i+1]);break}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)t=i[r].trim().split("="),n[t[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)})),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){var i=t.matchPrefix(e+n,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===(0,b.default)(e.keyParams)?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){var i=t.matchPrefix(e+n,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substr(12),password:r.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e),r=i[0].split(" "),a=3;a<r.length;a++){var o=r[a],s=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(s){var c=t.parseRtpMap(s),u=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(c.parameters=u.length?t.parseFmtp(u[0]):{},c.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)}));var r=0;return n.codecs.forEach((function(e){e.maxptime>r&&(r=e.maxptime)})),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((function(e){i+=t.writeExtmap(e)})),i},t.parseRtpEncodingParameters=function(e){var n,i=[],r=t.parseRtpParameters(e),a=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){var t=e.substr(17).split(" ");return t.map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),r.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),i.push(t),a&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},i.push(t))}})),0===i.length&&c&&i.push({ssrc:c});var d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,i.forEach((function(e){e.maxBitrate=d}))),i},t.parseRtcpParameters=function(e){var n={},i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;var a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var n,i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};var r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){var n,i=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");r.length>0&&(n=parseInt(r[0].substr(19),10)),isNaN(n)&&(n=65536);var a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:i.fmt,maxMessageSize:n};var o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){var s=o[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,i){var r,a=void 0!==n?n:2;r=e||t.generateSessionId();var o=i||"thisisadapterortc";return"v=0\r\no="+o+" "+r+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){for(var i=t.splitLines(e),r=0;r<i.length;r++)switch(i[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[r].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){var n=t.splitLines(e),i=n[0].split(" ");return i[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e),i=n[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0],i=n.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var n=t.splitLines(e),i=0;i<n.length;i++)if(n[i].length<2||"="!==n[i].charAt(1))return!1;return!0},e.exports=t})(ki);var wi=yi,Si=y({__proto__:null,default:wi},[yi]);function Ai(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(0,b.default)(e)&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse(JSON.stringify(e)),e.candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),i=wi.parseCandidate(e.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,On(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function Ci(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=wi.splitSections(e.sdp);return t.shift(),t.some((function(e){var t=wi.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},r=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},a=function(e,n){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var r=wi.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),s=e.sdpSemantics;"plan-b"===s&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var c,u=i(arguments[0]),d=r(u),l=a(arguments[0],u);c=0===d&&0===l?Number.POSITIVE_INFINITY:0===d||0===l?Math.max(d,l):Math.min(d,l);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return c}}),this._sctp=f}return o.apply(this,arguments)}}}function xi(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},On(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function Ti(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function Pi(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var i=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return n.apply(this,arguments)}}}function Ei(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function Ri(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!==(0,b.default)(t)||t.type&&t.sdp)return n.apply(this,arguments);if(t={type:t.type,sdp:t.sdp},!t.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer";break}if(t.sdp||"offer"!==t.type&&"answer"!==t.type)return n.apply(this,[t]);var i="offer"===t.type?this.createOffer:this.createAnswer;return i.apply(this).then((function(t){return n.apply(e,[t])}))})}}var Oi,Ni,Ii,Mi=Object.freeze({__proto__:null,removeExtmapAllowMixed:Pi,shimAddIceCandidateNullOrEmpty:Ei,shimConnectionState:Ti,shimMaxMessageSize:Ci,shimParameterlessSetLocalDescription:Ri,shimRTCIceCandidate:Ai,shimSendThrowTypeError:xi});function Di(e){switch(e){case 0:case"PUBLISHER":return Oi.PUBLISHER;case 1:case"SUBSCRIBER":return Oi.SUBSCRIBER;case-1:case"UNRECOGNIZED":default:return Oi.UNRECOGNIZED}}function Ui(e){switch(e){case Oi.PUBLISHER:return"PUBLISHER";case Oi.SUBSCRIBER:return"SUBSCRIBER";case Oi.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function _i(e){switch(e){case 0:case"ACTIVE":return Ni.ACTIVE;case 1:case"PAUSED":return Ni.PAUSED;case-1:case"UNRECOGNIZED":default:return Ni.UNRECOGNIZED}}function Li(e){switch(e){case 0:case"UDP":return Ii.UDP;case 1:case"TCP":return Ii.TCP;case 2:case"TLS":return Ii.TLS;case-1:case"UNRECOGNIZED":default:return Ii.UNRECOGNIZED}}function Bi(){return{message:void 0}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},i=Mn,r=Un(t),a={browserDetails:r,commonShim:Mi,extractVersion:Rn,disableLog:Nn,disableWarnings:In,sdp:Si};switch(r.browser){case"chrome":if(!Zn||!$n||!n.shimChrome)return i("Chrome shim is not included in this adapter release."),a;if(null===r.version)return i("Chrome shim can not determine version, not shimming."),a;i("adapter.js shimming chrome."),a.browserShim=Zn,Ei(t,r),Ri(t),Fn(t,r),Vn(t),$n(t,r),Jn(t),qn(t,r),Gn(t),Hn(t),Wn(t),zn(t,r),Ai(t),Ti(t),Ci(t,r),xi(t),Pi(t,r);break;case"firefox":if(!ci||!Xn||!n.shimFirefox)return i("Firefox shim is not included in this adapter release."),a;i("adapter.js shimming firefox."),a.browserShim=ci,Ei(t,r),Ri(t),Yn(t,r),Xn(t,r),Kn(t),ni(t),ei(t),ti(t),ii(t),ri(t),ai(t),oi(t),si(t),Ai(t),Ti(t),Ci(t,r),xi(t);break;case"safari":if(!bi||!n.shimSafari)return i("Safari shim is not included in this adapter release."),a;i("adapter.js shimming safari."),a.browserShim=bi,Ei(t,r),Ri(t),hi(t),mi(t),li(t),ui(t),di(t),vi(t),fi(t),gi(t),Ai(t),Ci(t,r),xi(t),Pi(t,r);break;default:i("Unsupported browser!");break}})({window:"undefined"===typeof window?void 0:window}),function(e){e[e["PUBLISHER"]=0]="PUBLISHER",e[e["SUBSCRIBER"]=1]="SUBSCRIBER",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Oi||(Oi={})),function(e){e[e["ACTIVE"]=0]="ACTIVE",e[e["PAUSED"]=1]="PAUSED",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Ni||(Ni={})),function(e){e[e["UDP"]=0]="UDP",e[e["TCP"]=1]="TCP",e[e["TLS"]=2]="TLS",e[e["UNRECOGNIZED"]=-1]="UNRECOGNIZED"}(Ii||(Ii={}));var ji={encode:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return"offer"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&ar.encode(e.message.offer,h.uint32(10).fork()).ldelim(),"answer"===(null===(n=e.message)||void 0===n?void 0:n.$case)&&ar.encode(e.message.answer,h.uint32(18).fork()).ldelim(),"trickle"===(null===(i=e.message)||void 0===i?void 0:i.$case)&&qi.encode(e.message.trickle,h.uint32(26).fork()).ldelim(),"addTrack"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&Wi.encode(e.message.addTrack,h.uint32(34).fork()).ldelim(),"mute"===(null===(a=e.message)||void 0===a?void 0:a.$case)&&zi.encode(e.message.mute,h.uint32(42).fork()).ldelim(),"subscription"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&ur.encode(e.message.subscription,h.uint32(50).fork()).ldelim(),"trackSetting"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&lr.encode(e.message.trackSetting,h.uint32(58).fork()).ldelim(),"leave"===(null===(c=e.message)||void 0===c?void 0:c.$case)&&pr.encode(e.message.leave,h.uint32(66).fork()).ldelim(),"updateLayers"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&vr.encode(e.message.updateLayers,h.uint32(82).fork()).ldelim(),"subscriptionPermission"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&jr.encode(e.message.subscriptionPermission,h.uint32(90).fork()).ldelim(),"syncState"===(null===(l=e.message)||void 0===l?void 0:l.$case)&&Gr.encode(e.message.syncState,h.uint32(98).fork()).ldelim(),"simulate"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&qr.encode(e.message.simulate,h.uint32(106).fork()).ldelim(),"ping"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&h.uint32(112).int64(e.message.ping),h},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Bi();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.message={$case:"offer",offer:ar.decode(n,n.uint32())};break;case 2:r.message={$case:"answer",answer:ar.decode(n,n.uint32())};break;case 3:r.message={$case:"trickle",trickle:qi.decode(n,n.uint32())};break;case 4:r.message={$case:"addTrack",addTrack:Wi.decode(n,n.uint32())};break;case 5:r.message={$case:"mute",mute:zi.decode(n,n.uint32())};break;case 6:r.message={$case:"subscription",subscription:ur.decode(n,n.uint32())};break;case 7:r.message={$case:"trackSetting",trackSetting:lr.decode(n,n.uint32())};break;case 8:r.message={$case:"leave",leave:pr.decode(n,n.uint32())};break;case 10:r.message={$case:"updateLayers",updateLayers:vr.decode(n,n.uint32())};break;case 11:r.message={$case:"subscriptionPermission",subscriptionPermission:jr.decode(n,n.uint32())};break;case 12:r.message={$case:"syncState",syncState:Gr.decode(n,n.uint32())};break;case 13:r.message={$case:"simulate",simulate:qr.decode(n,n.uint32())};break;case 14:r.message={$case:"ping",ping:zr(n.int64())};break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{message:Zr(e.offer)?{$case:"offer",offer:ar.fromJSON(e.offer)}:Zr(e.answer)?{$case:"answer",answer:ar.fromJSON(e.answer)}:Zr(e.trickle)?{$case:"trickle",trickle:qi.fromJSON(e.trickle)}:Zr(e.addTrack)?{$case:"addTrack",addTrack:Wi.fromJSON(e.addTrack)}:Zr(e.mute)?{$case:"mute",mute:zi.fromJSON(e.mute)}:Zr(e.subscription)?{$case:"subscription",subscription:ur.fromJSON(e.subscription)}:Zr(e.trackSetting)?{$case:"trackSetting",trackSetting:lr.fromJSON(e.trackSetting)}:Zr(e.leave)?{$case:"leave",leave:pr.fromJSON(e.leave)}:Zr(e.updateLayers)?{$case:"updateLayers",updateLayers:vr.fromJSON(e.updateLayers)}:Zr(e.subscriptionPermission)?{$case:"subscriptionPermission",subscriptionPermission:jr.fromJSON(e.subscriptionPermission)}:Zr(e.syncState)?{$case:"syncState",syncState:Gr.fromJSON(e.syncState)}:Zr(e.simulate)?{$case:"simulate",simulate:qr.fromJSON(e.simulate)}:Zr(e.ping)?{$case:"ping",ping:Number(e.ping)}:void 0}},toJSON:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g,b,y,k,w,S,A,C,x,T,P,E,R,O,N,I,M,D,U,_,L,B,j={};return"offer"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&(j.offer=(null===(n=e.message)||void 0===n?void 0:n.offer)?ar.toJSON(null===(i=e.message)||void 0===i?void 0:i.offer):void 0),"answer"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&(j.answer=(null===(a=e.message)||void 0===a?void 0:a.answer)?ar.toJSON(null===(o=e.message)||void 0===o?void 0:o.answer):void 0),"trickle"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&(j.trickle=(null===(c=e.message)||void 0===c?void 0:c.trickle)?qi.toJSON(null===(u=e.message)||void 0===u?void 0:u.trickle):void 0),"addTrack"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&(j.addTrack=(null===(l=e.message)||void 0===l?void 0:l.addTrack)?Wi.toJSON(null===(f=e.message)||void 0===f?void 0:f.addTrack):void 0),"mute"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&(j.mute=(null===(h=e.message)||void 0===h?void 0:h.mute)?zi.toJSON(null===(v=e.message)||void 0===v?void 0:v.mute):void 0),"subscription"===(null===(m=e.message)||void 0===m?void 0:m.$case)&&(j.subscription=(null===(g=e.message)||void 0===g?void 0:g.subscription)?ur.toJSON(null===(b=e.message)||void 0===b?void 0:b.subscription):void 0),"trackSetting"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&(j.trackSetting=(null===(k=e.message)||void 0===k?void 0:k.trackSetting)?lr.toJSON(null===(w=e.message)||void 0===w?void 0:w.trackSetting):void 0),"leave"===(null===(S=e.message)||void 0===S?void 0:S.$case)&&(j.leave=(null===(A=e.message)||void 0===A?void 0:A.leave)?pr.toJSON(null===(C=e.message)||void 0===C?void 0:C.leave):void 0),"updateLayers"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&(j.updateLayers=(null===(T=e.message)||void 0===T?void 0:T.updateLayers)?vr.toJSON(null===(P=e.message)||void 0===P?void 0:P.updateLayers):void 0),"subscriptionPermission"===(null===(E=e.message)||void 0===E?void 0:E.$case)&&(j.subscriptionPermission=(null===(R=e.message)||void 0===R?void 0:R.subscriptionPermission)?jr.toJSON(null===(O=e.message)||void 0===O?void 0:O.subscriptionPermission):void 0),"syncState"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&(j.syncState=(null===(I=e.message)||void 0===I?void 0:I.syncState)?Gr.toJSON(null===(M=e.message)||void 0===M?void 0:M.syncState):void 0),"simulate"===(null===(D=e.message)||void 0===D?void 0:D.$case)&&(j.simulate=(null===(U=e.message)||void 0===U?void 0:U.simulate)?qr.toJSON(null===(_=e.message)||void 0===_?void 0:_.simulate):void 0),"ping"===(null===(L=e.message)||void 0===L?void 0:L.$case)&&(j.ping=Math.round(null===(B=e.message)||void 0===B?void 0:B.ping)),j},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g,b,y,k,w,S,A,C,x,T,P,E,R,O,N,I,M,D,U,_,L,B,j,F=Bi();return"offer"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&void 0!==(null===(n=e.message)||void 0===n?void 0:n.offer)&&null!==(null===(i=e.message)||void 0===i?void 0:i.offer)&&(F.message={$case:"offer",offer:ar.fromPartial(e.message.offer)}),"answer"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&void 0!==(null===(a=e.message)||void 0===a?void 0:a.answer)&&null!==(null===(o=e.message)||void 0===o?void 0:o.answer)&&(F.message={$case:"answer",answer:ar.fromPartial(e.message.answer)}),"trickle"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.message)||void 0===c?void 0:c.trickle)&&null!==(null===(u=e.message)||void 0===u?void 0:u.trickle)&&(F.message={$case:"trickle",trickle:qi.fromPartial(e.message.trickle)}),"addTrack"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&void 0!==(null===(l=e.message)||void 0===l?void 0:l.addTrack)&&null!==(null===(f=e.message)||void 0===f?void 0:f.addTrack)&&(F.message={$case:"addTrack",addTrack:Wi.fromPartial(e.message.addTrack)}),"mute"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&void 0!==(null===(h=e.message)||void 0===h?void 0:h.mute)&&null!==(null===(v=e.message)||void 0===v?void 0:v.mute)&&(F.message={$case:"mute",mute:zi.fromPartial(e.message.mute)}),"subscription"===(null===(m=e.message)||void 0===m?void 0:m.$case)&&void 0!==(null===(g=e.message)||void 0===g?void 0:g.subscription)&&null!==(null===(b=e.message)||void 0===b?void 0:b.subscription)&&(F.message={$case:"subscription",subscription:ur.fromPartial(e.message.subscription)}),"trackSetting"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&void 0!==(null===(k=e.message)||void 0===k?void 0:k.trackSetting)&&null!==(null===(w=e.message)||void 0===w?void 0:w.trackSetting)&&(F.message={$case:"trackSetting",trackSetting:lr.fromPartial(e.message.trackSetting)}),"leave"===(null===(S=e.message)||void 0===S?void 0:S.$case)&&void 0!==(null===(A=e.message)||void 0===A?void 0:A.leave)&&null!==(null===(C=e.message)||void 0===C?void 0:C.leave)&&(F.message={$case:"leave",leave:pr.fromPartial(e.message.leave)}),"updateLayers"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&void 0!==(null===(T=e.message)||void 0===T?void 0:T.updateLayers)&&null!==(null===(P=e.message)||void 0===P?void 0:P.updateLayers)&&(F.message={$case:"updateLayers",updateLayers:vr.fromPartial(e.message.updateLayers)}),"subscriptionPermission"===(null===(E=e.message)||void 0===E?void 0:E.$case)&&void 0!==(null===(R=e.message)||void 0===R?void 0:R.subscriptionPermission)&&null!==(null===(O=e.message)||void 0===O?void 0:O.subscriptionPermission)&&(F.message={$case:"subscriptionPermission",subscriptionPermission:jr.fromPartial(e.message.subscriptionPermission)}),"syncState"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&void 0!==(null===(I=e.message)||void 0===I?void 0:I.syncState)&&null!==(null===(M=e.message)||void 0===M?void 0:M.syncState)&&(F.message={$case:"syncState",syncState:Gr.fromPartial(e.message.syncState)}),"simulate"===(null===(D=e.message)||void 0===D?void 0:D.$case)&&void 0!==(null===(U=e.message)||void 0===U?void 0:U.simulate)&&null!==(null===(_=e.message)||void 0===_?void 0:_.simulate)&&(F.message={$case:"simulate",simulate:qr.fromPartial(e.message.simulate)}),"ping"===(null===(L=e.message)||void 0===L?void 0:L.$case)&&void 0!==(null===(B=e.message)||void 0===B?void 0:B.ping)&&null!==(null===(j=e.message)||void 0===j?void 0:j.ping)&&(F.message={$case:"ping",ping:e.message.ping}),F}};function Fi(){return{message:void 0}}var Vi={encode:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g,b,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return"join"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&Yi.encode(e.message.join,y.uint32(10).fork()).ldelim(),"answer"===(null===(n=e.message)||void 0===n?void 0:n.$case)&&ar.encode(e.message.answer,y.uint32(18).fork()).ldelim(),"offer"===(null===(i=e.message)||void 0===i?void 0:i.$case)&&ar.encode(e.message.offer,y.uint32(26).fork()).ldelim(),"trickle"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&qi.encode(e.message.trickle,y.uint32(34).fork()).ldelim(),"update"===(null===(a=e.message)||void 0===a?void 0:a.$case)&&sr.encode(e.message.update,y.uint32(42).fork()).ldelim(),"trackPublished"===(null===(o=e.message)||void 0===o?void 0:o.$case)&&tr.encode(e.message.trackPublished,y.uint32(50).fork()).ldelim(),"leave"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&pr.encode(e.message.leave,y.uint32(66).fork()).ldelim(),"mute"===(null===(c=e.message)||void 0===c?void 0:c.$case)&&zi.encode(e.message.mute,y.uint32(74).fork()).ldelim(),"speakersChanged"===(null===(u=e.message)||void 0===u?void 0:u.$case)&&yr.encode(e.message.speakersChanged,y.uint32(82).fork()).ldelim(),"roomUpdate"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&wr.encode(e.message.roomUpdate,y.uint32(90).fork()).ldelim(),"connectionQuality"===(null===(l=e.message)||void 0===l?void 0:l.$case)&&xr.encode(e.message.connectionQuality,y.uint32(98).fork()).ldelim(),"streamStateUpdate"===(null===(f=e.message)||void 0===f?void 0:f.$case)&&Rr.encode(e.message.streamStateUpdate,y.uint32(106).fork()).ldelim(),"subscribedQualityUpdate"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&Ur.encode(e.message.subscribedQualityUpdate,y.uint32(114).fork()).ldelim(),"subscriptionPermissionUpdate"===(null===(h=e.message)||void 0===h?void 0:h.$case)&&Vr.encode(e.message.subscriptionPermissionUpdate,y.uint32(122).fork()).ldelim(),"refreshToken"===(null===(v=e.message)||void 0===v?void 0:v.$case)&&y.uint32(130).string(e.message.refreshToken),"trackUnpublished"===(null===(m=e.message)||void 0===m?void 0:m.$case)&&ir.encode(e.message.trackUnpublished,y.uint32(138).fork()).ldelim(),"pong"===(null===(g=e.message)||void 0===g?void 0:g.$case)&&y.uint32(144).int64(e.message.pong),"reconnect"===(null===(b=e.message)||void 0===b?void 0:b.$case)&&Xi.encode(e.message.reconnect,y.uint32(154).fork()).ldelim(),y},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Fi();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.message={$case:"join",join:Yi.decode(n,n.uint32())};break;case 2:r.message={$case:"answer",answer:ar.decode(n,n.uint32())};break;case 3:r.message={$case:"offer",offer:ar.decode(n,n.uint32())};break;case 4:r.message={$case:"trickle",trickle:qi.decode(n,n.uint32())};break;case 5:r.message={$case:"update",update:sr.decode(n,n.uint32())};break;case 6:r.message={$case:"trackPublished",trackPublished:tr.decode(n,n.uint32())};break;case 8:r.message={$case:"leave",leave:pr.decode(n,n.uint32())};break;case 9:r.message={$case:"mute",mute:zi.decode(n,n.uint32())};break;case 10:r.message={$case:"speakersChanged",speakersChanged:yr.decode(n,n.uint32())};break;case 11:r.message={$case:"roomUpdate",roomUpdate:wr.decode(n,n.uint32())};break;case 12:r.message={$case:"connectionQuality",connectionQuality:xr.decode(n,n.uint32())};break;case 13:r.message={$case:"streamStateUpdate",streamStateUpdate:Rr.decode(n,n.uint32())};break;case 14:r.message={$case:"subscribedQualityUpdate",subscribedQualityUpdate:Ur.decode(n,n.uint32())};break;case 15:r.message={$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:Vr.decode(n,n.uint32())};break;case 16:r.message={$case:"refreshToken",refreshToken:n.string()};break;case 17:r.message={$case:"trackUnpublished",trackUnpublished:ir.decode(n,n.uint32())};break;case 18:r.message={$case:"pong",pong:zr(n.int64())};break;case 19:r.message={$case:"reconnect",reconnect:Xi.decode(n,n.uint32())};break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{message:Zr(e.join)?{$case:"join",join:Yi.fromJSON(e.join)}:Zr(e.answer)?{$case:"answer",answer:ar.fromJSON(e.answer)}:Zr(e.offer)?{$case:"offer",offer:ar.fromJSON(e.offer)}:Zr(e.trickle)?{$case:"trickle",trickle:qi.fromJSON(e.trickle)}:Zr(e.update)?{$case:"update",update:sr.fromJSON(e.update)}:Zr(e.trackPublished)?{$case:"trackPublished",trackPublished:tr.fromJSON(e.trackPublished)}:Zr(e.leave)?{$case:"leave",leave:pr.fromJSON(e.leave)}:Zr(e.mute)?{$case:"mute",mute:zi.fromJSON(e.mute)}:Zr(e.speakersChanged)?{$case:"speakersChanged",speakersChanged:yr.fromJSON(e.speakersChanged)}:Zr(e.roomUpdate)?{$case:"roomUpdate",roomUpdate:wr.fromJSON(e.roomUpdate)}:Zr(e.connectionQuality)?{$case:"connectionQuality",connectionQuality:xr.fromJSON(e.connectionQuality)}:Zr(e.streamStateUpdate)?{$case:"streamStateUpdate",streamStateUpdate:Rr.fromJSON(e.streamStateUpdate)}:Zr(e.subscribedQualityUpdate)?{$case:"subscribedQualityUpdate",subscribedQualityUpdate:Ur.fromJSON(e.subscribedQualityUpdate)}:Zr(e.subscriptionPermissionUpdate)?{$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:Vr.fromJSON(e.subscriptionPermissionUpdate)}:Zr(e.refreshToken)?{$case:"refreshToken",refreshToken:String(e.refreshToken)}:Zr(e.trackUnpublished)?{$case:"trackUnpublished",trackUnpublished:ir.fromJSON(e.trackUnpublished)}:Zr(e.pong)?{$case:"pong",pong:Number(e.pong)}:Zr(e.reconnect)?{$case:"reconnect",reconnect:Xi.fromJSON(e.reconnect)}:void 0}},toJSON:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g,b,y,k,w,S,A,C,x,T,P,E,R,O,N,I,M,D,U,_,L,B,j,F,V,J,G,H,W,Q,q,$,z,Z,Y,K,X={};return"join"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&(X.join=(null===(n=e.message)||void 0===n?void 0:n.join)?Yi.toJSON(null===(i=e.message)||void 0===i?void 0:i.join):void 0),"answer"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&(X.answer=(null===(a=e.message)||void 0===a?void 0:a.answer)?ar.toJSON(null===(o=e.message)||void 0===o?void 0:o.answer):void 0),"offer"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&(X.offer=(null===(c=e.message)||void 0===c?void 0:c.offer)?ar.toJSON(null===(u=e.message)||void 0===u?void 0:u.offer):void 0),"trickle"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&(X.trickle=(null===(l=e.message)||void 0===l?void 0:l.trickle)?qi.toJSON(null===(f=e.message)||void 0===f?void 0:f.trickle):void 0),"update"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&(X.update=(null===(h=e.message)||void 0===h?void 0:h.update)?sr.toJSON(null===(v=e.message)||void 0===v?void 0:v.update):void 0),"trackPublished"===(null===(m=e.message)||void 0===m?void 0:m.$case)&&(X.trackPublished=(null===(g=e.message)||void 0===g?void 0:g.trackPublished)?tr.toJSON(null===(b=e.message)||void 0===b?void 0:b.trackPublished):void 0),"leave"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&(X.leave=(null===(k=e.message)||void 0===k?void 0:k.leave)?pr.toJSON(null===(w=e.message)||void 0===w?void 0:w.leave):void 0),"mute"===(null===(S=e.message)||void 0===S?void 0:S.$case)&&(X.mute=(null===(A=e.message)||void 0===A?void 0:A.mute)?zi.toJSON(null===(C=e.message)||void 0===C?void 0:C.mute):void 0),"speakersChanged"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&(X.speakersChanged=(null===(T=e.message)||void 0===T?void 0:T.speakersChanged)?yr.toJSON(null===(P=e.message)||void 0===P?void 0:P.speakersChanged):void 0),"roomUpdate"===(null===(E=e.message)||void 0===E?void 0:E.$case)&&(X.roomUpdate=(null===(R=e.message)||void 0===R?void 0:R.roomUpdate)?wr.toJSON(null===(O=e.message)||void 0===O?void 0:O.roomUpdate):void 0),"connectionQuality"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&(X.connectionQuality=(null===(I=e.message)||void 0===I?void 0:I.connectionQuality)?xr.toJSON(null===(M=e.message)||void 0===M?void 0:M.connectionQuality):void 0),"streamStateUpdate"===(null===(D=e.message)||void 0===D?void 0:D.$case)&&(X.streamStateUpdate=(null===(U=e.message)||void 0===U?void 0:U.streamStateUpdate)?Rr.toJSON(null===(_=e.message)||void 0===_?void 0:_.streamStateUpdate):void 0),"subscribedQualityUpdate"===(null===(L=e.message)||void 0===L?void 0:L.$case)&&(X.subscribedQualityUpdate=(null===(B=e.message)||void 0===B?void 0:B.subscribedQualityUpdate)?Ur.toJSON(null===(j=e.message)||void 0===j?void 0:j.subscribedQualityUpdate):void 0),"subscriptionPermissionUpdate"===(null===(F=e.message)||void 0===F?void 0:F.$case)&&(X.subscriptionPermissionUpdate=(null===(V=e.message)||void 0===V?void 0:V.subscriptionPermissionUpdate)?Vr.toJSON(null===(J=e.message)||void 0===J?void 0:J.subscriptionPermissionUpdate):void 0),"refreshToken"===(null===(G=e.message)||void 0===G?void 0:G.$case)&&(X.refreshToken=null===(H=e.message)||void 0===H?void 0:H.refreshToken),"trackUnpublished"===(null===(W=e.message)||void 0===W?void 0:W.$case)&&(X.trackUnpublished=(null===(Q=e.message)||void 0===Q?void 0:Q.trackUnpublished)?ir.toJSON(null===(q=e.message)||void 0===q?void 0:q.trackUnpublished):void 0),"pong"===(null===($=e.message)||void 0===$?void 0:$.$case)&&(X.pong=Math.round(null===(z=e.message)||void 0===z?void 0:z.pong)),"reconnect"===(null===(Z=e.message)||void 0===Z?void 0:Z.$case)&&(X.reconnect=(null===(Y=e.message)||void 0===Y?void 0:Y.reconnect)?Xi.toJSON(null===(K=e.message)||void 0===K?void 0:K.reconnect):void 0),X},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m,g,b,y,k,w,S,A,C,x,T,P,E,R,O,N,I,M,D,U,_,L,B,j,F,V,J,G,H,W,Q,q,$,z,Z,Y,K,X,ee,te=Fi();return"join"===(null===(t=e.message)||void 0===t?void 0:t.$case)&&void 0!==(null===(n=e.message)||void 0===n?void 0:n.join)&&null!==(null===(i=e.message)||void 0===i?void 0:i.join)&&(te.message={$case:"join",join:Yi.fromPartial(e.message.join)}),"answer"===(null===(r=e.message)||void 0===r?void 0:r.$case)&&void 0!==(null===(a=e.message)||void 0===a?void 0:a.answer)&&null!==(null===(o=e.message)||void 0===o?void 0:o.answer)&&(te.message={$case:"answer",answer:ar.fromPartial(e.message.answer)}),"offer"===(null===(s=e.message)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.message)||void 0===c?void 0:c.offer)&&null!==(null===(u=e.message)||void 0===u?void 0:u.offer)&&(te.message={$case:"offer",offer:ar.fromPartial(e.message.offer)}),"trickle"===(null===(d=e.message)||void 0===d?void 0:d.$case)&&void 0!==(null===(l=e.message)||void 0===l?void 0:l.trickle)&&null!==(null===(f=e.message)||void 0===f?void 0:f.trickle)&&(te.message={$case:"trickle",trickle:qi.fromPartial(e.message.trickle)}),"update"===(null===(p=e.message)||void 0===p?void 0:p.$case)&&void 0!==(null===(h=e.message)||void 0===h?void 0:h.update)&&null!==(null===(v=e.message)||void 0===v?void 0:v.update)&&(te.message={$case:"update",update:sr.fromPartial(e.message.update)}),"trackPublished"===(null===(m=e.message)||void 0===m?void 0:m.$case)&&void 0!==(null===(g=e.message)||void 0===g?void 0:g.trackPublished)&&null!==(null===(b=e.message)||void 0===b?void 0:b.trackPublished)&&(te.message={$case:"trackPublished",trackPublished:tr.fromPartial(e.message.trackPublished)}),"leave"===(null===(y=e.message)||void 0===y?void 0:y.$case)&&void 0!==(null===(k=e.message)||void 0===k?void 0:k.leave)&&null!==(null===(w=e.message)||void 0===w?void 0:w.leave)&&(te.message={$case:"leave",leave:pr.fromPartial(e.message.leave)}),"mute"===(null===(S=e.message)||void 0===S?void 0:S.$case)&&void 0!==(null===(A=e.message)||void 0===A?void 0:A.mute)&&null!==(null===(C=e.message)||void 0===C?void 0:C.mute)&&(te.message={$case:"mute",mute:zi.fromPartial(e.message.mute)}),"speakersChanged"===(null===(x=e.message)||void 0===x?void 0:x.$case)&&void 0!==(null===(T=e.message)||void 0===T?void 0:T.speakersChanged)&&null!==(null===(P=e.message)||void 0===P?void 0:P.speakersChanged)&&(te.message={$case:"speakersChanged",speakersChanged:yr.fromPartial(e.message.speakersChanged)}),"roomUpdate"===(null===(E=e.message)||void 0===E?void 0:E.$case)&&void 0!==(null===(R=e.message)||void 0===R?void 0:R.roomUpdate)&&null!==(null===(O=e.message)||void 0===O?void 0:O.roomUpdate)&&(te.message={$case:"roomUpdate",roomUpdate:wr.fromPartial(e.message.roomUpdate)}),"connectionQuality"===(null===(N=e.message)||void 0===N?void 0:N.$case)&&void 0!==(null===(I=e.message)||void 0===I?void 0:I.connectionQuality)&&null!==(null===(M=e.message)||void 0===M?void 0:M.connectionQuality)&&(te.message={$case:"connectionQuality",connectionQuality:xr.fromPartial(e.message.connectionQuality)}),"streamStateUpdate"===(null===(D=e.message)||void 0===D?void 0:D.$case)&&void 0!==(null===(U=e.message)||void 0===U?void 0:U.streamStateUpdate)&&null!==(null===(_=e.message)||void 0===_?void 0:_.streamStateUpdate)&&(te.message={$case:"streamStateUpdate",streamStateUpdate:Rr.fromPartial(e.message.streamStateUpdate)}),"subscribedQualityUpdate"===(null===(L=e.message)||void 0===L?void 0:L.$case)&&void 0!==(null===(B=e.message)||void 0===B?void 0:B.subscribedQualityUpdate)&&null!==(null===(j=e.message)||void 0===j?void 0:j.subscribedQualityUpdate)&&(te.message={$case:"subscribedQualityUpdate",subscribedQualityUpdate:Ur.fromPartial(e.message.subscribedQualityUpdate)}),"subscriptionPermissionUpdate"===(null===(F=e.message)||void 0===F?void 0:F.$case)&&void 0!==(null===(V=e.message)||void 0===V?void 0:V.subscriptionPermissionUpdate)&&null!==(null===(J=e.message)||void 0===J?void 0:J.subscriptionPermissionUpdate)&&(te.message={$case:"subscriptionPermissionUpdate",subscriptionPermissionUpdate:Vr.fromPartial(e.message.subscriptionPermissionUpdate)}),"refreshToken"===(null===(G=e.message)||void 0===G?void 0:G.$case)&&void 0!==(null===(H=e.message)||void 0===H?void 0:H.refreshToken)&&null!==(null===(W=e.message)||void 0===W?void 0:W.refreshToken)&&(te.message={$case:"refreshToken",refreshToken:e.message.refreshToken}),"trackUnpublished"===(null===(Q=e.message)||void 0===Q?void 0:Q.$case)&&void 0!==(null===(q=e.message)||void 0===q?void 0:q.trackUnpublished)&&null!==(null===($=e.message)||void 0===$?void 0:$.trackUnpublished)&&(te.message={$case:"trackUnpublished",trackUnpublished:ir.fromPartial(e.message.trackUnpublished)}),"pong"===(null===(z=e.message)||void 0===z?void 0:z.$case)&&void 0!==(null===(Z=e.message)||void 0===Z?void 0:Z.pong)&&null!==(null===(Y=e.message)||void 0===Y?void 0:Y.pong)&&(te.message={$case:"pong",pong:e.message.pong}),"reconnect"===(null===(K=e.message)||void 0===K?void 0:K.$case)&&void 0!==(null===(X=e.message)||void 0===X?void 0:X.reconnect)&&null!==(null===(ee=e.message)||void 0===ee?void 0:ee.reconnect)&&(te.message={$case:"reconnect",reconnect:Xi.fromPartial(e.message.reconnect)}),te}};function Ji(){return{codec:"",cid:"",enableSimulcastLayers:!1}}var Gi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.codec&&t.uint32(10).string(e.codec),""!==e.cid&&t.uint32(18).string(e.cid),!0===e.enableSimulcastLayers&&t.uint32(24).bool(e.enableSimulcastLayers),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Ji();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.codec=n.string();break;case 2:r.cid=n.string();break;case 3:r.enableSimulcastLayers=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{codec:Zr(e.codec)?String(e.codec):"",cid:Zr(e.cid)?String(e.cid):"",enableSimulcastLayers:!!Zr(e.enableSimulcastLayers)&&Boolean(e.enableSimulcastLayers)}},toJSON:function(e){var t={};return void 0!==e.codec&&(t.codec=e.codec),void 0!==e.cid&&(t.cid=e.cid),void 0!==e.enableSimulcastLayers&&(t.enableSimulcastLayers=e.enableSimulcastLayers),t},fromPartial:function(e){var t,n,i,r=Ji();return r.codec=null!==(t=e.codec)&&void 0!==t?t:"",r.cid=null!==(n=e.cid)&&void 0!==n?n:"",r.enableSimulcastLayers=null!==(i=e.enableSimulcastLayers)&&void 0!==i&&i,r}};function Hi(){return{cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0,layers:[],simulcastCodecs:[],sid:"",stereo:!1,disableRed:!1,encryption:0}}var Wi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.cid&&t.uint32(10).string(e.cid),""!==e.name&&t.uint32(18).string(e.name),0!==e.type&&t.uint32(24).int32(e.type),0!==e.width&&t.uint32(32).uint32(e.width),0!==e.height&&t.uint32(40).uint32(e.height),!0===e.muted&&t.uint32(48).bool(e.muted),!0===e.disableDtx&&t.uint32(56).bool(e.disableDtx),0!==e.source&&t.uint32(64).int32(e.source);var n,i=(0,g.default)(e.layers);try{for(i.s();!(n=i.n()).done;){var r=n.value;$t.encode(r,t.uint32(74).fork()).ldelim()}}catch(c){i.e(c)}finally{i.f()}var a,o=(0,g.default)(e.simulcastCodecs);try{for(o.s();!(a=o.n()).done;){var s=a.value;Gi.encode(s,t.uint32(82).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return""!==e.sid&&t.uint32(90).string(e.sid),!0===e.stereo&&t.uint32(96).bool(e.stereo),!0===e.disableRed&&t.uint32(104).bool(e.disableRed),0!==e.encryption&&t.uint32(112).int32(e.encryption),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Hi();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.cid=n.string();break;case 2:r.name=n.string();break;case 3:r.type=n.int32();break;case 4:r.width=n.uint32();break;case 5:r.height=n.uint32();break;case 6:r.muted=n.bool();break;case 7:r.disableDtx=n.bool();break;case 8:r.source=n.int32();break;case 9:r.layers.push($t.decode(n,n.uint32()));break;case 10:r.simulcastCodecs.push(Gi.decode(n,n.uint32()));break;case 11:r.sid=n.string();break;case 12:r.stereo=n.bool();break;case 13:r.disableRed=n.bool();break;case 14:r.encryption=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{cid:Zr(e.cid)?String(e.cid):"",name:Zr(e.name)?String(e.name):"",type:Zr(e.type)?yt(e.type):0,width:Zr(e.width)?Number(e.width):0,height:Zr(e.height)?Number(e.height):0,muted:!!Zr(e.muted)&&Boolean(e.muted),disableDtx:!!Zr(e.disableDtx)&&Boolean(e.disableDtx),source:Zr(e.source)?wt(e.source):0,layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((function(e){return $t.fromJSON(e)})):[],simulcastCodecs:Array.isArray(null===e||void 0===e?void 0:e.simulcastCodecs)?e.simulcastCodecs.map((function(e){return Gi.fromJSON(e)})):[],sid:Zr(e.sid)?String(e.sid):"",stereo:!!Zr(e.stereo)&&Boolean(e.stereo),disableRed:!!Zr(e.disableRed)&&Boolean(e.disableRed),encryption:Zr(e.encryption)?Ot(e.encryption):0}},toJSON:function(e){var t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.name&&(t.name=e.name),void 0!==e.type&&(t.type=kt(e.type)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=St(e.source)),e.layers?t.layers=e.layers.map((function(e){return e?$t.toJSON(e):void 0})):t.layers=[],e.simulcastCodecs?t.simulcastCodecs=e.simulcastCodecs.map((function(e){return e?Gi.toJSON(e):void 0})):t.simulcastCodecs=[],void 0!==e.sid&&(t.sid=e.sid),void 0!==e.stereo&&(t.stereo=e.stereo),void 0!==e.disableRed&&(t.disableRed=e.disableRed),void 0!==e.encryption&&(t.encryption=Nt(e.encryption)),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v=Hi();return v.cid=null!==(t=e.cid)&&void 0!==t?t:"",v.name=null!==(n=e.name)&&void 0!==n?n:"",v.type=null!==(i=e.type)&&void 0!==i?i:0,v.width=null!==(r=e.width)&&void 0!==r?r:0,v.height=null!==(a=e.height)&&void 0!==a?a:0,v.muted=null!==(o=e.muted)&&void 0!==o&&o,v.disableDtx=null!==(s=e.disableDtx)&&void 0!==s&&s,v.source=null!==(c=e.source)&&void 0!==c?c:0,v.layers=(null===(u=e.layers)||void 0===u?void 0:u.map((function(e){return $t.fromPartial(e)})))||[],v.simulcastCodecs=(null===(d=e.simulcastCodecs)||void 0===d?void 0:d.map((function(e){return Gi.fromPartial(e)})))||[],v.sid=null!==(l=e.sid)&&void 0!==l?l:"",v.stereo=null!==(f=e.stereo)&&void 0!==f&&f,v.disableRed=null!==(p=e.disableRed)&&void 0!==p&&p,v.encryption=null!==(h=e.encryption)&&void 0!==h?h:0,v}};function Qi(){return{candidateInit:"",target:0}}var qi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.candidateInit&&t.uint32(10).string(e.candidateInit),0!==e.target&&t.uint32(16).int32(e.target),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Qi();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.candidateInit=n.string();break;case 2:r.target=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{candidateInit:Zr(e.candidateInit)?String(e.candidateInit):"",target:Zr(e.target)?Di(e.target):0}},toJSON:function(e){var t={};return void 0!==e.candidateInit&&(t.candidateInit=e.candidateInit),void 0!==e.target&&(t.target=Ui(e.target)),t},fromPartial:function(e){var t,n,i=Qi();return i.candidateInit=null!==(t=e.candidateInit)&&void 0!==t?t:"",i.target=null!==(n=e.target)&&void 0!==n?n:0,i}};function $i(){return{sid:"",muted:!1}}var zi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.sid&&t.uint32(10).string(e.sid),!0===e.muted&&t.uint32(16).bool(e.muted),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=$i();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.sid=n.string();break;case 2:r.muted=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{sid:Zr(e.sid)?String(e.sid):"",muted:!!Zr(e.muted)&&Boolean(e.muted)}},toJSON:function(e){var t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.muted&&(t.muted=e.muted),t},fromPartial:function(e){var t,n,i=$i();return i.sid=null!==(t=e.sid)&&void 0!==t?t:"",i.muted=null!==(n=e.muted)&&void 0!==n&&n,i}};function Zi(){return{room:void 0,participant:void 0,otherParticipants:[],serverVersion:"",iceServers:[],subscriberPrimary:!1,alternativeUrl:"",clientConfiguration:void 0,serverRegion:"",pingTimeout:0,pingInterval:0,serverInfo:void 0}}var Yi={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();void 0!==e.room&&_t.encode(e.room,t.uint32(10).fork()).ldelim(),void 0!==e.participant&&Jt.encode(e.participant,t.uint32(18).fork()).ldelim();var n,i=(0,g.default)(e.otherParticipants);try{for(i.s();!(n=i.n()).done;){var r=n.value;Jt.encode(r,t.uint32(26).fork()).ldelim()}}catch(c){i.e(c)}finally{i.f()}""!==e.serverVersion&&t.uint32(34).string(e.serverVersion);var a,o=(0,g.default)(e.iceServers);try{for(o.s();!(a=o.n()).done;){var s=a.value;gr.encode(s,t.uint32(42).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return!0===e.subscriberPrimary&&t.uint32(48).bool(e.subscriberPrimary),""!==e.alternativeUrl&&t.uint32(58).string(e.alternativeUrl),void 0!==e.clientConfiguration&&ln.encode(e.clientConfiguration,t.uint32(66).fork()).ldelim(),""!==e.serverRegion&&t.uint32(74).string(e.serverRegion),0!==e.pingTimeout&&t.uint32(80).int32(e.pingTimeout),0!==e.pingInterval&&t.uint32(88).int32(e.pingInterval),void 0!==e.serverInfo&&sn.encode(e.serverInfo,t.uint32(98).fork()).ldelim(),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Zi();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.room=_t.decode(n,n.uint32());break;case 2:r.participant=Jt.decode(n,n.uint32());break;case 3:r.otherParticipants.push(Jt.decode(n,n.uint32()));break;case 4:r.serverVersion=n.string();break;case 5:r.iceServers.push(gr.decode(n,n.uint32()));break;case 6:r.subscriberPrimary=n.bool();break;case 7:r.alternativeUrl=n.string();break;case 8:r.clientConfiguration=ln.decode(n,n.uint32());break;case 9:r.serverRegion=n.string();break;case 10:r.pingTimeout=n.int32();break;case 11:r.pingInterval=n.int32();break;case 12:r.serverInfo=sn.decode(n,n.uint32());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{room:Zr(e.room)?_t.fromJSON(e.room):void 0,participant:Zr(e.participant)?Jt.fromJSON(e.participant):void 0,otherParticipants:Array.isArray(null===e||void 0===e?void 0:e.otherParticipants)?e.otherParticipants.map((function(e){return Jt.fromJSON(e)})):[],serverVersion:Zr(e.serverVersion)?String(e.serverVersion):"",iceServers:Array.isArray(null===e||void 0===e?void 0:e.iceServers)?e.iceServers.map((function(e){return gr.fromJSON(e)})):[],subscriberPrimary:!!Zr(e.subscriberPrimary)&&Boolean(e.subscriberPrimary),alternativeUrl:Zr(e.alternativeUrl)?String(e.alternativeUrl):"",clientConfiguration:Zr(e.clientConfiguration)?ln.fromJSON(e.clientConfiguration):void 0,serverRegion:Zr(e.serverRegion)?String(e.serverRegion):"",pingTimeout:Zr(e.pingTimeout)?Number(e.pingTimeout):0,pingInterval:Zr(e.pingInterval)?Number(e.pingInterval):0,serverInfo:Zr(e.serverInfo)?sn.fromJSON(e.serverInfo):void 0}},toJSON:function(e){var t={};return void 0!==e.room&&(t.room=e.room?_t.toJSON(e.room):void 0),void 0!==e.participant&&(t.participant=e.participant?Jt.toJSON(e.participant):void 0),e.otherParticipants?t.otherParticipants=e.otherParticipants.map((function(e){return e?Jt.toJSON(e):void 0})):t.otherParticipants=[],void 0!==e.serverVersion&&(t.serverVersion=e.serverVersion),e.iceServers?t.iceServers=e.iceServers.map((function(e){return e?gr.toJSON(e):void 0})):t.iceServers=[],void 0!==e.subscriberPrimary&&(t.subscriberPrimary=e.subscriberPrimary),void 0!==e.alternativeUrl&&(t.alternativeUrl=e.alternativeUrl),void 0!==e.clientConfiguration&&(t.clientConfiguration=e.clientConfiguration?ln.toJSON(e.clientConfiguration):void 0),void 0!==e.serverRegion&&(t.serverRegion=e.serverRegion),void 0!==e.pingTimeout&&(t.pingTimeout=Math.round(e.pingTimeout)),void 0!==e.pingInterval&&(t.pingInterval=Math.round(e.pingInterval)),void 0!==e.serverInfo&&(t.serverInfo=e.serverInfo?sn.toJSON(e.serverInfo):void 0),t},fromPartial:function(e){var t,n,i,r,a,o,s,c,u=Zi();return u.room=void 0!==e.room&&null!==e.room?_t.fromPartial(e.room):void 0,u.participant=void 0!==e.participant&&null!==e.participant?Jt.fromPartial(e.participant):void 0,u.otherParticipants=(null===(t=e.otherParticipants)||void 0===t?void 0:t.map((function(e){return Jt.fromPartial(e)})))||[],u.serverVersion=null!==(n=e.serverVersion)&&void 0!==n?n:"",u.iceServers=(null===(i=e.iceServers)||void 0===i?void 0:i.map((function(e){return gr.fromPartial(e)})))||[],u.subscriberPrimary=null!==(r=e.subscriberPrimary)&&void 0!==r&&r,u.alternativeUrl=null!==(a=e.alternativeUrl)&&void 0!==a?a:"",u.clientConfiguration=void 0!==e.clientConfiguration&&null!==e.clientConfiguration?ln.fromPartial(e.clientConfiguration):void 0,u.serverRegion=null!==(o=e.serverRegion)&&void 0!==o?o:"",u.pingTimeout=null!==(s=e.pingTimeout)&&void 0!==s?s:0,u.pingInterval=null!==(c=e.pingInterval)&&void 0!==c?c:0,u.serverInfo=void 0!==e.serverInfo&&null!==e.serverInfo?sn.fromPartial(e.serverInfo):void 0,u}};function Ki(){return{iceServers:[],clientConfiguration:void 0}}var Xi={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.iceServers);try{for(i.s();!(t=i.n()).done;){var r=t.value;gr.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return void 0!==e.clientConfiguration&&ln.encode(e.clientConfiguration,n.uint32(18).fork()).ldelim(),n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Ki();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.iceServers.push(gr.decode(n,n.uint32()));break;case 2:r.clientConfiguration=ln.decode(n,n.uint32());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{iceServers:Array.isArray(null===e||void 0===e?void 0:e.iceServers)?e.iceServers.map((function(e){return gr.fromJSON(e)})):[],clientConfiguration:Zr(e.clientConfiguration)?ln.fromJSON(e.clientConfiguration):void 0}},toJSON:function(e){var t={};return e.iceServers?t.iceServers=e.iceServers.map((function(e){return e?gr.toJSON(e):void 0})):t.iceServers=[],void 0!==e.clientConfiguration&&(t.clientConfiguration=e.clientConfiguration?ln.toJSON(e.clientConfiguration):void 0),t},fromPartial:function(e){var t,n=Ki();return n.iceServers=(null===(t=e.iceServers)||void 0===t?void 0:t.map((function(e){return gr.fromPartial(e)})))||[],n.clientConfiguration=void 0!==e.clientConfiguration&&null!==e.clientConfiguration?ln.fromPartial(e.clientConfiguration):void 0,n}};function er(){return{cid:"",track:void 0}}var tr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.track&&Qt.encode(e.track,t.uint32(18).fork()).ldelim(),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=er();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.cid=n.string();break;case 2:r.track=Qt.decode(n,n.uint32());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{cid:Zr(e.cid)?String(e.cid):"",track:Zr(e.track)?Qt.fromJSON(e.track):void 0}},toJSON:function(e){var t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.track&&(t.track=e.track?Qt.toJSON(e.track):void 0),t},fromPartial:function(e){var t,n=er();return n.cid=null!==(t=e.cid)&&void 0!==t?t:"",n.track=void 0!==e.track&&null!==e.track?Qt.fromPartial(e.track):void 0,n}};function nr(){return{trackSid:""}}var ir={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.trackSid&&t.uint32(10).string(e.trackSid),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=nr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.trackSid=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{trackSid:Zr(e.trackSid)?String(e.trackSid):""}},toJSON:function(e){var t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),t},fromPartial:function(e){var t,n=nr();return n.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",n}};function rr(){return{type:"",sdp:""}}var ar={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.type&&t.uint32(10).string(e.type),""!==e.sdp&&t.uint32(18).string(e.sdp),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=rr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.type=n.string();break;case 2:r.sdp=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{type:Zr(e.type)?String(e.type):"",sdp:Zr(e.sdp)?String(e.sdp):""}},toJSON:function(e){var t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.sdp&&(t.sdp=e.sdp),t},fromPartial:function(e){var t,n,i=rr();return i.type=null!==(t=e.type)&&void 0!==t?t:"",i.sdp=null!==(n=e.sdp)&&void 0!==n?n:"",i}};function or(){return{participants:[]}}var sr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.participants);try{for(i.s();!(t=i.n()).done;){var r=t.value;Jt.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=or();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participants.push(Jt.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participants:Array.isArray(null===e||void 0===e?void 0:e.participants)?e.participants.map((function(e){return Jt.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.participants?t.participants=e.participants.map((function(e){return e?Jt.toJSON(e):void 0})):t.participants=[],t},fromPartial:function(e){var t,n=or();return n.participants=(null===(t=e.participants)||void 0===t?void 0:t.map((function(e){return Jt.fromPartial(e)})))||[],n}};function cr(){return{trackSids:[],subscribe:!1,participantTracks:[]}}var ur={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.trackSids);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.uint32(10).string(r)}}catch(c){i.e(c)}finally{i.f()}!0===e.subscribe&&n.uint32(16).bool(e.subscribe);var a,o=(0,g.default)(e.participantTracks);try{for(o.s();!(a=o.n()).done;){var s=a.value;an.encode(s,n.uint32(26).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=cr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.trackSids.push(n.string());break;case 2:r.subscribe=n.bool();break;case 3:r.participantTracks.push(an.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((function(e){return String(e)})):[],subscribe:!!Zr(e.subscribe)&&Boolean(e.subscribe),participantTracks:Array.isArray(null===e||void 0===e?void 0:e.participantTracks)?e.participantTracks.map((function(e){return an.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],void 0!==e.subscribe&&(t.subscribe=e.subscribe),e.participantTracks?t.participantTracks=e.participantTracks.map((function(e){return e?an.toJSON(e):void 0})):t.participantTracks=[],t},fromPartial:function(e){var t,n,i,r=cr();return r.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((function(e){return e})))||[],r.subscribe=null!==(n=e.subscribe)&&void 0!==n&&n,r.participantTracks=(null===(i=e.participantTracks)||void 0===i?void 0:i.map((function(e){return an.fromPartial(e)})))||[],r}};function dr(){return{trackSids:[],disabled:!1,quality:0,width:0,height:0,fps:0}}var lr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.trackSids);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.uint32(10).string(r)}}catch(a){i.e(a)}finally{i.f()}return!0===e.disabled&&n.uint32(24).bool(e.disabled),0!==e.quality&&n.uint32(32).int32(e.quality),0!==e.width&&n.uint32(40).uint32(e.width),0!==e.height&&n.uint32(48).uint32(e.height),0!==e.fps&&n.uint32(56).uint32(e.fps),n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=dr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.trackSids.push(n.string());break;case 3:r.disabled=n.bool();break;case 4:r.quality=n.int32();break;case 5:r.width=n.uint32();break;case 6:r.height=n.uint32();break;case 7:r.fps=n.uint32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((function(e){return String(e)})):[],disabled:!!Zr(e.disabled)&&Boolean(e.disabled),quality:Zr(e.quality)?At(e.quality):0,width:Zr(e.width)?Number(e.width):0,height:Zr(e.height)?Number(e.height):0,fps:Zr(e.fps)?Number(e.fps):0}},toJSON:function(e){var t={};return e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.quality&&(t.quality=Ct(e.quality)),void 0!==e.width&&(t.width=Math.round(e.width)),void 0!==e.height&&(t.height=Math.round(e.height)),void 0!==e.fps&&(t.fps=Math.round(e.fps)),t},fromPartial:function(e){var t,n,i,r,a,o,s=dr();return s.trackSids=(null===(t=e.trackSids)||void 0===t?void 0:t.map((function(e){return e})))||[],s.disabled=null!==(n=e.disabled)&&void 0!==n&&n,s.quality=null!==(i=e.quality)&&void 0!==i?i:0,s.width=null!==(r=e.width)&&void 0!==r?r:0,s.height=null!==(a=e.height)&&void 0!==a?a:0,s.fps=null!==(o=e.fps)&&void 0!==o?o:0,s}};function fr(){return{canReconnect:!1,reason:0}}var pr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return!0===e.canReconnect&&t.uint32(8).bool(e.canReconnect),0!==e.reason&&t.uint32(16).int32(e.reason),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=fr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.canReconnect=n.bool();break;case 2:r.reason=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{canReconnect:!!Zr(e.canReconnect)&&Boolean(e.canReconnect),reason:Zr(e.reason)?Et(e.reason):0}},toJSON:function(e){var t={};return void 0!==e.canReconnect&&(t.canReconnect=e.canReconnect),void 0!==e.reason&&(t.reason=function(e){switch(e){case lt.UNKNOWN_REASON:return"UNKNOWN_REASON";case lt.CLIENT_INITIATED:return"CLIENT_INITIATED";case lt.DUPLICATE_IDENTITY:return"DUPLICATE_IDENTITY";case lt.SERVER_SHUTDOWN:return"SERVER_SHUTDOWN";case lt.PARTICIPANT_REMOVED:return"PARTICIPANT_REMOVED";case lt.ROOM_DELETED:return"ROOM_DELETED";case lt.STATE_MISMATCH:return"STATE_MISMATCH";case lt.JOIN_FAILURE:return"JOIN_FAILURE";case lt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.reason)),t},fromPartial:function(e){var t,n,i=fr();return i.canReconnect=null!==(t=e.canReconnect)&&void 0!==t&&t,i.reason=null!==(n=e.reason)&&void 0!==n?n:0,i}};function hr(){return{trackSid:"",layers:[]}}var vr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);var n,i=(0,g.default)(e.layers);try{for(i.s();!(n=i.n()).done;){var r=n.value;$t.encode(r,t.uint32(18).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=hr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.trackSid=n.string();break;case 2:r.layers.push($t.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{trackSid:Zr(e.trackSid)?String(e.trackSid):"",layers:Array.isArray(null===e||void 0===e?void 0:e.layers)?e.layers.map((function(e){return $t.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.layers?t.layers=e.layers.map((function(e){return e?$t.toJSON(e):void 0})):t.layers=[],t},fromPartial:function(e){var t,n,i=hr();return i.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",i.layers=(null===(n=e.layers)||void 0===n?void 0:n.map((function(e){return $t.fromPartial(e)})))||[],i}};function mr(){return{urls:[],username:"",credential:""}}var gr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.urls);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.uint32(10).string(r)}}catch(a){i.e(a)}finally{i.f()}return""!==e.username&&n.uint32(18).string(e.username),""!==e.credential&&n.uint32(26).string(e.credential),n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=mr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.urls.push(n.string());break;case 2:r.username=n.string();break;case 3:r.credential=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{urls:Array.isArray(null===e||void 0===e?void 0:e.urls)?e.urls.map((function(e){return String(e)})):[],username:Zr(e.username)?String(e.username):"",credential:Zr(e.credential)?String(e.credential):""}},toJSON:function(e){var t={};return e.urls?t.urls=e.urls.map((function(e){return e})):t.urls=[],void 0!==e.username&&(t.username=e.username),void 0!==e.credential&&(t.credential=e.credential),t},fromPartial:function(e){var t,n,i,r=mr();return r.urls=(null===(t=e.urls)||void 0===t?void 0:t.map((function(e){return e})))||[],r.username=null!==(n=e.username)&&void 0!==n?n:"",r.credential=null!==(i=e.credential)&&void 0!==i?i:"",r}};function br(){return{speakers:[]}}var yr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.speakers);try{for(i.s();!(t=i.n()).done;){var r=t.value;en.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=br();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.speakers.push(en.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{speakers:Array.isArray(null===e||void 0===e?void 0:e.speakers)?e.speakers.map((function(e){return en.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.speakers?t.speakers=e.speakers.map((function(e){return e?en.toJSON(e):void 0})):t.speakers=[],t},fromPartial:function(e){var t,n=br();return n.speakers=(null===(t=e.speakers)||void 0===t?void 0:t.map((function(e){return en.fromPartial(e)})))||[],n}};function kr(){return{room:void 0}}var wr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return void 0!==e.room&&_t.encode(e.room,t.uint32(10).fork()).ldelim(),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=kr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.room=_t.decode(n,n.uint32());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{room:Zr(e.room)?_t.fromJSON(e.room):void 0}},toJSON:function(e){var t={};return void 0!==e.room&&(t.room=e.room?_t.toJSON(e.room):void 0),t},fromPartial:function(e){var t=kr();return t.room=void 0!==e.room&&null!==e.room?_t.fromPartial(e.room):void 0,t}};function Sr(){return{participantSid:"",quality:0,score:0}}var Ar={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.quality&&t.uint32(16).int32(e.quality),0!==e.score&&t.uint32(29).float(e.score),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Sr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.quality=n.int32();break;case 3:r.score=n.float();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:Zr(e.participantSid)?String(e.participantSid):"",quality:Zr(e.quality)?xt(e.quality):0,score:Zr(e.score)?Number(e.score):0}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.quality&&(t.quality=function(e){switch(e){case ut.POOR:return"POOR";case ut.GOOD:return"GOOD";case ut.EXCELLENT:return"EXCELLENT";case ut.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.quality)),void 0!==e.score&&(t.score=e.score),t},fromPartial:function(e){var t,n,i,r=Sr();return r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.quality=null!==(n=e.quality)&&void 0!==n?n:0,r.score=null!==(i=e.score)&&void 0!==i?i:0,r}};function Cr(){return{updates:[]}}var xr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.updates);try{for(i.s();!(t=i.n()).done;){var r=t.value;Ar.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Cr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.updates.push(Ar.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{updates:Array.isArray(null===e||void 0===e?void 0:e.updates)?e.updates.map((function(e){return Ar.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.updates?t.updates=e.updates.map((function(e){return e?Ar.toJSON(e):void 0})):t.updates=[],t},fromPartial:function(e){var t,n=Cr();return n.updates=(null===(t=e.updates)||void 0===t?void 0:t.map((function(e){return Ar.fromPartial(e)})))||[],n}};function Tr(){return{participantSid:"",trackSid:"",state:0}}var Pr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),0!==e.state&&t.uint32(24).int32(e.state),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Tr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.trackSid=n.string();break;case 3:r.state=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:Zr(e.participantSid)?String(e.participantSid):"",trackSid:Zr(e.trackSid)?String(e.trackSid):"",state:Zr(e.state)?_i(e.state):0}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.state&&(t.state=function(e){switch(e){case Ni.ACTIVE:return"ACTIVE";case Ni.PAUSED:return"PAUSED";case Ni.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.state)),t},fromPartial:function(e){var t,n,i,r=Tr();return r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",r.state=null!==(i=e.state)&&void 0!==i?i:0,r}};function Er(){return{streamStates:[]}}var Rr={encode:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create(),i=(0,g.default)(e.streamStates);try{for(i.s();!(t=i.n()).done;){var r=t.value;Pr.encode(r,n.uint32(10).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return n},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Er();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.streamStates.push(Pr.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{streamStates:Array.isArray(null===e||void 0===e?void 0:e.streamStates)?e.streamStates.map((function(e){return Pr.fromJSON(e)})):[]}},toJSON:function(e){var t={};return e.streamStates?t.streamStates=e.streamStates.map((function(e){return e?Pr.toJSON(e):void 0})):t.streamStates=[],t},fromPartial:function(e){var t,n=Er();return n.streamStates=(null===(t=e.streamStates)||void 0===t?void 0:t.map((function(e){return Pr.fromPartial(e)})))||[],n}};function Or(){return{quality:0,enabled:!1}}var Nr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return 0!==e.quality&&t.uint32(8).int32(e.quality),!0===e.enabled&&t.uint32(16).bool(e.enabled),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Or();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.quality=n.int32();break;case 2:r.enabled=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{quality:Zr(e.quality)?At(e.quality):0,enabled:!!Zr(e.enabled)&&Boolean(e.enabled)}},toJSON:function(e){var t={};return void 0!==e.quality&&(t.quality=Ct(e.quality)),void 0!==e.enabled&&(t.enabled=e.enabled),t},fromPartial:function(e){var t,n,i=Or();return i.quality=null!==(t=e.quality)&&void 0!==t?t:0,i.enabled=null!==(n=e.enabled)&&void 0!==n&&n,i}};function Ir(){return{codec:"",qualities:[]}}var Mr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.codec&&t.uint32(10).string(e.codec);var n,i=(0,g.default)(e.qualities);try{for(i.s();!(n=i.n()).done;){var r=n.value;Nr.encode(r,t.uint32(18).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Ir();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.codec=n.string();break;case 2:r.qualities.push(Nr.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{codec:Zr(e.codec)?String(e.codec):"",qualities:Array.isArray(null===e||void 0===e?void 0:e.qualities)?e.qualities.map((function(e){return Nr.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.codec&&(t.codec=e.codec),e.qualities?t.qualities=e.qualities.map((function(e){return e?Nr.toJSON(e):void 0})):t.qualities=[],t},fromPartial:function(e){var t,n,i=Ir();return i.codec=null!==(t=e.codec)&&void 0!==t?t:"",i.qualities=(null===(n=e.qualities)||void 0===n?void 0:n.map((function(e){return Nr.fromPartial(e)})))||[],i}};function Dr(){return{trackSid:"",subscribedQualities:[],subscribedCodecs:[]}}var Ur={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.trackSid&&t.uint32(10).string(e.trackSid);var n,i=(0,g.default)(e.subscribedQualities);try{for(i.s();!(n=i.n()).done;){var r=n.value;Nr.encode(r,t.uint32(18).fork()).ldelim()}}catch(c){i.e(c)}finally{i.f()}var a,o=(0,g.default)(e.subscribedCodecs);try{for(o.s();!(a=o.n()).done;){var s=a.value;Mr.encode(s,t.uint32(26).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Dr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.trackSid=n.string();break;case 2:r.subscribedQualities.push(Nr.decode(n,n.uint32()));break;case 3:r.subscribedCodecs.push(Mr.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{trackSid:Zr(e.trackSid)?String(e.trackSid):"",subscribedQualities:Array.isArray(null===e||void 0===e?void 0:e.subscribedQualities)?e.subscribedQualities.map((function(e){return Nr.fromJSON(e)})):[],subscribedCodecs:Array.isArray(null===e||void 0===e?void 0:e.subscribedCodecs)?e.subscribedCodecs.map((function(e){return Mr.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.subscribedQualities?t.subscribedQualities=e.subscribedQualities.map((function(e){return e?Nr.toJSON(e):void 0})):t.subscribedQualities=[],e.subscribedCodecs?t.subscribedCodecs=e.subscribedCodecs.map((function(e){return e?Mr.toJSON(e):void 0})):t.subscribedCodecs=[],t},fromPartial:function(e){var t,n,i,r=Dr();return r.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",r.subscribedQualities=(null===(n=e.subscribedQualities)||void 0===n?void 0:n.map((function(e){return Nr.fromPartial(e)})))||[],r.subscribedCodecs=(null===(i=e.subscribedCodecs)||void 0===i?void 0:i.map((function(e){return Mr.fromPartial(e)})))||[],r}};function _r(){return{participantSid:"",allTracks:!1,trackSids:[],participantIdentity:""}}var Lr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();""!==e.participantSid&&t.uint32(10).string(e.participantSid),!0===e.allTracks&&t.uint32(16).bool(e.allTracks);var n,i=(0,g.default)(e.trackSids);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.uint32(26).string(r)}}catch(a){i.e(a)}finally{i.f()}return""!==e.participantIdentity&&t.uint32(34).string(e.participantIdentity),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=_r();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.allTracks=n.bool();break;case 3:r.trackSids.push(n.string());break;case 4:r.participantIdentity=n.string();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:Zr(e.participantSid)?String(e.participantSid):"",allTracks:!!Zr(e.allTracks)&&Boolean(e.allTracks),trackSids:Array.isArray(null===e||void 0===e?void 0:e.trackSids)?e.trackSids.map((function(e){return String(e)})):[],participantIdentity:Zr(e.participantIdentity)?String(e.participantIdentity):""}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.allTracks&&(t.allTracks=e.allTracks),e.trackSids?t.trackSids=e.trackSids.map((function(e){return e})):t.trackSids=[],void 0!==e.participantIdentity&&(t.participantIdentity=e.participantIdentity),t},fromPartial:function(e){var t,n,i,r,a=_r();return a.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",a.allTracks=null!==(n=e.allTracks)&&void 0!==n&&n,a.trackSids=(null===(i=e.trackSids)||void 0===i?void 0:i.map((function(e){return e})))||[],a.participantIdentity=null!==(r=e.participantIdentity)&&void 0!==r?r:"",a}};function Br(){return{allParticipants:!1,trackPermissions:[]}}var jr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();!0===e.allParticipants&&t.uint32(8).bool(e.allParticipants);var n,i=(0,g.default)(e.trackPermissions);try{for(i.s();!(n=i.n()).done;){var r=n.value;Lr.encode(r,t.uint32(18).fork()).ldelim()}}catch(a){i.e(a)}finally{i.f()}return t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Br();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.allParticipants=n.bool();break;case 2:r.trackPermissions.push(Lr.decode(n,n.uint32()));break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{allParticipants:!!Zr(e.allParticipants)&&Boolean(e.allParticipants),trackPermissions:Array.isArray(null===e||void 0===e?void 0:e.trackPermissions)?e.trackPermissions.map((function(e){return Lr.fromJSON(e)})):[]}},toJSON:function(e){var t={};return void 0!==e.allParticipants&&(t.allParticipants=e.allParticipants),e.trackPermissions?t.trackPermissions=e.trackPermissions.map((function(e){return e?Lr.toJSON(e):void 0})):t.trackPermissions=[],t},fromPartial:function(e){var t,n,i=Br();return i.allParticipants=null!==(t=e.allParticipants)&&void 0!==t&&t,i.trackPermissions=(null===(n=e.trackPermissions)||void 0===n?void 0:n.map((function(e){return Lr.fromPartial(e)})))||[],i}};function Fr(){return{participantSid:"",trackSid:"",allowed:!1}}var Vr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),!0===e.allowed&&t.uint32(24).bool(e.allowed),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Fr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.participantSid=n.string();break;case 2:r.trackSid=n.string();break;case 3:r.allowed=n.bool();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{participantSid:Zr(e.participantSid)?String(e.participantSid):"",trackSid:Zr(e.trackSid)?String(e.trackSid):"",allowed:!!Zr(e.allowed)&&Boolean(e.allowed)}},toJSON:function(e){var t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.allowed&&(t.allowed=e.allowed),t},fromPartial:function(e){var t,n,i,r=Fr();return r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",r.allowed=null!==(i=e.allowed)&&void 0!==i&&i,r}};function Jr(){return{answer:void 0,subscription:void 0,publishTracks:[],dataChannels:[],offer:void 0}}var Gr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();void 0!==e.answer&&ar.encode(e.answer,t.uint32(10).fork()).ldelim(),void 0!==e.subscription&&ur.encode(e.subscription,t.uint32(18).fork()).ldelim();var n,i=(0,g.default)(e.publishTracks);try{for(i.s();!(n=i.n()).done;){var r=n.value;tr.encode(r,t.uint32(26).fork()).ldelim()}}catch(c){i.e(c)}finally{i.f()}var a,o=(0,g.default)(e.dataChannels);try{for(o.s();!(a=o.n()).done;){var s=a.value;Wr.encode(s,t.uint32(34).fork()).ldelim()}}catch(c){o.e(c)}finally{o.f()}return void 0!==e.offer&&ar.encode(e.offer,t.uint32(42).fork()).ldelim(),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Jr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.answer=ar.decode(n,n.uint32());break;case 2:r.subscription=ur.decode(n,n.uint32());break;case 3:r.publishTracks.push(tr.decode(n,n.uint32()));break;case 4:r.dataChannels.push(Wr.decode(n,n.uint32()));break;case 5:r.offer=ar.decode(n,n.uint32());break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{answer:Zr(e.answer)?ar.fromJSON(e.answer):void 0,subscription:Zr(e.subscription)?ur.fromJSON(e.subscription):void 0,publishTracks:Array.isArray(null===e||void 0===e?void 0:e.publishTracks)?e.publishTracks.map((function(e){return tr.fromJSON(e)})):[],dataChannels:Array.isArray(null===e||void 0===e?void 0:e.dataChannels)?e.dataChannels.map((function(e){return Wr.fromJSON(e)})):[],offer:Zr(e.offer)?ar.fromJSON(e.offer):void 0}},toJSON:function(e){var t={};return void 0!==e.answer&&(t.answer=e.answer?ar.toJSON(e.answer):void 0),void 0!==e.subscription&&(t.subscription=e.subscription?ur.toJSON(e.subscription):void 0),e.publishTracks?t.publishTracks=e.publishTracks.map((function(e){return e?tr.toJSON(e):void 0})):t.publishTracks=[],e.dataChannels?t.dataChannels=e.dataChannels.map((function(e){return e?Wr.toJSON(e):void 0})):t.dataChannels=[],void 0!==e.offer&&(t.offer=e.offer?ar.toJSON(e.offer):void 0),t},fromPartial:function(e){var t,n,i=Jr();return i.answer=void 0!==e.answer&&null!==e.answer?ar.fromPartial(e.answer):void 0,i.subscription=void 0!==e.subscription&&null!==e.subscription?ur.fromPartial(e.subscription):void 0,i.publishTracks=(null===(t=e.publishTracks)||void 0===t?void 0:t.map((function(e){return tr.fromPartial(e)})))||[],i.dataChannels=(null===(n=e.dataChannels)||void 0===n?void 0:n.map((function(e){return Wr.fromPartial(e)})))||[],i.offer=void 0!==e.offer&&null!==e.offer?ar.fromPartial(e.offer):void 0,i}};function Hr(){return{label:"",id:0,target:0}}var Wr={encode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return""!==e.label&&t.uint32(10).string(e.label),0!==e.id&&t.uint32(16).uint32(e.id),0!==e.target&&t.uint32(24).int32(e.target),t},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Hr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.label=n.string();break;case 2:r.id=n.uint32();break;case 3:r.target=n.int32();break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{label:Zr(e.label)?String(e.label):"",id:Zr(e.id)?Number(e.id):0,target:Zr(e.target)?Di(e.target):0}},toJSON:function(e){var t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.id&&(t.id=Math.round(e.id)),void 0!==e.target&&(t.target=Ui(e.target)),t},fromPartial:function(e){var t,n,i,r=Hr();return r.label=null!==(t=e.label)&&void 0!==t?t:"",r.id=null!==(n=e.id)&&void 0!==n?n:0,r.target=null!==(i=e.target)&&void 0!==i?i:0,r}};function Qr(){return{scenario:void 0}}var qr={encode:function(e){var t,n,i,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt.Writer.create();return"speakerUpdate"===(null===(t=e.scenario)||void 0===t?void 0:t.$case)&&o.uint32(8).int32(e.scenario.speakerUpdate),"nodeFailure"===(null===(n=e.scenario)||void 0===n?void 0:n.$case)&&o.uint32(16).bool(e.scenario.nodeFailure),"migration"===(null===(i=e.scenario)||void 0===i?void 0:i.$case)&&o.uint32(24).bool(e.scenario.migration),"serverLeave"===(null===(r=e.scenario)||void 0===r?void 0:r.$case)&&o.uint32(32).bool(e.scenario.serverLeave),"switchCandidateProtocol"===(null===(a=e.scenario)||void 0===a?void 0:a.$case)&&o.uint32(40).int32(e.scenario.switchCandidateProtocol),o},decode:function(e,t){var n=e instanceof gt.Reader?e:new gt.Reader(e),i=void 0===t?n.len:n.pos+t,r=Qr();while(n.pos<i){var a=n.uint32();switch(a>>>3){case 1:r.scenario={$case:"speakerUpdate",speakerUpdate:n.int32()};break;case 2:r.scenario={$case:"nodeFailure",nodeFailure:n.bool()};break;case 3:r.scenario={$case:"migration",migration:n.bool()};break;case 4:r.scenario={$case:"serverLeave",serverLeave:n.bool()};break;case 5:r.scenario={$case:"switchCandidateProtocol",switchCandidateProtocol:n.int32()};break;default:n.skipType(7&a);break}}return r},fromJSON:function(e){return{scenario:Zr(e.speakerUpdate)?{$case:"speakerUpdate",speakerUpdate:Number(e.speakerUpdate)}:Zr(e.nodeFailure)?{$case:"nodeFailure",nodeFailure:Boolean(e.nodeFailure)}:Zr(e.migration)?{$case:"migration",migration:Boolean(e.migration)}:Zr(e.serverLeave)?{$case:"serverLeave",serverLeave:Boolean(e.serverLeave)}:Zr(e.switchCandidateProtocol)?{$case:"switchCandidateProtocol",switchCandidateProtocol:Li(e.switchCandidateProtocol)}:void 0}},toJSON:function(e){var t,n,i,r,a,o,s,c,u,d,l,f={};return"speakerUpdate"===(null===(t=e.scenario)||void 0===t?void 0:t.$case)&&(f.speakerUpdate=Math.round(null===(n=e.scenario)||void 0===n?void 0:n.speakerUpdate)),"nodeFailure"===(null===(i=e.scenario)||void 0===i?void 0:i.$case)&&(f.nodeFailure=null===(r=e.scenario)||void 0===r?void 0:r.nodeFailure),"migration"===(null===(a=e.scenario)||void 0===a?void 0:a.$case)&&(f.migration=null===(o=e.scenario)||void 0===o?void 0:o.migration),"serverLeave"===(null===(s=e.scenario)||void 0===s?void 0:s.$case)&&(f.serverLeave=null===(c=e.scenario)||void 0===c?void 0:c.serverLeave),"switchCandidateProtocol"===(null===(u=e.scenario)||void 0===u?void 0:u.$case)&&(f.switchCandidateProtocol=void 0!==(null===(d=e.scenario)||void 0===d?void 0:d.switchCandidateProtocol)?function(e){switch(e){case Ii.UDP:return"UDP";case Ii.TCP:return"TCP";case Ii.TLS:return"TLS";case Ii.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(null===(l=e.scenario)||void 0===l?void 0:l.switchCandidateProtocol):void 0),f},fromPartial:function(e){var t,n,i,r,a,o,s,c,u,d,l,f,p,h,v,m=Qr();return"speakerUpdate"===(null===(t=e.scenario)||void 0===t?void 0:t.$case)&&void 0!==(null===(n=e.scenario)||void 0===n?void 0:n.speakerUpdate)&&null!==(null===(i=e.scenario)||void 0===i?void 0:i.speakerUpdate)&&(m.scenario={$case:"speakerUpdate",speakerUpdate:e.scenario.speakerUpdate}),"nodeFailure"===(null===(r=e.scenario)||void 0===r?void 0:r.$case)&&void 0!==(null===(a=e.scenario)||void 0===a?void 0:a.nodeFailure)&&null!==(null===(o=e.scenario)||void 0===o?void 0:o.nodeFailure)&&(m.scenario={$case:"nodeFailure",nodeFailure:e.scenario.nodeFailure}),"migration"===(null===(s=e.scenario)||void 0===s?void 0:s.$case)&&void 0!==(null===(c=e.scenario)||void 0===c?void 0:c.migration)&&null!==(null===(u=e.scenario)||void 0===u?void 0:u.migration)&&(m.scenario={$case:"migration",migration:e.scenario.migration}),"serverLeave"===(null===(d=e.scenario)||void 0===d?void 0:d.$case)&&void 0!==(null===(l=e.scenario)||void 0===l?void 0:l.serverLeave)&&null!==(null===(f=e.scenario)||void 0===f?void 0:f.serverLeave)&&(m.scenario={$case:"serverLeave",serverLeave:e.scenario.serverLeave}),"switchCandidateProtocol"===(null===(p=e.scenario)||void 0===p?void 0:p.$case)&&void 0!==(null===(h=e.scenario)||void 0===h?void 0:h.switchCandidateProtocol)&&null!==(null===(v=e.scenario)||void 0===v?void 0:v.switchCandidateProtocol)&&(m.scenario={$case:"switchCandidateProtocol",switchCandidateProtocol:e.scenario.switchCandidateProtocol}),m}},$r=function(){if("undefined"!==typeof $r)return $r;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw"Unable to locate global object"}();function zr(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new $r.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Zr(e){return null!==e&&void 0!==e}gt.util.Long!==P&&(gt.util.Long=P,gt.configure());var Yr=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;return(0,v.default)(this,n),r=t.call(this,i||"an error has occured"),r.code=e,r}return(0,m.default)(n)}((0,f.default)(Error));t.LivekitError=Yr;var Kr=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r){var a;return(0,v.default)(this,n),a=t.call(this,1,e),a.status=r,a.reason=i,a}return(0,m.default)(n)}(Yr);t.ConnectionError=Kr;var Xr=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){return(0,v.default)(this,n),t.call(this,20,null!==e&&void 0!==e?e:"track is invalid")}return(0,m.default)(n)}(Yr);t.TrackInvalidError=Xr;var ea=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){return(0,v.default)(this,n),t.call(this,10,null!==e&&void 0!==e?e:"unsupported server")}return(0,m.default)(n)}(Yr);t.UnsupportedServer=ea;var ta=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){return(0,v.default)(this,n),t.call(this,12,null!==e&&void 0!==e?e:"unexpected connection state")}return(0,m.default)(n)}(Yr);t.UnexpectedConnectionState=ta;var na=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){return(0,v.default)(this,n),t.call(this,13,null!==e&&void 0!==e?e:"unable to negotiate")}return(0,m.default)(n)}(Yr);t.NegotiationError=na;var ia,ra,aa,oa,sa,ca=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){return(0,v.default)(this,n),t.call(this,13,null!==e&&void 0!==e?e:"unable to publish data")}return(0,m.default)(n)}(Yr);t.PublishDataError=ca,t.MediaDeviceFailure=ia,function(e){e["PermissionDenied"]="PermissionDenied",e["NotFound"]="NotFound",e["DeviceInUse"]="DeviceInUse",e["Other"]="Other"}(ia||(t.MediaDeviceFailure=ia={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(ia||(t.MediaDeviceFailure=ia={})),t.RoomEvent=ra,function(e){e["Connected"]="connected",e["Reconnecting"]="reconnecting",e["Reconnected"]="reconnected",e["Disconnected"]="disconnected",e["ConnectionStateChanged"]="connectionStateChanged",e["StateChanged"]="connectionStateChanged",e["MediaDevicesChanged"]="mediaDevicesChanged",e["ParticipantConnected"]="participantConnected",e["ParticipantDisconnected"]="participantDisconnected",e["TrackPublished"]="trackPublished",e["TrackSubscribed"]="trackSubscribed",e["TrackSubscriptionFailed"]="trackSubscriptionFailed",e["TrackUnpublished"]="trackUnpublished",e["TrackUnsubscribed"]="trackUnsubscribed",e["TrackMuted"]="trackMuted",e["TrackUnmuted"]="trackUnmuted",e["LocalTrackPublished"]="localTrackPublished",e["LocalTrackUnpublished"]="localTrackUnpublished",e["ActiveSpeakersChanged"]="activeSpeakersChanged",e["ParticipantMetadataChanged"]="participantMetadataChanged",e["RoomMetadataChanged"]="roomMetadataChanged",e["DataReceived"]="dataReceived",e["ConnectionQualityChanged"]="connectionQualityChanged",e["TrackStreamStateChanged"]="trackStreamStateChanged",e["TrackSubscriptionPermissionChanged"]="trackSubscriptionPermissionChanged",e["TrackSubscriptionStatusChanged"]="trackSubscriptionStatusChanged",e["AudioPlaybackStatusChanged"]="audioPlaybackChanged",e["MediaDevicesError"]="mediaDevicesError",e["ParticipantPermissionsChanged"]="participantPermissionsChanged",e["SignalConnected"]="signalConnected",e["RecordingStatusChanged"]="recordingStatusChanged"}(ra||(t.RoomEvent=ra={})),t.ParticipantEvent=aa,function(e){e["TrackPublished"]="trackPublished",e["TrackSubscribed"]="trackSubscribed",e["TrackSubscriptionFailed"]="trackSubscriptionFailed",e["TrackUnpublished"]="trackUnpublished",e["TrackUnsubscribed"]="trackUnsubscribed",e["TrackMuted"]="trackMuted",e["TrackUnmuted"]="trackUnmuted",e["LocalTrackPublished"]="localTrackPublished",e["LocalTrackUnpublished"]="localTrackUnpublished",e["ParticipantMetadataChanged"]="participantMetadataChanged",e["DataReceived"]="dataReceived",e["IsSpeakingChanged"]="isSpeakingChanged",e["ConnectionQualityChanged"]="connectionQualityChanged",e["TrackStreamStateChanged"]="trackStreamStateChanged",e["TrackSubscriptionPermissionChanged"]="trackSubscriptionPermissionChanged",e["TrackSubscriptionStatusChanged"]="trackSubscriptionStatusChanged",e["MediaDevicesError"]="mediaDevicesError",e["ParticipantPermissionsChanged"]="participantPermissionsChanged"}(aa||(t.ParticipantEvent=aa={})),t.EngineEvent=oa,function(e){e["TransportsCreated"]="transportsCreated",e["Connected"]="connected",e["Disconnected"]="disconnected",e["Resuming"]="resuming",e["Resumed"]="resumed",e["Restarting"]="restarting",e["Restarted"]="restarted",e["SignalResumed"]="signalResumed",e["Closing"]="closing",e["MediaTrackAdded"]="mediaTrackAdded",e["ActiveSpeakersUpdate"]="activeSpeakersUpdate",e["DataPacketReceived"]="dataPacketReceived"}(oa||(t.EngineEvent=oa={})),t.TrackEvent=sa,function(e){e["Message"]="message",e["Muted"]="muted",e["Unmuted"]="unmuted",e["Restarted"]="restarted",e["Ended"]="ended",e["Subscribed"]="subscribed",e["Unsubscribed"]="unsubscribed",e["UpdateSettings"]="updateSettings",e["UpdateSubscription"]="updateSubscription",e["AudioPlaybackStarted"]="audioPlaybackStarted",e["AudioPlaybackFailed"]="audioPlaybackFailed",e["AudioSilenceDetected"]="audioSilenceDetected",e["VisibilityChanged"]="visibilityChanged",e["VideoDimensionsChanged"]="videoDimensionsChanged",e["ElementAttached"]="elementAttached",e["ElementDetached"]="elementDetached",e["UpstreamPaused"]="upstreamPaused",e["UpstreamResumed"]="upstreamResumed",e["SubscriptionPermissionChanged"]="subscriptionPermissionChanged",e["SubscriptionStatusChanged"]="subscriptionStatusChanged"}(sa||(t.TrackEvent=sa={}));function ua(e,t){return t?("bytesReceived"in e?(n=e.bytesReceived,i=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,i=t.bytesSent),void 0===n||void 0===i||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-i)*1e3/(e.timestamp-t.timestamp)):0;var n,i}var da={},la={get exports(){return da},set exports(e){da=e}};(function(e,t){(function(n,i){var r="model",a="name",o="type",s="vendor",c="version",u="mobile",d="tablet",l="smarttv",f=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},p=function(e,t){return"string"===(0,b.default)(e)&&-1!==h(t).indexOf(h(e))},h=function(e){return e.toLowerCase()},v=function(e,t){if("string"===(0,b.default)(e))return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"undefined"===(0,b.default)(t)?e:e.substring(0,255)},m=function(e,t){var n,i,r,a,o,s,c=0;while(c<t.length&&!o){var u=t[c],d=t[c+1];n=i=0;while(n<u.length&&!o)if(o=u[n++].exec(e),o)for(r=0;r<d.length;r++)s=o[++i],a=d[r],"object"===(0,b.default)(a)&&a.length>0?2===a.length?"function"==(0,b.default)(a[1])?this[a[0]]=a[1].call(this,s):this[a[0]]=a[1]:3===a.length?"function"!==(0,b.default)(a[1])||a[1].exec&&a[1].test?this[a[0]]=s?s.replace(a[1],a[2]):void 0:this[a[0]]=s?a[1].call(this,s,a[2]):void 0:4===a.length&&(this[a[0]]=s?a[3].call(this,s.replace(a[1],a[2])):void 0):this[a]=s||void 0;c+=2}},g=function(e,t){for(var n in t)if("object"===(0,b.default)(t[n])&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(p(t[n][i],e))return"?"===n?void 0:n}else if(p(t[n],e))return"?"===n?void 0:n;return e},y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},k={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[c,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[c,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,c],[/opios[\/ ]+([\w\.]+)/i],[c,[a,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[c,[a,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[a,c],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[c,[a,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[c,[a,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[c,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[c,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[c,[a,"IE"]],[/yabrowser\/([\w\.]+)/i],[c,[a,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure Browser"],c],[/\bfocus\/([\w\.]+)/i],[c,[a,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[c,[a,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[c,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[c,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[c,[a,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[c,[a,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[c,[a,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 Browser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],c],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[a,c],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,"Facebook"],c],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[a,c],[/\bgsa\/([\w\.]+) .*safari\//i],[c,[a,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[c,[a,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,"Chrome WebView"],c],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[c,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,c],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[c,[a,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[c,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[c,g,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,c],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],c],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[c,[a,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[a,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",h]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",h]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[r,[s,"Samsung"],[o,d]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[r,[s,"Samsung"],[o,u]],[/\((ip(?:hone|od)[\w ]*);/i],[r,[s,"Apple"],[o,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[r,[s,"Apple"],[o,d]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[r,[s,"Huawei"],[o,d]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[r,[s,"Huawei"],[o,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[r,/_/g," "],[s,"Xiaomi"],[o,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[r,/_/g," "],[s,"Xiaomi"],[o,d]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[r,[s,"OPPO"],[o,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[r,[s,"Vivo"],[o,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[r,[s,"Realme"],[o,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[r,[s,"Motorola"],[o,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[r,[s,"Motorola"],[o,d]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[r,[s,"LG"],[o,d]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[r,[s,"LG"],[o,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[r,[s,"Lenovo"],[o,d]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[r,/_/g," "],[s,"Nokia"],[o,u]],[/(pixel c)\b/i],[r,[s,"Google"],[o,d]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[r,[s,"Google"],[o,u]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[r,[s,"Sony"],[o,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[r,"Xperia Tablet"],[s,"Sony"],[o,d]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[r,[s,"OnePlus"],[o,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[r,[s,"Amazon"],[o,d]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[r,/(.+)/g,"Fire Phone $1"],[s,"Amazon"],[o,u]],[/(playbook);[-\w\),; ]+(rim)/i],[r,s,[o,d]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[r,[s,"BlackBerry"],[o,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[r,[s,"ASUS"],[o,d]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[r,[s,"ASUS"],[o,u]],[/(nexus 9)/i],[r,[s,"HTC"],[o,d]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[s,[r,/_/g," "],[o,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[r,[s,"Acer"],[o,d]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[r,[s,"Meizu"],[o,u]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[r,[s,"Sharp"],[o,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[s,r,[o,u]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[s,r,[o,d]],[/(surface duo)/i],[r,[s,"Microsoft"],[o,d]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[r,[s,"Fairphone"],[o,u]],[/(u304aa)/i],[r,[s,"AT&T"],[o,u]],[/\bsie-(\w*)/i],[r,[s,"Siemens"],[o,u]],[/\b(rct\w+) b/i],[r,[s,"RCA"],[o,d]],[/\b(venue[\d ]{2,7}) b/i],[r,[s,"Dell"],[o,d]],[/\b(q(?:mv|ta)\w+) b/i],[r,[s,"Verizon"],[o,d]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[r,[s,"Barnes & Noble"],[o,d]],[/\b(tm\d{3}\w+) b/i],[r,[s,"NuVision"],[o,d]],[/\b(k88) b/i],[r,[s,"ZTE"],[o,d]],[/\b(nx\d{3}j) b/i],[r,[s,"ZTE"],[o,u]],[/\b(gen\d{3}) b.+49h/i],[r,[s,"Swiss"],[o,u]],[/\b(zur\d{3}) b/i],[r,[s,"Swiss"],[o,d]],[/\b((zeki)?tb.*\b) b/i],[r,[s,"Zeki"],[o,d]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[s,"Dragon Touch"],r,[o,d]],[/\b(ns-?\w{0,9}) b/i],[r,[s,"Insignia"],[o,d]],[/\b((nxa|next)-?\w{0,9}) b/i],[r,[s,"NextBook"],[o,d]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[s,"Voice"],r,[o,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[s,"LvTel"],r,[o,u]],[/\b(ph-1) /i],[r,[s,"Essential"],[o,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[r,[s,"Envizen"],[o,d]],[/\b(trio[-\w\. ]+) b/i],[r,[s,"MachSpeed"],[o,d]],[/\btu_(1491) b/i],[r,[s,"Rotor"],[o,d]],[/(shield[\w ]+) b/i],[r,[s,"Nvidia"],[o,d]],[/(sprint) (\w+)/i],[s,r,[o,u]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[s,"Microsoft"],[o,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[r,[s,"Zebra"],[o,d]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[r,[s,"Zebra"],[o,u]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[s,r,[o,"console"]],[/droid.+; (shield) bui/i],[r,[s,"Nvidia"],[o,"console"]],[/(playstation [345portablevi]+)/i],[r,[s,"Sony"],[o,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[r,[s,"Microsoft"],[o,"console"]],[/smart-tv.+(samsung)/i],[s,[o,l]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[s,"Samsung"],[o,l]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[s,"LG"],[o,l]],[/(apple) ?tv/i],[s,[r,"Apple TV"],[o,l]],[/crkey/i],[[r,"Chromecast"],[s,"Google"],[o,l]],[/droid.+aft(\w)( bui|\))/i],[r,[s,"Amazon"],[o,l]],[/\(dtv[\);].+(aquos)/i],[r,[s,"Sharp"],[o,l]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[s,v],[r,v],[o,l]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,l]],[/((pebble))app/i],[s,r,[o,"wearable"]],[/droid.+; (glass) \d/i],[r,[s,"Google"],[o,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[r,[s,"Zebra"],[o,"wearable"]],[/(quest( 2)?)/i],[r,[s,"Facebook"],[o,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[s,[o,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[r,[o,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[r,[o,d]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,d]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[o,u]],[/(android[-\w\. ]{0,9});.+buil/i],[r,[s,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[c,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[c,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,c],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[a,[c,g,y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[a,"Windows"],[c,g,y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[c,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,"Mac OS"],[c,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[c,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,c],[/\(bb(10);/i],[c,[a,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[c,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[c,[a,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[c,[a,"webOS"]],[/crkey\/([\d\.]+)/i],[c,[a,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,c],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],c],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[a,c]]},w=function e(t,i){if("object"===(0,b.default)(t)&&(i=t,t=void 0),!(this instanceof e))return new e(t,i).getResult();var r=t||("undefined"!==(0,b.default)(n)&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),a=i?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2===0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(k,i):k;return this.getBrowser=function(){var e={name:void 0,version:void 0};return m.call(e,r,a.browser),e.major=function(e){return"string"===(0,b.default)(e)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0}(e.version),e},this.getCPU=function(){var e={architecture:void 0};return m.call(e,r,a.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return m.call(e,r,a.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return m.call(e,r,a.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return m.call(e,r,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r="string"===(0,b.default)(e)&&e.length>255?v(e,255):e,this},this.setUA(r),this};w.VERSION="1.0.2",w.BROWSER=f([a,c,"major"]),w.CPU=f(["architecture"]),w.DEVICE=f([r,s,o,"console",u,l,d,"wearable","embedded"]),w.ENGINE=w.OS=f([a,c]),e.exports&&(t=e.exports=w),t.UAParser=w;var S="undefined"!==(0,b.default)(n)&&(n.jQuery||n.Zepto);if(S&&!S.ua){var A=new w;S.ua=A.getResult(),S.ua.get=function(){return A.getUA()},S.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var n in t)S.ua[n]=t[n]}}})("object"===("undefined"===typeof window?"undefined":(0,b.default)(window))?window:k)})(la,da);var fa=da;t.version="1.6.3";function pa(e,t,n){var i=xn({},e);return!0===i.audio&&(i.audio={}),!0===i.video&&(i.video={}),i.audio&&ha(i.audio,t),i.video&&ha(i.video,n),i}function ha(e,t){return Object.keys(t).forEach((function(n){void 0===e[n]&&(e[n]=t[n])})),e}function va(e){var t={};if(e.video)if("object"===(0,b.default)(e.video)){var n={},i=n,r=e.video;Object.keys(r).forEach((function(e){switch(e){case"resolution":ha(i,r.resolution);break;default:i[e]=r[e]}})),t.video=n}else t.video=e.video;else t.video=!1;return e.audio?"object"===(0,b.default)(e.audio)?t.audio=e.audio:t.audio=!0:t.audio=!1,t}function ma(e){return ga.apply(this,arguments)}function ga(){return ga=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u,d=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:200,i=ba(),!i){e.next=15;break}return r=i.createAnalyser(),r.fftSize=2048,a=r.frequencyBinCount,o=new Uint8Array(a),c=i.createMediaStreamSource(new MediaStream([t.mediaStreamTrack])),c.connect(r),e.next=11,ya(n);case 11:return r.getByteTimeDomainData(o),u=o.some((function(e){return 128!==e&&0!==e})),i.close(),e.abrupt("return",!u);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ba(){var e=window.AudioContext||window.webkitAudioContext;if(e)return new e({latencyHint:"interactive"})}t.protocolVersion=8;function ya(e){return ka.apply(this,arguments)}function ka(){return ka=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(){return"addTransceiver"in RTCPeerConnection.prototype}function Sa(){return"addTrack"in RTCPeerConnection.prototype}function Aa(){var e=RTCRtpReceiver.getCapabilities("video"),t=!1,n=!1;if(e){var i,r=(0,g.default)(e.codecs);try{for(r.s();!(i=r.n()).done;){var a=i.value;if("video/AV1"===a.mimeType){t=!0;break}}}catch(u){r.e(u)}finally{r.f()}var o,s=(0,g.default)(e.headerExtensions);try{for(s.s();!(o=s.n()).done;){var c=o.value;if("https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension"===c.uri){n=!0;break}}}catch(u){s.e(u)}finally{s.f()}}return t&&n}function Ca(e){return!!document&&(e||(e=document.createElement("audio")),"setSinkId"in e)}var xa={Chrome:"100",Chromium:"100",Safari:"15",Firefox:"100",Edge:"100",Brave:"1.40"};function Ta(e){if(!Oa())return!1;if(!("setCodecPreferences"in e))return!1;var t=fa();if(!t.browser.name||!t.browser.version)return!1;var n=xa[t.browser.name];return!!n&&function(e,t){for(var n=e.split("."),i=t.split("."),r=Math.min(e.length,t.length),a=0;a<r;++a){var o=parseInt(n[a],10),s=parseInt(i[a],10);if(o>s)return 1;if(o<s)return-1}return n.length==i.length?0:n.length<i.length?-1:1}(t.browser.version,n)>=0}function Pa(){return!!Oa()&&-1!==navigator.userAgent.indexOf("Firefox")}function Ea(){return!!Oa()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Ra(){return!!Oa()&&/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)}function Oa(){return"undefined"!==typeof document}function Na(e){var t,n=(0,g.default)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.target.handleResize(i)}}catch(r){n.e(r)}finally{n.f()}}function Ia(e){var t,n=(0,g.default)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.target.handleVisibilityChanged(i)}}catch(r){n.e(r)}finally{n.f()}}var Ma,Da,Ua=null,_a=function(){return Ua||(Ua=new ResizeObserver(Na)),Ua},La=null,Ba=function(){return La||(La=new IntersectionObserver(Ia,{root:document,rootMargin:"0px"})),La};function ja(){return Ma||(Ma=Fa()),Ma}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=document.createElement("canvas");r.width=e,r.height=t;var a=r.getContext("2d");null===a||void 0===a||a.fillRect(0,0,r.width,r.height),i&&a&&(a.beginPath(),a.arc(e/2,t/2,50,0,2*Math.PI,!0),a.closePath(),a.fillStyle="grey",a.fill());var o=r.captureStream(),s=o.getTracks(),u=(0,c.default)(s,1),d=u[0];if(!d)throw Error("Could not get empty media stream video track");return d.enabled=n,d}function Va(){if(!Da){var e=new AudioContext,t=e.createOscillator(),n=e.createMediaStreamDestination();t.connect(n),t.start();var i=n.stream.getAudioTracks(),r=(0,c.default)(i,1);if(Da=r[0],!Da)throw Error("Could not get empty media stream audio track");Da.enabled=!1}return Da}var Ja=(0,m.default)((function e(t,n){var i=this;(0,v.default)(this,e),this.onFinally=n,this.promise=new Promise(function(){var e=(0,u.default)((0,s.default)().mark((function e(n,r){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.resolve=n,i.reject=r,!t){e.next=5;break}return e.next=5,t(n,r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).finally((function(){var e;return null===(e=i.onFinally)||void 0===e?void 0:e.call(i)}))}));var Ga=function(){function e(){(0,v.default)(this,e),this._locking=Promise.resolve(),this._locks=0}return(0,m.default)(e,[{key:"isLocked",value:function(){return this._locks>0}},{key:"lock",value:function(){var e,t=this;this._locks+=1;var n=new Promise((function(n){return e=function(){t._locks-=1,n()}})),i=this._locking.then((function(){return e}));return this._locking=this._locking.then((function(){return n})),i}}]),e}(),Ha=function(){function e(t,n){(0,v.default)(this,e),this.maxConcurrent=t||1,this.minCycle=n||0,this.queueRunning=[],this.queueWaiting={},this.lastRun=0}return(0,m.default)(e,[{key:"dequeue",value:function(e){var t=this.queueRunning,n=t.findIndex((function(t){return t.hash===e}));if(-1==n)throw"queue desync";var i=t[n];return t.splice(n,1),i}},{key:"getFirstWaiting",value:function(){var e,t=(0,g.default)(Object.keys(this.queueWaiting).sort((function(e,t){return e-t})));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(void 0!==this.queueWaiting[n]&&this.queueWaiting[n].length>0)return this.queueWaiting[n]}}catch(i){t.e(i)}finally{t.f()}}},{key:"end",value:function(e){var t=this.dequeue(e);t.resolve();var n=this.getFirstWaiting();if(void 0!==n){var i=n.shift();i.resolve()}}},{key:"wait",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i,r,a=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=void 0===n?0:n,r={hash:t,priority:i},void 0==this.queueWaiting[i]&&(this.queueWaiting[i]=[]),!(this.queueRunning.length>=this.maxConcurrent)){e.next=8;break}return r.promise=new Promise((function(e){r.resolve=e})),this.queueWaiting[i].push(r),e.next=8,r.promise;case 8:this.queueRunning.push(r),r.promise=new Promise((function(e){r.resolve=e}));case 10:if(!(Date.now()-this.lastRun<this.minCycle)){e.next=15;break}return e.next=13,new Promise((function(e){return setTimeout(e,a.minCycle-Date.now()+a.lastRun)}));case 13:e.next=10;break;case 15:this.lastRun=Date.now();case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"run",value:function(e,t){var n=this,i=void 0===t?0:t,r=Symbol();return this.wait(r,i).then((function(){return e()})).finally((function(){n.end(r)}))}},{key:"stat",value:function(){var e=this;return{running:this.queueRunning.length,waiting:Object.keys(this.queueWaiting).reduce((function(t,n){return t+e.queueWaiting[n].length}),0),last:this.lastRun}}},{key:"flush",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.stat().waiting>0)){e.next=22;break}t=(0,g.default)(Object.keys(this.queueWaiting).sort((function(e,t){return t-e}))),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=12;break}if(i=n.value,r=this.queueWaiting[i],!(void 0!==r&&r.length>0)){e.next=10;break}return e.next=10,r[r.length-1].promise;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),t.e(e.t0);case 17:return e.prev=17,t.f(),e.finish(17);case 20:e.next=0;break;case 22:if(!(this.queueRunning.length>0)){e.next=27;break}return e.next=25,Promise.allSettled(this.queueRunning.map((function(e){return e.promise})));case 25:e.next=22;break;case 27:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wa=function(){function e(){(0,v.default)(this,e)}return(0,m.default)(e,[{key:"getDevices",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(n){var i,r,a,o,c,u,d=arguments;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=!(d.length>1&&void 0!==d[1])||d[1],!((null===(r=e.userMediaPromiseMap)||void 0===r?void 0:r.size)>0)){t.next=16;break}if(x.debug("awaiting getUserMedia promise"),t.prev=3,!n){t.next=9;break}return t.next=7,e.userMediaPromiseMap.get(n);case 7:t.next=11;break;case 9:return t.next=11,Promise.all(e.userMediaPromiseMap.values());case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),x.warn("error waiting for media permissons");case 16:return t.next=18,navigator.mediaDevices.enumerateDevices();case 18:if(a=t.sent,!i||!n||e.userMediaPromiseMap.get(n)&&Ea()){t.next=30;break}if(o=0===a.length||a.some((function(e){var t=""===e.label,i=!n||e.kind===n;return t&&i})),!o){t.next=30;break}return c={video:"audioinput"!==n&&"audiooutput"!==n,audio:"videoinput"!==n},t.next=25,navigator.mediaDevices.getUserMedia(c);case 25:return u=t.sent,t.next=28,navigator.mediaDevices.enumerateDevices();case 28:a=t.sent,u.getTracks().forEach((function(e){e.stop()}));case 30:return n&&(a=a.filter((function(e){return e.kind===n}))),t.abrupt("return",a);case 32:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"normalizeDeviceId",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("default"===n){e.next=2;break}return e.abrupt("return",n);case 2:return e.next=4,this.getDevices(t);case 4:return r=e.sent,a=r.find((function(e){return e.groupId===i&&"default"!==e.deviceId})),e.abrupt("return",null===a||void 0===a?void 0:a.deviceId);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return void 0===this.instance&&(this.instance=new e),this.instance}}]),e}();Wa.mediaDeviceKinds=["audioinput","audiooutput","videoinput"],Wa.userMediaPromiseMap=new Map;var Qa,qa={},$a={get exports(){return qa},set exports(e){qa=e}},za="object"===("undefined"===typeof Reflect?"undefined":(0,b.default)(Reflect))?Reflect:null,Za=za&&"function"===typeof za.apply?za.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Qa=za&&"function"===typeof za.ownKeys?za.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Ya=Number.isNaN||function(e){return e!==e};function Ka(){Ka.init.call(this)}$a.exports=Ka,qa.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,a),i(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}co(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&co(e,"error",t,n)}(e,r,{once:!0})}))},Ka.EventEmitter=Ka,Ka.prototype._events=void 0,Ka.prototype._eventsCount=0,Ka.prototype._maxListeners=void 0;var Xa=10;function eo(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+(0,b.default)(e))}function to(e){return void 0===e._maxListeners?Ka.defaultMaxListeners:e._maxListeners}function no(e,t,n,i){var r,a,o;if(eo(n),a=e._events,void 0===a?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"===typeof o?o=a[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),r=to(e),r>0&&o.length>r&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function io(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ro(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=io.bind(i);return r.listener=n,i.wrapFn=r,r}function ao(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):so(r,r.length)}function oo(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function so(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function co(e,t,n,i){if("function"===typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+(0,b.default)(e));e.addEventListener(t,(function r(a){i.once&&e.removeEventListener(t,r),n(a)}))}}Object.defineProperty(Ka,"defaultMaxListeners",{enumerable:!0,get:function(){return Xa},set:function(e){if("number"!==typeof e||e<0||Ya(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Xa=e}}),Ka.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ka.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||Ya(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ka.prototype.getMaxListeners=function(){return to(this)},Ka.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=r[e];if(void 0===s)return!1;if("function"===typeof s)Za(s,this,t);else{var c=s.length,u=so(s,c);for(n=0;n<c;++n)Za(u[n],this,t)}return!0},Ka.prototype.addListener=function(e,t){return no(this,e,t,!1)},Ka.prototype.on=Ka.prototype.addListener,Ka.prototype.prependListener=function(e,t){return no(this,e,t,!0)},Ka.prototype.once=function(e,t){return eo(t),this.on(e,ro(this,e,t)),this},Ka.prototype.prependOnceListener=function(e,t){return eo(t),this.prependListener(e,ro(this,e,t)),this},Ka.prototype.removeListener=function(e,t){var n,i,r,a,o;if(eo(t),i=this._events,void 0===i)return this;if(n=i[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},Ka.prototype.off=Ka.prototype.removeListener,Ka.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)r=a[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},Ka.prototype.listeners=function(e){return ao(this,e,!0)},Ka.prototype.rawListeners=function(e){return ao(this,e,!1)},Ka.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):oo.call(e,t)},Ka.prototype.listenerCount=oo,Ka.prototype.eventNames=function(){return this._eventsCount>0?Qa(this._events):[]};var uo=[],lo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;return(0,v.default)(this,n),r=t.call(this),r.attachedElements=[],r.isMuted=!1,r.streamState=n.StreamState.Active,r._currentBitrate=0,r.appVisibilityChangedListener=function(){r.backgroundTimeout&&clearTimeout(r.backgroundTimeout),"hidden"===document.visibilityState?r.backgroundTimeout=setTimeout((function(){return r.handleAppVisibilityChanged()}),5e3):r.handleAppVisibilityChanged()},r.setMaxListeners(100),r.kind=i,r._mediaStreamTrack=e,r._mediaStreamID=e.id,r.source=n.Source.Unknown,Oa()?(r.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",r.appVisibilityChangedListener)):r.isInBackground=!1,r}return(0,m.default)(n,[{key:"currentBitrate",get:function(){return this._currentBitrate}},{key:"mediaStreamTrack",get:function(){return this._mediaStreamTrack}},{key:"mediaStreamID",get:function(){return this._mediaStreamID}},{key:"attach",value:function(e){var t=this,i="audio";this.kind===n.Kind.Video&&(i="video"),e||("audio"===i&&(uo.forEach((function(t){null!==t.parentElement||e||(e=t)})),e&&uo.splice(uo.indexOf(e),1)),e||(e=document.createElement(i))),this.attachedElements.includes(e)||this.attachedElements.push(e),fo(this._mediaStreamTrack,e);var r=e.srcObject.getTracks();return r.some((function(e){return"audio"===e.kind}))&&e.play().then((function(){t.emit(sa.AudioPlaybackStarted)})).catch((function(n){t.emit(sa.AudioPlaybackFailed,n),e&&r.some((function(e){return"video"===e.kind}))&&"NotAllowedError"===n.name&&(e.muted=!0,e.play().catch((function(){})))})),this.emit(sa.ElementAttached,e),e}},{key:"detach",value:function(e){var t=this;if(e){po(this._mediaStreamTrack,e);var n=this.attachedElements.indexOf(e);return n>=0&&(this.attachedElements.splice(n,1),this.recycleElement(e),this.emit(sa.ElementDetached,e)),e}var i=[];return this.attachedElements.forEach((function(e){po(t._mediaStreamTrack,e),i.push(e),t.recycleElement(e),t.emit(sa.ElementDetached,e)})),this.attachedElements=[],i}},{key:"stop",value:function(){this.stopMonitor(),this._mediaStreamTrack.stop(),Oa()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}},{key:"enable",value:function(){this._mediaStreamTrack.enabled=!0}},{key:"disable",value:function(){this._mediaStreamTrack.enabled=!1}},{key:"stopMonitor",value:function(){this.monitorInterval&&clearInterval(this.monitorInterval)}},{key:"recycleElement",value:function(e){if(e instanceof HTMLAudioElement){var t=!0;e.pause(),uo.forEach((function(e){e.parentElement||(t=!1)})),t&&uo.push(e)}}},{key:"handleAppVisibilityChanged",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isInBackground="hidden"===document.visibilityState;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qa.EventEmitter);function fo(e,t){var n,i;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,i="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),i.includes(e)||(i.forEach((function(e){n.removeTrack(e)})),n.addTrack(e)),t.autoplay=!0,t.muted=0===n.getAudioTracks().length,t instanceof HTMLVideoElement&&(t.playsInline=!0),t.srcObject!==n&&(t.srcObject=n,(Ea()||Pa())&&t instanceof HTMLVideoElement&&setTimeout((function(){t.srcObject=n,t.play().catch((function(){}))}),0))}function po(e,t){if(t.srcObject instanceof MediaStream){var n=t.srcObject;n.removeTrack(e),n.getTracks().length>0?t.srcObject=n:t.srcObject=null}}t.Track=lo,function(e){var t,n,i;(function(e){e["Audio"]="audio",e["Video"]="video",e["Unknown"]="unknown"})(t=e.Kind||(e.Kind={})),function(e){e["Camera"]="camera",e["Microphone"]="microphone",e["ScreenShare"]="screen_share",e["ScreenShareAudio"]="screen_share_audio",e["Unknown"]="unknown"}(n=e.Source||(e.Source={})),function(e){e["Active"]="active",e["Paused"]="paused",e["Unknown"]="unknown"}(i=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return ot.AUDIO;case t.Video:return ot.VIDEO;default:return ot.UNRECOGNIZED}},e.kindFromProto=function(e){switch(e){case ot.AUDIO:return t.Audio;case ot.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case n.Camera:return st.CAMERA;case n.Microphone:return st.MICROPHONE;case n.ScreenShare:return st.SCREEN_SHARE;case n.ScreenShareAudio:return st.SCREEN_SHARE_AUDIO;default:return st.UNRECOGNIZED}},e.sourceFromProto=function(e){switch(e){case st.CAMERA:return n.Camera;case st.MICROPHONE:return n.Microphone;case st.SCREEN_SHARE:return n.ScreenShare;case st.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(e){switch(e){case Ni.ACTIVE:return i.Active;case Ni.PAUSED:return i.Paused;default:return i.Unknown}}}(lo||(t.Track=lo={}));var ho=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,a){var o;(0,v.default)(this,n);var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o=t.call(this,e,i),o._isUpstreamPaused=!1,o.handleEnded=function(){o.isInBackground&&(o.reacquireTrack=!0),o.emit(sa.Ended,(0,r.default)(o))},o._mediaStreamTrack.addEventListener("ended",o.handleEnded),o.constraints=null!==a&&void 0!==a?a:e.getConstraints(),o.reacquireTrack=!1,o.providedByUser=s,o.muteQueue=new Ha,o}return(0,m.default)(n,[{key:"id",get:function(){return this._mediaStreamTrack.id}},{key:"dimensions",get:function(){if(this.kind===lo.Kind.Video){var e=this._mediaStreamTrack.getSettings(),t=e.width,n=e.height;return t&&n?{width:t,height:n}:void 0}}},{key:"isUpstreamPaused",get:function(){return this._isUpstreamPaused}},{key:"isUserProvided",get:function(){return this.providedByUser}},{key:"waitForDimensions",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:2e3,this.kind!==lo.Kind.Audio){e.next=3;break}throw new Error("cannot get dimensions for audio tracks");case 3:n=Date.now();case 4:if(!(Date.now()-n<t)){e.next=12;break}if(i=this.dimensions,!i){e.next=8;break}return e.abrupt("return",i);case 8:return e.next=10,ya(50);case 10:e.next=4;break;case 12:throw new Xr("unable to get track dimensions after timeout");case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeviceId",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.source!==lo.Source.ScreenShare){e.next=2;break}return e.abrupt("return");case 2:return t=this._mediaStreamTrack.getSettings(),n=t.deviceId,i=t.groupId,r=this.kind===lo.Kind.Audio?"audioinput":"videoinput",e.abrupt("return",Wa.getInstance().normalizeDeviceId(r,n,i));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setTrackMuted(!0),e.abrupt("return",this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unmute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setTrackMuted(!1),e.abrupt("return",this);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i=this,r=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],this.sender){e.next=3;break}throw new Xr("unable to replace an unpublished track");case 3:if(this.attachedElements.forEach((function(e){po(i._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this.providedByUser||this._mediaStreamTrack.stop(),t.addEventListener("ended",this.handleEnded),x.debug("replace MediaStreamTrack"),!this.sender){e.next=11;break}return e.next=11,this.sender.replaceTrack(t);case 11:return this._mediaStreamTrack=t,this._mediaStreamTrack.enabled=!this.isMuted,e.next=15,this.resumeUpstream();case 15:return this.attachedElements.forEach((function(e){fo(t,e)})),this.mediaStream=new MediaStream([t]),this.providedByUser=n,e.abrupt("return",this);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restart",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t||(t=this.constraints),x.debug("restarting track with constraints",t),n={audio:!1,video:!1},this.kind===lo.Kind.Video?n.video=t:n.audio=t,this.attachedElements.forEach((function(e){po(a._mediaStreamTrack,e)})),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop(),e.next=9,navigator.mediaDevices.getUserMedia(n);case 9:if(i=e.sent,r=i.getTracks()[0],r.addEventListener("ended",this.handleEnded),x.debug("re-acquired MediaStreamTrack"),!this.sender){e.next=16;break}return e.next=16,this.sender.replaceTrack(r);case 16:return this._mediaStreamTrack=r,e.next=19,this.resumeUpstream();case 19:return this.attachedElements.forEach((function(e){fo(r,e)})),this.mediaStream=i,this.constraints=t,this.emit(sa.Restarted,this),e.abrupt("return",this);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTrackMuted",value:function(e){x.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted")),this.isMuted===e&&this._mediaStreamTrack.enabled!==e||(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?sa.Muted:sa.Unmuted,this))}},{key:"needsReAcquisition",get:function(){return"live"!==this._mediaStreamTrack.readyState||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}},{key:"handleAppVisibilityChanged",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)((0,o.default)(n.prototype),"handleAppVisibilityChanged",this).call(this);case 2:if(Ra()){e.next=4;break}return e.abrupt("return");case 4:if(x.debug("visibility changed, is in Background: ".concat(this.isInBackground)),this.isInBackground||!this.needsReAcquisition||this.isUserProvided||this.isMuted){e.next=10;break}return x.debug("track needs to be reaquired, restarting ".concat(this.source)),e.next=9,this.restart();case 9:this.reacquireTrack=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pauseUpstream",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==t._isUpstreamPaused){e.next=2;break}return e.abrupt("return");case 2:if(t.sender){e.next=5;break}return x.warn("unable to pause upstream for an unpublished track"),e.abrupt("return");case 5:return t._isUpstreamPaused=!0,t.emit(sa.UpstreamPaused,t),n=t.kind===lo.Kind.Audio?Va():ja(),e.next=10,t.sender.replaceTrack(n);case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resumeUpstream",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1!==t._isUpstreamPaused){e.next=2;break}return e.abrupt("return");case 2:if(t.sender){e.next=5;break}return x.warn("unable to resume upstream for an unpublished track"),e.abrupt("return");case 5:return t._isUpstreamPaused=!1,t.emit(sa.UpstreamResumed,t),e.next=9,t.sender.replaceTrack(t._mediaStreamTrack);case 9:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(lo);t.LocalTrack=ho;var vo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;(0,v.default)(this,n);var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r=t.call(this,e,lo.Kind.Audio,i,a),r.stopOnMute=!1,r.monitorSender=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.sender){e.next=3;break}return r._currentBitrate=0,e.abrupt("return");case 3:return e.prev=3,e.next=6,r.getSenderStats();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),x.error("could not get audio sender stats",{error:e.t0}),e.abrupt("return");case 13:t&&r.prevStats&&(r._currentBitrate=ua(t,r.prevStats)),r.prevStats=t;case 15:case"end":return e.stop()}}),e,null,[[3,9]])}))),r.checkForSilence(),r}return(0,m.default)(n,[{key:"setDeviceId",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.constraints.deviceId!==t){e.next=2;break}return e.abrupt("return");case 2:if(this.constraints.deviceId=t,this.isMuted){e.next=6;break}return e.next=6,this.restartTrack();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.source===lo.Source.Microphone&&t.stopOnMute&&!t.isUserProvided&&(x.debug("stopping mic track"),t._mediaStreamTrack.stop()),e.next=3,(0,a.default)((0,o.default)(n.prototype),"mute",t).call(t);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unmute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.source!==lo.Source.Microphone||!t.stopOnMute||t.isUserProvided){e.next=4;break}return x.debug("reacquiring mic track"),e.next=4,t.restartTrack();case 4:return e.next=6,(0,a.default)((0,o.default)(n.prototype),"unmute",t).call(t);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restartTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t&&(i=va({audio:t}),"boolean"!==typeof i.audio&&(n=i.audio)),e.next=3,this.restart(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restart",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)((0,o.default)(n.prototype),"restart",this).call(this,t);case 2:return i=e.sent,this.checkForSilence(),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startMonitor",value:function(){var e=this;Oa()&&(this.monitorInterval||(this.monitorInterval=setInterval((function(){e.monitorSender()}),2e3)))}},{key:"getSenderStats",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=this.sender)||void 0===t?void 0:t.getStats){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,this.sender.getStats();case 4:return n=e.sent,n.forEach((function(e){"outbound-rtp"===e.type&&(i={type:"audio",streamId:e.id,packetsSent:e.packetsSent,packetsLost:e.packetsLost,bytesSent:e.bytesSent,timestamp:e.timestamp,roundTripTime:e.roundTripTime,jitter:e.jitter})})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkForSilence",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ma(this);case 2:t=e.sent,t&&(this.isMuted||x.warn("silence detected on local audio track"),this.emit(sa.AudioSilenceDetected));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ho);t.LocalAudioTrack=vo;var mo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;(0,v.default)(this,n);var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r=t.call(this,e,lo.Kind.Video,i,a),r.simulcastCodecs=new Map,r.monitorSender=(0,u.default)((0,s.default)().mark((function e(){var t,n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.sender){e.next=3;break}return r._currentBitrate=0,e.abrupt("return");case 3:return e.prev=3,e.next=6,r.getSenderStats();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),x.error("could not get audio sender stats",{error:e.t0}),e.abrupt("return");case 13:n=new Map(t.map((function(e){return[e.rid,e]}))),r.prevStats&&(i=0,n.forEach((function(e,t){var n,a=null===(n=r.prevStats)||void 0===n?void 0:n.get(t);i+=ua(e,a)})),r._currentBitrate=i),r.prevStats=n;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),r}return(0,m.default)(n,[{key:"isSimulcast",get:function(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}},{key:"startMonitor",value:function(e){var t,n=this;if(this.signalClient=e,Oa()){var i=null===(t=this.sender)||void 0===t?void 0:t.getParameters();i&&(this.encodings=i.encodings),this.monitorInterval||(this.monitorInterval=setInterval((function(){n.monitorSender()}),2e3))}}},{key:"stop",value:function(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach((function(e){e.mediaStreamTrack.stop()})),(0,a.default)((0,o.default)(n.prototype),"stop",this).call(this)}},{key:"mute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.source!==lo.Source.Camera||t.isUserProvided||(x.debug("stopping camera track"),t._mediaStreamTrack.stop()),e.next=3,(0,a.default)((0,o.default)(n.prototype),"mute",t).call(t);case 3:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unmute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.muteQueue.run((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.source!==lo.Source.Camera||t.isUserProvided){e.next=4;break}return x.debug("reacquiring camera track"),e.next=4,t.restartTrack();case 4:return e.next=6,(0,a.default)((0,o.default)(n.prototype),"unmute",t).call(t);case 6:case"end":return e.stop()}}),e)}))));case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=this.sender)||void 0===t?void 0:t.getStats){e.next=2;break}return e.abrupt("return",[]);case 2:return n=[],e.next=5,this.sender.getStats();case 5:return i=e.sent,i.forEach((function(e){var t;if("outbound-rtp"===e.type){var r={type:"video",streamId:e.id,frameHeight:e.frameHeight,frameWidth:e.frameWidth,firCount:e.firCount,pliCount:e.pliCount,nackCount:e.nackCount,packetsSent:e.packetsSent,bytesSent:e.bytesSent,framesSent:e.framesSent,timestamp:e.timestamp,rid:null!==(t=e.rid)&&void 0!==t?t:e.id,retransmittedPacketsSent:e.retransmittedPacketsSent,qualityLimitationReason:e.qualityLimitationReason,qualityLimitationResolutionChanges:e.qualityLimitationResolutionChanges},a=i.get(e.remoteId);a&&(r.jitter=a.jitter,r.packetsLost=a.packetsLost,r.roundTripTime=a.roundTripTime),n.push(r)}})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPublishingQuality",value:function(e){for(var t=[],n=ct.LOW;n<=ct.HIGH;n+=1)t.push({quality:n,enabled:n<=e});x.debug("setting publishing quality. max quality ".concat(e)),this.setPublishingLayers(t)}},{key:"setDeviceId",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.constraints.deviceId!==t){e.next=2;break}return e.abrupt("return");case 2:if(this.constraints.deviceId=t,this.isMuted){e.next=6;break}return e.next=6,this.restartTrack();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t&&(i=va({video:t}),"boolean"!==typeof i.video&&(n=i.video)),e.next=3,this.restart(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addSimulcastTrack",value:function(e,t){if(this.simulcastCodecs.has(e))throw new Error("".concat(e," already added"));var n={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:t};return this.simulcastCodecs.set(e,n),n}},{key:"setSimulcastTrackSender",value:function(e,t){var n=this,i=this.simulcastCodecs.get(e);i&&(i.sender=t,setTimeout((function(){n.subscribedCodecs&&n.setPublishingCodecs(n.subscribedCodecs)}),5e3))}},{key:"setPublishingCodecs",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u,d,l,f,p;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(x.debug("setting publishing codecs",{codecs:t,currentCodec:this.codec}),this.codec||!(t.length>0)){e.next=5;break}return e.next=4,this.setPublishingLayers(t[0].qualities);case 4:return e.abrupt("return",[]);case 5:this.subscribedCodecs=t,n=[],i=!1,r=!1,e.prev=9,o=Sn(t);case 11:return e.next=13,o.next();case 13:if(!(i=!(c=e.sent).done)){e.next=50;break}if(u=c.value,this.codec&&this.codec!==u.codec){e.next=20;break}return e.next=18,this.setPublishingLayers(u.qualities);case 18:e.next=47;break;case 20:if(d=this.simulcastCodecs.get(u.codec),x.debug("try setPublishingCodec for ".concat(u.codec),d),d&&d.sender){e.next=43;break}l=(0,g.default)(u.qualities),e.prev=24,l.s();case 26:if((f=l.n()).done){e.next=33;break}if(p=f.value,!p.enabled){e.next=31;break}return n.push(u.codec),e.abrupt("break",33);case 31:e.next=26;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e["catch"](24),l.e(e.t0);case 38:return e.prev=38,l.f(),e.finish(38);case 41:e.next=47;break;case 43:if(!d.encodings){e.next=47;break}return x.debug("try setPublishingLayersForSender ".concat(u.codec)),e.next=47,go(d.sender,d.encodings,u.qualities);case 47:i=!1,e.next=11;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e["catch"](9),r=!0,a=e.t1;case 56:if(e.prev=56,e.prev=57,!i||null==o.return){e.next=61;break}return e.next=61,o.return();case 61:if(e.prev=61,!r){e.next=64;break}throw a;case 64:return e.finish(61);case 65:return e.finish(56);case 66:return e.abrupt("return",n);case 67:case"end":return e.stop()}}),e,this,[[9,52,56,66],[24,35,38,41],[57,,61,65]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setPublishingLayers",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(x.debug("setting publishing layers",t),this.sender&&this.encodings){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,go(this.sender,this.encodings,t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleAppVisibilityChanged",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)((0,o.default)(n.prototype),"handleAppVisibilityChanged",this).call(this);case 2:if(Ra()){e.next=4;break}return e.abrupt("return");case 4:this.isInBackground&&this.source===lo.Source.Camera&&(this._mediaStreamTrack.enabled=!1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ho);function go(e,t,n){return bo.apply(this,arguments)}function bo(){return bo=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r,a,o;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(x.debug("setPublishingLayersForSender",{sender:t,qualities:i,senderEncodings:n}),r=t.getParameters(),a=r.encodings,a){e.next=5;break}return e.abrupt("return");case 5:if(a.length===n.length){e.next=8;break}return x.warn("cannot set publishing layers, encodings mismatch"),e.abrupt("return");case 8:if(o=!1,a.forEach((function(e,t){var r,a=null!==(r=e.rid)&&void 0!==r?r:"";""===a&&(a="q");var s=yo(a),c=i.find((function(e){return e.quality===s}));c&&e.active!==c.enabled&&(o=!0,e.active=c.enabled,x.debug("setting layer ".concat(c.quality," to ").concat(e.active?"enabled":"disabled")),Pa()&&(c.enabled?(e.scaleResolutionDownBy=n[t].scaleResolutionDownBy,e.maxBitrate=n[t].maxBitrate,e.maxFrameRate=n[t].maxFrameRate):(e.scaleResolutionDownBy=4,e.maxBitrate=10,e.maxFrameRate=2)))})),!o){e.next=14;break}return r.encodings=a,e.next=14,t.setParameters(r);case 14:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function yo(e){switch(e){case"f":return ct.HIGH;case"h":return ct.MEDIUM;case"q":return ct.LOW;default:return ct.UNRECOGNIZED}}function ko(e,t,n){return n?n.map((function(i){var r,a,o,s=null!==(r=i.scaleResolutionDownBy)&&void 0!==r?r:1,c=yo(null!==(a=i.rid)&&void 0!==a?a:"");return c===ct.UNRECOGNIZED&&1===n.length&&(c=ct.HIGH),{quality:c,width:e/s,height:t/s,bitrate:null!==(o=i.maxBitrate)&&void 0!==o?o:0,ssrc:0}})):[{quality:ct.HIGH,width:e,height:t,bitrate:0,ssrc:0}]}t.LocalVideoTrack=mo;var wo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a){var o;return(0,v.default)(this,n),o=t.call(this,e,r),o.sid=i,o.receiver=a,o}return(0,m.default)(n,[{key:"setMuted",value:function(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?sa.Muted:sa.Unmuted,this))}},{key:"setMediaStream",value:function(e){var t=this;this.mediaStream=e,e.onremovetrack=function(){t.receiver=void 0,t._currentBitrate=0,t.emit(sa.Ended,t)}}},{key:"start",value:function(){this.startMonitor(),(0,a.default)((0,o.default)(n.prototype),"enable",this).call(this)}},{key:"stop",value:function(){this.stopMonitor(),(0,a.default)((0,o.default)(n.prototype),"disable",this).call(this)}},{key:"startMonitor",value:function(){var e=this;this.monitorInterval||(this.monitorInterval=setInterval((function(){return e.monitorReceiver()}),2e3))}}]),n}(lo);t.RemoteTrack=wo;var So=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a,o){var c;return(0,v.default)(this,n),c=t.call(this,e,i,lo.Kind.Audio,r),c.monitorReceiver=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.receiver){e.next=3;break}return c._currentBitrate=0,e.abrupt("return");case 3:return e.next=5,c.getReceiverStats();case 5:t=e.sent,t&&c.prevStats&&c.receiver&&(c._currentBitrate=ua(t,c.prevStats)),c.prevStats=t;case 8:case"end":return e.stop()}}),e)}))),c.audioContext=a,c.webAudioPluginNodes=[],o&&(c.sinkId=o.deviceId),c}return(0,m.default)(n,[{key:"setVolume",value:function(e){var t,n,i=(0,g.default)(this.attachedElements);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.audioContext?null===(t=this.gainNode)||void 0===t||t.gain.setTargetAtTime(e,0,.1):r.volume=e}}catch(a){i.e(a)}finally{i.f()}this.elementVolume=e}},{key:"getVolume",value:function(){if(this.elementVolume)return this.elementVolume;var e=0;return this.attachedElements.forEach((function(t){t.volume>e&&(e=t.volume)})),e}},{key:"setSinkId",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sinkId=t,e.next=3,Promise.all(this.attachedElements.map((function(e){if(Ca(e))return e.setSinkId(t)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attach",value:function(e){var t=0===this.attachedElements.length;return e?(0,a.default)((0,o.default)(n.prototype),"attach",this).call(this,e):e=(0,a.default)((0,o.default)(n.prototype),"attach",this).call(this),this.elementVolume&&(e.volume=this.elementVolume),this.sinkId&&Ca(e)&&e.setSinkId(this.sinkId),this.audioContext&&t&&(x.debug("using audio context mapping"),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),e}},{key:"detach",value:function(e){var t;return e?(t=(0,a.default)((0,o.default)(n.prototype),"detach",this).call(this,e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(t=(0,a.default)((0,o.default)(n.prototype),"detach",this).call(this),this.disconnectWebAudio()),t}},{key:"setAudioContext",value:function(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}},{key:"setWebAudioPlugins",value:function(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}},{key:"connectWebAudio",value:function(e,t){var n=this;this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(t.srcObject);var i=this.sourceNode;this.webAudioPluginNodes.forEach((function(e){i.connect(e),i=e})),this.gainNode=e.createGain(),i.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),"running"!==e.state&&e.resume().then((function(){"running"!==e.state&&n.emit(sa.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))})).catch((function(e){n.emit(sa.AudioPlaybackFailed,e)}))}},{key:"disconnectWebAudio",value:function(){var e,t;null===(e=this.gainNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}},{key:"getReceiverStats",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.receiver&&this.receiver.getStats){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.receiver.getStats();case 4:return t=e.sent,t.forEach((function(e){"inbound-rtp"===e.type&&(n={type:"audio",timestamp:e.timestamp,jitter:e.jitter,bytesReceived:e.bytesReceived,concealedSamples:e.concealedSamples,concealmentEvents:e.concealmentEvents,silentConcealedSamples:e.silentConcealedSamples,silentConcealmentEvents:e.silentConcealmentEvents,totalAudioEnergy:e.totalAudioEnergy,totalSamplesDuration:e.totalSamplesDuration})})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wo);function Ao(e,t,n){var i,r,a;void 0===t&&(t=50),void 0===n&&(n={});var o=null!=(i=n.isImmediate)&&i,s=null!=(r=n.callback)&&r,c=n.maxWait,u=Date.now(),d=[];function l(){if(void 0!==c){var e=Date.now()-u;if(e+t>=c)return c-e}return t}var f=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(i,r){var c=o&&void 0===a;if(void 0!==a&&clearTimeout(a),a=setTimeout((function(){if(a=void 0,u=Date.now(),!o){var i=e.apply(n,t);s&&s(i),d.forEach((function(e){return(0,e.resolve)(i)})),d=[]}}),l()),c){var f=e.apply(n,t);return s&&s(f),i(f)}d.push({resolve:i,reject:r})}))};return f.cancel=function(e){void 0!==a&&clearTimeout(a),d.forEach((function(t){return(0,t.reject)(e)})),d=[]},f}t.RemoteAudioTrack=So;var Co=(0,m.default)((function e(){(0,v.default)(this,e)}));t.CriticalTimers=Co,Co.setTimeout=function(){return setTimeout.apply(void 0,arguments)},Co.setInterval=function(){return setInterval.apply(void 0,arguments)},Co.clearTimeout=function(){return clearTimeout.apply(void 0,arguments)},Co.clearInterval=function(){return clearInterval.apply(void 0,arguments)};var xo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a){var o;return(0,v.default)(this,n),o=t.call(this,e,i,lo.Kind.Video,r),o.elementInfos=[],o.hasUsedAttach=!1,o.monitorReceiver=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.receiver){e.next=3;break}return o._currentBitrate=0,e.abrupt("return");case 3:return e.next=5,o.getReceiverStats();case 5:t=e.sent,t&&o.prevStats&&o.receiver&&(o._currentBitrate=ua(t,o.prevStats)),o.prevStats=t;case 8:case"end":return e.stop()}}),e)}))),o.debouncedHandleResize=Ao((function(){o.updateDimensions()}),100),o.adaptiveStreamSettings=a,o.isAdaptiveStream&&(o.streamState=lo.StreamState.Paused),o}return(0,m.default)(n,[{key:"isAdaptiveStream",get:function(){return void 0!==this.adaptiveStreamSettings}},{key:"mediaStreamTrack",get:function(){return this.isAdaptiveStream&&!this.hasUsedAttach&&x.warn("When using adaptiveStream, you need to use remoteVideoTrack.attach() to add the track to a HTMLVideoElement, otherwise your video tracks might never start"),this._mediaStreamTrack}},{key:"setMuted",value:function(e){var t=this;(0,a.default)((0,o.default)(n.prototype),"setMuted",this).call(this,e),this.attachedElements.forEach((function(n){e?po(t._mediaStreamTrack,n):fo(t._mediaStreamTrack,n)}))}},{key:"attach",value:function(e){if(e?(0,a.default)((0,o.default)(n.prototype),"attach",this).call(this,e):e=(0,a.default)((0,o.default)(n.prototype),"attach",this).call(this),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((function(t){return t.element===e}))){var t=new To(e);this.observeElementInfo(t)}return this.hasUsedAttach=!0,e}},{key:"observeElementInfo",value:function(e){var t=this;this.adaptiveStreamSettings&&void 0===this.elementInfos.find((function(t){return t===e}))?(e.handleResize=function(){t.debouncedHandleResize()},e.handleVisibilityChanged=function(){t.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):x.warn("visibility resize observer not triggered")}},{key:"stopObservingElementInfo",value:function(e){if(this.isAdaptiveStream){var t,n=this.elementInfos.filter((function(t){return t===e})),i=(0,g.default)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.stopObserving()}}catch(a){i.e(a)}finally{i.f()}this.elementInfos=this.elementInfos.filter((function(t){return t!==e})),this.updateVisibility()}else x.warn("stopObservingElementInfo ignored")}},{key:"detach",value:function(e){var t;if(e)return this.stopObservingElement(e),(0,a.default)((0,o.default)(n.prototype),"detach",this).call(this,e);t=(0,a.default)((0,o.default)(n.prototype),"detach",this).call(this);var i,r=(0,g.default)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value;this.stopObservingElement(s)}}catch(c){r.e(c)}finally{r.f()}return t}},{key:"getDecoderImplementation",value:function(){var e;return null===(e=this.prevStats)||void 0===e?void 0:e.decoderImplementation}},{key:"getReceiverStats",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.receiver&&this.receiver.getStats){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.receiver.getStats();case 4:return t=e.sent,t.forEach((function(e){"inbound-rtp"===e.type&&(n={type:"video",framesDecoded:e.framesDecoded,framesDropped:e.framesDropped,framesReceived:e.framesReceived,packetsReceived:e.packetsReceived,packetsLost:e.packetsLost,frameWidth:e.frameWidth,frameHeight:e.frameHeight,pliCount:e.pliCount,firCount:e.firCount,nackCount:e.nackCount,jitter:e.jitter,timestamp:e.timestamp,bytesReceived:e.bytesReceived,decoderImplementation:e.decoderImplementation})})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopObservingElement",value:function(e){var t,n=this.elementInfos.filter((function(t){return t.element===e})),i=(0,g.default)(n);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.stopObserving()}}catch(a){i.e(a)}finally{i.f()}this.elementInfos=this.elementInfos.filter((function(t){return t.element!==e}))}},{key:"handleAppVisibilityChanged",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.default)((0,o.default)(n.prototype),"handleAppVisibilityChanged",this).call(this);case 2:if(this.isAdaptiveStream){e.next=4;break}return e.abrupt("return");case 4:this.updateVisibility();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateVisibility",value:function(){var e,t,n=this,i=this.elementInfos.reduce((function(e,t){return Math.max(e,t.visibilityChangedAt||0)}),0),r=!(null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pauseVideoInBackground)&&void 0!==t&&!t)&&this.isInBackground,a=this.elementInfos.some((function(e){return e.visible}))&&!r;this.lastVisible!==a&&(!a&&Date.now()-i<100?Co.setTimeout((function(){n.updateVisibility()}),100):(this.lastVisible=a,this.emit(sa.VisibilityChanged,a,this)))}},{key:"updateDimensions",value:function(){var e,t,n,i,r,a=0,o=0,s=(0,g.default)(this.elementInfos);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity)&&void 0!==t?t:1,d="screen"===u?window.devicePixelRatio:u,l=c.width()*d,f=c.height()*d;l+f>a+o&&(a=l,o=f)}}catch(p){s.e(p)}finally{s.f()}(null===(n=this.lastDimensions)||void 0===n?void 0:n.width)===a&&(null===(i=this.lastDimensions)||void 0===i?void 0:i.height)===o||(this.lastDimensions={width:a,height:o},this.emit(sa.VideoDimensionsChanged,this.lastDimensions,this))}}]),n}(wo);t.RemoteVideoTrack=xo;var To=function(){function e(t,n){var i=this;(0,v.default)(this,e),this.onVisibilityChanged=function(e){var t,n=e.target,r=e.isIntersecting;n===i.element&&(i.visible=r,i.visibilityChangedAt=Date.now(),null===(t=i.handleVisibilityChanged)||void 0===t||t.call(i))},this.element=t,this.visible=null!==n&&void 0!==n?n:function(e){var t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,r=e.offsetHeight,a=e,o=a.hidden,s=getComputedStyle(e),c=s.opacity,u=s.display;while(e.offsetParent)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+r>window.pageYOffset&&n+i>window.pageXOffset&&!o&&(""===c||parseFloat(c)>0)&&"none"!==u}(t),this.visibilityChangedAt=0}return(0,m.default)(e,[{key:"width",value:function(){return this.element.clientWidth}},{key:"height",value:function(){return this.element.clientHeight}},{key:"observe",value:function(){var e=this;this.element.handleResize=function(){var t;null===(t=e.handleResize)||void 0===t||t.call(e)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Ba().observe(this.element),_a().observe(this.element)}},{key:"stopObserving",value:function(){var e,t;null===(e=Ba())||void 0===e||e.unobserve(this.element),null===(t=_a())||void 0===t||t.unobserve(this.element)}}]),e}();var Po=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r){var a;return(0,v.default)(this,n),a=t.call(this),a.metadataMuted=!1,a.handleMuted=function(){a.emit(sa.Muted)},a.handleUnmuted=function(){a.emit(sa.Unmuted)},a.setMaxListeners(100),a.kind=e,a.trackSid=i,a.trackName=r,a.source=lo.Source.Unknown,a}return(0,m.default)(n,[{key:"setTrack",value:function(e){this.track&&(this.track.off(sa.Muted,this.handleMuted),this.track.off(sa.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(sa.Muted,this.handleMuted),e.on(sa.Unmuted,this.handleUnmuted))}},{key:"isMuted",get:function(){return this.metadataMuted}},{key:"isEnabled",get:function(){return!0}},{key:"isSubscribed",get:function(){return void 0!==this.track}},{key:"audioTrack",get:function(){if(this.track instanceof vo||this.track instanceof So)return this.track}},{key:"videoTrack",get:function(){if(this.track instanceof mo||this.track instanceof xo)return this.track}},{key:"updateInfo",value:function(e){this.trackSid=e.sid,this.trackName=e.name,this.source=lo.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===lo.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.trackInfo=e,x.trace("update publication info",{info:e})}}]),n}(qa.EventEmitter);t.TrackPublication=Po,function(e){(function(e){e["Desired"]="desired",e["Subscribed"]="subscribed",e["Unsubscribed"]="unsubscribed"})(e.SubscriptionStatus||(e.SubscriptionStatus={})),function(e){e["Allowed"]="allowed",e["NotAllowed"]="not_allowed"}(e.PermissionStatus||(e.PermissionStatus={}))}(Po||(t.TrackPublication=Po={}));var Eo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r){var a;return(0,v.default)(this,n),a=t.call(this,e,i.sid,i.name),a.track=void 0,a.handleTrackEnded=function(){a.emit(sa.Ended)},a.updateInfo(i),a.setTrack(r),a}return(0,m.default)(n,[{key:"isUpstreamPaused",get:function(){var e;return null===(e=this.track)||void 0===e?void 0:e.isUpstreamPaused}},{key:"setTrack",value:function(e){this.track&&this.track.off(sa.Ended,this.handleTrackEnded),(0,a.default)((0,o.default)(n.prototype),"setTrack",this).call(this,e),e&&e.on(sa.Ended,this.handleTrackEnded)}},{key:"isMuted",get:function(){return this.track?this.track.isMuted:(0,a.default)((0,o.default)(n.prototype),"isMuted",this)}},{key:"audioTrack",get:function(){return(0,a.default)((0,o.default)(n.prototype),"audioTrack",this)}},{key:"videoTrack",get:function(){return(0,a.default)((0,o.default)(n.prototype),"videoTrack",this)}},{key:"mute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=this.track)||void 0===t?void 0:t.mute());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unmute",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=this.track)||void 0===t?void 0:t.unmute());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pauseUpstream",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.track)||void 0===t?void 0:t.pauseUpstream();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resumeUpstream",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.track)||void 0===t?void 0:t.resumeUpstream();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Po);t.LocalTrackPublication=Eo;var Ro=function(){function e(t,n,i,r){(0,v.default)(this,e),this.width=t,this.height=n,this.encoding={maxBitrate:i,maxFramerate:r}}return(0,m.default)(e,[{key:"resolution",get:function(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}]),e}();t.VideoPreset=Ro;var Oo,No=["vp8","h264"];function Io(e){return!!No.find((function(t){return t===e}))}t.AudioPresets=Oo,function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3},e.musicStereo={maxBitrate:48e3},e.musicHighQuality={maxBitrate:64e3},e.musicHighQualityStereo={maxBitrate:96e3}}(Oo||(t.AudioPresets=Oo={}));var Mo={h90:new Ro(160,90,6e4,15),h180:new Ro(320,180,12e4,15),h216:new Ro(384,216,18e4,15),h360:new Ro(640,360,3e5,20),h540:new Ro(960,540,6e5,25),h720:new Ro(1280,720,17e5,30),h1080:new Ro(1920,1080,3e6,30),h1440:new Ro(2560,1440,5e6,30),h2160:new Ro(3840,2160,8e6,30)};t.VideoPresets=Mo;var Do={h120:new Ro(160,120,8e4,15),h180:new Ro(240,180,1e5,15),h240:new Ro(320,240,15e4,15),h360:new Ro(480,360,225e3,20),h480:new Ro(640,480,3e5,20),h540:new Ro(720,540,45e4,25),h720:new Ro(960,720,15e5,30),h1080:new Ro(1440,1080,25e5,30),h1440:new Ro(1920,1440,35e5,30)};t.VideoPresets43=Do;var Uo,_o={h360fps3:new Ro(640,360,2e5,3),h720fps5:new Ro(1280,720,4e5,5),h720fps15:new Ro(1280,720,1e6,15),h1080fps15:new Ro(1920,1080,15e5,15),h1080fps30:new Ro(1920,1080,3e6,30)};t.ScreenSharePresets=_o,t.ConnectionQuality=Uo,function(e){e["Excellent"]="excellent",e["Good"]="good",e["Poor"]="poor",e["Unknown"]="unknown"}(Uo||(t.ConnectionQuality=Uo={}));var Lo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a){var o;return(0,v.default)(this,n),o=t.call(this),o.audioLevel=0,o.isSpeaking=!1,o._connectionQuality=Uo.Unknown,o.setMaxListeners(100),o.sid=e,o.identity=i,o.name=r,o.metadata=a,o.audioTracks=new Map,o.videoTracks=new Map,o.tracks=new Map,o}return(0,m.default)(n,[{key:"getTracks",value:function(){return Array.from(this.tracks.values())}},{key:"getTrack",value:function(e){if(e!==lo.Source.Unknown){var t,n=(0,g.default)(this.tracks);try{for(n.s();!(t=n.n()).done;){var i=(0,c.default)(t.value,2),r=i[1];if(r.source===e)return r}}catch(a){n.e(a)}finally{n.f()}}}},{key:"getTrackByName",value:function(e){var t,n=(0,g.default)(this.tracks);try{for(n.s();!(t=n.n()).done;){var i=(0,c.default)(t.value,2),r=i[1];if(r.trackName===e)return r}}catch(a){n.e(a)}finally{n.f()}}},{key:"connectionQuality",get:function(){return this._connectionQuality}},{key:"isCameraEnabled",get:function(){var e,t=this.getTrack(lo.Source.Camera);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}},{key:"isMicrophoneEnabled",get:function(){var e,t=this.getTrack(lo.Source.Microphone);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}},{key:"isScreenShareEnabled",get:function(){var e=this.getTrack(lo.Source.ScreenShare);return!!e}},{key:"isLocal",get:function(){return!1}},{key:"joinedAt",get:function(){return this.participantInfo?new Date(1e3*this.participantInfo.joinedAt):new Date}},{key:"updateInfo",value:function(e){this.identity=e.identity,this.sid=e.sid,this.name=e.name,this.setMetadata(e.metadata),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,x.trace("update participant info",{info:e})}},{key:"setMetadata",value:function(e){var t=this.metadata!==e,n=this.metadata;this.metadata=e,t&&this.emit(aa.ParticipantMetadataChanged,n)}},{key:"setPermissions",value:function(e){var t,n,i,r,a,o=e.canPublish!==(null===(t=this.permissions)||void 0===t?void 0:t.canPublish)||e.canSubscribe!==(null===(n=this.permissions)||void 0===n?void 0:n.canSubscribe)||e.canPublishData!==(null===(i=this.permissions)||void 0===i?void 0:i.canPublishData)||e.hidden!==(null===(r=this.permissions)||void 0===r?void 0:r.hidden)||e.recorder!==(null===(a=this.permissions)||void 0===a?void 0:a.recorder);return this.permissions=e,o}},{key:"setIsSpeaking",value:function(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(aa.IsSpeakingChanged,e))}},{key:"setConnectionQuality",value:function(e){var t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case ut.EXCELLENT:return Uo.Excellent;case ut.GOOD:return Uo.Good;case ut.POOR:return Uo.Poor;default:return Uo.Unknown}}(e),t!==this._connectionQuality&&this.emit(aa.ConnectionQualityChanged,this._connectionQuality)}},{key:"addTrackPublication",value:function(e){var t=this;e.on(sa.Muted,(function(){t.emit(aa.TrackMuted,e)})),e.on(sa.Unmuted,(function(){t.emit(aa.TrackUnmuted,e)}));var n=e;switch(n.track&&(n.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case lo.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case lo.Kind.Video:this.videoTracks.set(e.trackSid,e);break}}}]),n}(qa.EventEmitter);function Bo(e,t){switch(e.kind){case"audio":return new vo(e,t,!1);case"video":return new mo(e,t,!1);default:throw new Xr("unsupported track type: ".concat(e.kind))}}t.Participant=Lo;var jo=Object.values(Mo),Fo=Object.values(Do),Vo=Object.values(_o),Jo=[Mo.h180,Mo.h360],Go=[Do.h180,Do.h360],Ho=["q","h","f"];function Wo(e,t,n,i){var r,a,o=null===i||void 0===i?void 0:i.videoEncoding;e&&(o=null===i||void 0===i?void 0:i.screenShareEncoding);var s=null===i||void 0===i?void 0:i.simulcast,u=null===i||void 0===i?void 0:i.scalabilityMode,d=null===i||void 0===i?void 0:i.videoCodec;if(!o&&!s&&!u||!t||!n)return[{}];o||(o=function(e,t,n,i){for(var r=function(e,t,n){if(e)return Vo;var i=t>n?t/n:n/t;if(Math.abs(i-16/9)<Math.abs(i-4/3))return jo;return Fo}(e,t,n),a=r[0].encoding,o=Math.max(t,n),s=0;s<r.length;s+=1){var c=r[s];if(a=c.encoding,c.width>=o)break}if(i)switch(i){case"av1":a.maxBitrate=.7*a.maxBitrate;break}return a}(e,t,n,d),x.debug("using video encoding",o));var l=new Ro(t,n,o.maxBitrate,o.maxFramerate);if(u&&"av1"===d){x.debug("using svc with scalabilityMode ".concat(u));var f=[];switch(u){case"L3T3":for(var p=0;p<3;p+=1)f.push({rid:Ho[2-p],scaleResolutionDownBy:Math.pow(2,p),maxBitrate:o.maxBitrate/Math.pow(3,p),maxFramerate:l.encoding.maxFramerate,scalabilityMode:"L3T3"});return x.debug("encodings",f),f;default:throw new Error("unsupported scalabilityMode: ".concat(u))}}if(!s)return[o];var h,v=[];if(v=e?null!==(r=zo(null===i||void 0===i?void 0:i.screenShareSimulcastLayers))&&void 0!==r?r:qo(e,l):null!==(a=zo(null===i||void 0===i?void 0:i.videoSimulcastLayers))&&void 0!==a?a:qo(e,l),v.length>0){var m=v[0];if(v.length>1){var g=v,b=(0,c.default)(g,2);h=b[1]}var y=Math.max(t,n);if(y>=960&&h)return $o(t,n,[m,h,l]);if(y>=480)return $o(t,n,[m,l])}return $o(t,n,[l])}function Qo(e,t,n){var i,r,a,o;if(n.backupCodec&&n.backupCodec.codec!==n.videoCodec){t!==n.backupCodec.codec&&x.warn("requested a different codec than specified as backup",{serverRequested:t,backup:n.backupCodec.codec}),n.videoCodec=t,n.videoEncoding=n.backupCodec.encoding;var s=e.mediaStreamTrack.getSettings(),c=null!==(i=s.width)&&void 0!==i?i:null===(r=e.dimensions)||void 0===r?void 0:r.width,u=null!==(a=s.height)&&void 0!==a?a:null===(o=e.dimensions)||void 0===o?void 0:o.height,d=Wo(e.source===lo.Source.ScreenShare,c,u,n);return d}}function qo(e,t){if(e)return function(e){return[{scaleResolutionDownBy:2,fps:3}].map((function(t){var n;return new Ro(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(n=e.encoding.maxFramerate)&&void 0!==n?n:30)/t.fps)))),t.fps)}))}(t);var n=t.width,i=t.height,r=n>i?n/i:i/n;return Math.abs(r-16/9)<Math.abs(r-4/3)?Jo:Go}function $o(e,t,n){var i=[];return n.forEach((function(n,r){if(!(r>=Ho.length)){var a=Math.min(e,t),o=Ho[r];i.push({rid:o,scaleResolutionDownBy:Math.max(1,a/Math.min(n.width,n.height)),maxBitrate:n.encoding.maxBitrate,maxFramerate:n.encoding.maxFramerate})}})),i}function zo(e){if(e)return e.sort((function(e,t){var n=e.encoding,i=t.encoding;return n.maxBitrate>i.maxBitrate?1:n.maxBitrate<i.maxBitrate?-1:n.maxBitrate===i.maxBitrate&&n.maxFramerate&&i.maxFramerate?n.maxFramerate>i.maxFramerate?1:-1:0}))}var Zo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a){var o;return(0,v.default)(this,n),o=t.call(this,e,i,r),o.track=void 0,o.allowed=!0,o.disabled=!1,o.currentVideoQuality=ct.HIGH,o.handleEnded=function(e){o.setTrack(void 0),o.emit(sa.Ended,e)},o.handleVisibilityChange=function(e){x.debug("adaptivestream video visibility ".concat(o.trackSid,", visible=").concat(e),{trackSid:o.trackSid}),o.disabled=!e,o.emitTrackUpdate()},o.handleVideoDimensionsChange=function(e){x.debug("adaptivestream video dimensions ".concat(e.width,"x").concat(e.height),{trackSid:o.trackSid}),o.videoDimensions=e,o.emitTrackUpdate()},o.subscribed=a,o}return(0,m.default)(n,[{key:"setSubscribed",value:function(e){var t=this.subscriptionStatus,n=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);var i={trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[{participantSid:"",trackSids:[this.trackSid]}]};this.emit(sa.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(t),this.emitPermissionUpdateIfChanged(n)}},{key:"subscriptionStatus",get:function(){return!1===this.subscribed?Po.SubscriptionStatus.Unsubscribed:(0,a.default)((0,o.default)(n.prototype),"isSubscribed",this)?Po.SubscriptionStatus.Subscribed:Po.SubscriptionStatus.Desired}},{key:"permissionStatus",get:function(){return this.allowed?Po.PermissionStatus.Allowed:Po.PermissionStatus.NotAllowed}},{key:"isSubscribed",get:function(){return!1!==this.subscribed&&(0,a.default)((0,o.default)(n.prototype),"isSubscribed",this)}},{key:"isDesired",get:function(){return!1!==this.subscribed}},{key:"isEnabled",get:function(){return!this.disabled}},{key:"setEnabled",value:function(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}},{key:"setVideoQuality",value:function(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}},{key:"setVideoDimensions",value:function(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.videoDimensions)||void 0===n?void 0:n.height)===e.height||(this.track instanceof xo&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}},{key:"setVideoFPS",value:function(e){this.isManualOperationAllowed()&&this.track instanceof xo&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}},{key:"videoQuality",get:function(){return this.currentVideoQuality}},{key:"setTrack",value:function(e){var t=this.subscriptionStatus,i=this.permissionStatus,r=this.track;r!==e&&(r&&(r.off(sa.VideoDimensionsChanged,this.handleVideoDimensionsChange),r.off(sa.VisibilityChanged,this.handleVisibilityChange),r.off(sa.Ended,this.handleEnded),r.detach(),this.emit(sa.Unsubscribed,r)),(0,a.default)((0,o.default)(n.prototype),"setTrack",this).call(this,e),e&&(e.sid=this.trackSid,e.on(sa.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(sa.VisibilityChanged,this.handleVisibilityChange),e.on(sa.Ended,this.handleEnded),this.emit(sa.Subscribed,e)),this.emitPermissionUpdateIfChanged(i),this.emitSubscriptionUpdateIfChanged(t))}},{key:"setAllowed",value:function(e){var t=this.subscriptionStatus,n=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(n),this.emitSubscriptionUpdateIfChanged(t)}},{key:"updateInfo",value:function(e){var t;(0,a.default)((0,o.default)(n.prototype),"updateInfo",this).call(this,e),this.metadataMuted=e.muted,null===(t=this.track)||void 0===t||t.setMuted(e.muted)}},{key:"emitSubscriptionUpdateIfChanged",value:function(e){var t=this.subscriptionStatus;e!==t&&this.emit(sa.SubscriptionStatusChanged,t,e)}},{key:"emitPermissionUpdateIfChanged",value:function(e){var t=this.permissionStatus;t!==e&&this.emit(sa.SubscriptionPermissionChanged,this.permissionStatus,e)}},{key:"isManualOperationAllowed",value:function(){return this.isAdaptiveStream?(x.warn("adaptive stream is enabled, cannot change track settings",{trackSid:this.trackSid}),!1):!!this.isDesired||(x.warn("cannot update track settings when not subscribed",{trackSid:this.trackSid}),!1)}},{key:"isAdaptiveStream",get:function(){return this.track instanceof xo&&this.track.isAdaptiveStream}},{key:"emitTrackUpdate",value:function(){var e=lr.fromPartial({trackSids:[this.trackSid],disabled:this.disabled,fps:this.fps});this.videoDimensions?(e.width=this.videoDimensions.width,e.height=this.videoDimensions.height):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=ct.HIGH,this.emit(sa.UpdateSettings,e)}}]),n}(Po);t.RemoteTrackPublication=Zo;var Yo=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a,o){var s;return(0,v.default)(this,n),s=t.call(this,i,r||"",a,o),s.signalClient=e,s.tracks=new Map,s.audioTracks=new Map,s.videoTracks=new Map,s}return(0,m.default)(n,[{key:"addTrackPublication",value:function(e){var t=this;(0,a.default)((0,o.default)(n.prototype),"addTrackPublication",this).call(this,e),e.on(sa.UpdateSettings,(function(e){x.debug("send update settings",e),t.signalClient.sendUpdateTrackSettings(e)})),e.on(sa.UpdateSubscription,(function(e){e.participantTracks.forEach((function(e){e.participantSid=t.sid})),t.signalClient.sendUpdateSubscription(e)})),e.on(sa.SubscriptionPermissionChanged,(function(n){t.emit(aa.TrackSubscriptionPermissionChanged,e,n)})),e.on(sa.SubscriptionStatusChanged,(function(n){t.emit(aa.TrackSubscriptionStatusChanged,e,n)})),e.on(sa.Subscribed,(function(n){t.emit(aa.TrackSubscribed,n,e)})),e.on(sa.Unsubscribed,(function(n){t.emit(aa.TrackUnsubscribed,n,e)}))}},{key:"getTrack",value:function(e){var t=(0,a.default)((0,o.default)(n.prototype),"getTrack",this).call(this,e);if(t)return t}},{key:"getTrackByName",value:function(e){var t=(0,a.default)((0,o.default)(n.prototype),"getTrackByName",this).call(this,e);if(t)return t}},{key:"setVolume",value:function(e){this.volume=e;var t=this.getTrack(lo.Source.Microphone);t&&t.track&&t.track.setVolume(e)}},{key:"getVolume",value:function(){var e=this.getTrack(lo.Source.Microphone);return e&&e.track?e.track.getVolume():this.volume}},{key:"addSubscribedMediaTrack",value:function(e,t,n,i,r,a){var o=this,s=this.getTrackPublication(t);if(s||t.startsWith("TR")||this.tracks.forEach((function(t){s||e.kind!==t.kind.toString()||(s=t)})),!s)return 0===a?(x.error("could not find published track",{participant:this.sid,trackSid:t}),void this.emit(aa.TrackSubscriptionFailed,t)):(void 0===a&&(a=20),void setTimeout((function(){o.addSubscribedMediaTrack(e,t,n,i,r,a-1)}),150));if("ended"===e.readyState)return x.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",{participant:this.sid,trackSid:t}),void this.emit(aa.TrackSubscriptionFailed,t);var c,u="video"===e.kind;return c=u?new xo(e,t,i,r):new So(e,t,i,this.audioContext,this.audioOutput),c.source=s.source,c.isMuted=s.isMuted,c.setMediaStream(n),c.start(),s.setTrack(c),void 0!==this.volume&&c instanceof So&&c.source===lo.Source.Microphone&&c.setVolume(this.volume),s}},{key:"hasMetadata",get:function(){return!!this.participantInfo}},{key:"getTrackPublication",value:function(e){return this.tracks.get(e)}},{key:"updateInfo",value:function(e){var t=this;(0,a.default)((0,o.default)(n.prototype),"updateInfo",this).call(this,e);var i=new Map,r=new Map;e.tracks.forEach((function(n){var a,o=t.getTrackPublication(n.sid);if(o)o.updateInfo(n);else{var s=lo.kindFromProto(n.type);if(!s)return;o=new Zo(s,n.sid,n.name,null===(a=t.signalClient.connectOptions)||void 0===a?void 0:a.autoSubscribe),o.updateInfo(n),r.set(n.sid,o);var c=Array.from(t.tracks.values()).find((function(e){return e.source===(null===o||void 0===o?void 0:o.source)}));c&&o.source!==lo.Source.Unknown&&x.warn("received a second track publication for ".concat(t.identity," with the same source: ").concat(o.source),{oldTrack:c,newTrack:o,participant:t,participantInfo:e}),t.addTrackPublication(o)}i.set(n.sid,o)})),this.tracks.forEach((function(e){i.has(e.trackSid)||(x.trace("detected removed track on remote participant, unpublishing",{publication:e,participantSid:t.sid}),t.unpublishTrack(e.trackSid,!0))})),r.forEach((function(e){t.emit(aa.TrackPublished,e)}))}},{key:"unpublishTrack",value:function(e,t){var n=this.tracks.get(e);if(n){switch(this.tracks.delete(e),n.kind){case lo.Kind.Audio:this.audioTracks.delete(e);break;case lo.Kind.Video:this.videoTracks.delete(e);break}var i=n.track;i&&(i.stop(),n.setTrack(void 0)),t&&this.emit(aa.TrackUnpublished,n)}}},{key:"setAudioContext",value:function(e){this.audioContext=e,this.audioTracks.forEach((function(t){return t.track instanceof So&&t.track.setAudioContext(e)}))}},{key:"setAudioOutput",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.audioOutput=t,n=[],this.audioTracks.forEach((function(e){var i;e.track instanceof So&&n.push(e.track.setSinkId(null!==(i=t.deviceId)&&void 0!==i?i:"default"))})),e.next=5,Promise.all(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emit",value:function(e){for(var t,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return x.trace("participant event",{participant:this.sid,event:e,args:r}),(t=(0,a.default)((0,o.default)(n.prototype),"emit",this)).call.apply(t,[this,e].concat(r))}}],[{key:"fromParticipantInfo",value:function(e,t){return new n(e,t.sid,t.identity,t.name,t.metadata)}}]),n}(Lo);t.RemoteParticipant=Yo;var Ko=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i,r,a){var o;return(0,v.default)(this,n),o=t.call(this,e,i),o.pendingPublishing=new Set,o.participantTrackPermissions=[],o.allParticipantsAllowedToSubscribe=!0,o.updateTrackSubscriptionPermissions=function(){x.debug("updating track subscription permissions",{allParticipantsAllowed:o.allParticipantsAllowedToSubscribe,participantTrackPermissions:o.participantTrackPermissions}),o.engine.client.sendUpdateSubscriptionPermissions(o.allParticipantsAllowedToSubscribe,o.participantTrackPermissions.map((function(e){return function(e){var t,n,i;if(!e.participantSid&&!e.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return{participantIdentity:null!==(t=e.participantIdentity)&&void 0!==t?t:"",participantSid:null!==(n=e.participantSid)&&void 0!==n?n:"",allTracks:null!==(i=e.allowAll)&&void 0!==i&&i,trackSids:e.allowedTrackSids||[]}}(e)})))},o.onTrackUnmuted=function(e){o.onTrackMuted(e,e.isUpstreamPaused)},o.onTrackMuted=function(e,t){void 0===t&&(t=!0),e.sid?o.engine.updateMuteStatus(e.sid,t):x.error("could not update mute status for unpublished track",e)},o.onTrackUpstreamPaused=function(e){x.debug("upstream paused"),o.onTrackMuted(e,!0)},o.onTrackUpstreamResumed=function(e){x.debug("upstream resumed"),o.onTrackMuted(e,e.isMuted)},o.handleSubscribedQualityUpdate=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,c,u,d,l,f,p;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(n=o.roomOptions)||void 0===n?void 0:n.dynacast){e.next=2;break}return e.abrupt("return");case 2:if(r=o.videoTracks.get(t.trackSid),r){e.next=6;break}return x.warn("received subscribed quality update for unknown track",{method:"handleSubscribedQualityUpdate",sid:t.trackSid}),e.abrupt("return");case 6:if(!(t.subscribedCodecs.length>0)){e.next=45;break}if(r.videoTrack){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,r.videoTrack.setPublishingCodecs(t.subscribedCodecs);case 11:a=e.sent,c=!1,u=!1,e.prev=14,l=Sn(a);case 16:return e.next=18,l.next();case 18:if(!(c=!(f=e.sent).done)){e.next=27;break}if(p=f.value,!Io(p)){e.next=24;break}return x.debug("publish ".concat(p," for ").concat(r.videoTrack.sid)),e.next=24,o.publishAdditionalCodecForTrack(r.videoTrack,p,r.options);case 24:c=!1,e.next=16;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e["catch"](14),u=!0,d=e.t0;case 33:if(e.prev=33,e.prev=34,!c||null==l.return){e.next=38;break}return e.next=38,l.return();case 38:if(e.prev=38,!u){e.next=41;break}throw d;case 41:return e.finish(38);case 42:return e.finish(33);case 43:e.next=46;break;case 45:t.subscribedQualities.length>0&&(null===(i=r.videoTrack)||void 0===i||i.setPublishingLayers(t.subscribedQualities));case 46:case"end":return e.stop()}}),e,null,[[14,29,33,43],[34,,38,42]])})));return function(t){return e.apply(this,arguments)}}(),o.handleLocalTrackUnpublished=function(e){var t=o.tracks.get(e.trackSid);t?o.unpublishTrack(t.track):x.warn("received unpublished event for unknown track",{method:"handleLocalTrackUnpublished",trackSid:e.trackSid})},o.handleTrackEnded=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.source!==lo.Source.ScreenShare&&t.source!==lo.Source.ScreenShareAudio){e.next=5;break}x.debug("unpublishing local track due to TrackEnded",{track:t.sid}),o.unpublishTrack(t),e.next=35;break;case 5:if(!t.isUserProvided){e.next=10;break}return e.next=8,t.mute();case 8:e.next=35;break;case 10:if(!(t instanceof vo||t instanceof mo)){e.next=35;break}if(e.prev=11,!Oa()){e.next=25;break}return e.prev=13,e.next=16,null===navigator||void 0===navigator?void 0:navigator.permissions.query({name:t.source===lo.Source.Camera?"camera":"microphone"});case 16:if(n=e.sent,!n||"denied"!==n.state){e.next=21;break}throw x.warn("user has revoked access to ".concat(t.source)),n.onchange=function(){"denied"!==n.state&&(t.restartTrack(),n.onchange=null)},new Error("GetUserMedia Permission denied");case 21:e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](13);case 25:return x.debug("track ended, attempting to use a different device"),e.next=28,t.restartTrack();case 28:e.next=35;break;case 30:return e.prev=30,e.t1=e["catch"](11),x.warn("could not restart track, muting instead"),e.next=35,t.mute();case 35:case"end":return e.stop()}}),e,null,[[11,30],[13,23]])})));return function(t){return e.apply(this,arguments)}}(),o.audioTracks=new Map,o.videoTracks=new Map,o.tracks=new Map,o.engine=r,o.roomOptions=a,o.setupEngine(r),o}return(0,m.default)(n,[{key:"lastCameraError",get:function(){return this.cameraError}},{key:"lastMicrophoneError",get:function(){return this.microphoneError}},{key:"getTrack",value:function(e){var t=(0,a.default)((0,o.default)(n.prototype),"getTrack",this).call(this,e);if(t)return t}},{key:"getTrackByName",value:function(e){var t=(0,a.default)((0,o.default)(n.prototype),"getTrackByName",this).call(this,e);if(t)return t}},{key:"setupEngine",value:function(e){var t=this;this.engine=e,this.engine.client.onRemoteMuteChanged=function(e,n){var i=t.tracks.get(e);i&&i.track&&(n?i.mute():i.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate,this.engine.client.onLocalTrackUnpublished=this.handleLocalTrackUnpublished,this.engine.on(oa.Connected,this.updateTrackSubscriptionPermissions).on(oa.Restarted,this.updateTrackSubscriptionPermissions).on(oa.Resumed,this.updateTrackSubscriptionPermissions)}},{key:"setCameraEnabled",value:function(e,t,n){return this.setTrackEnabled(lo.Source.Camera,e,t,n)}},{key:"setMicrophoneEnabled",value:function(e,t,n){return this.setTrackEnabled(lo.Source.Microphone,e,t,n)}},{key:"setScreenShareEnabled",value:function(e,t,n){return this.setTrackEnabled(lo.Source.ScreenShare,e,t,n)}},{key:"setPermissions",value:function(e){var t=this.permissions,i=(0,a.default)((0,o.default)(n.prototype),"setPermissions",this).call(this,e);return i&&t&&this.emit(aa.ParticipantPermissionsChanged,t),i}},{key:"setTrackEnabled",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i,r){var a,o,u,d,l,f,p,h,v,m,b;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(x.debug("setTrackEnabled",{source:t,enabled:n}),u=this.getTrack(t),!n){e.next=48;break}if(!u){e.next=8;break}return e.next=6,u.unmute();case 6:e.next=46;break;case 8:if(!this.pendingPublishing.has(t)){e.next=11;break}return x.info("skipping duplicate published source",{source:t}),e.abrupt("return");case 11:this.pendingPublishing.add(t),e.prev=12,e.t0=t,e.next=e.t0===lo.Source.Camera?16:e.t0===lo.Source.Microphone?20:e.t0===lo.Source.ScreenShare?24:28;break;case 16:return e.next=18,this.createTracks({video:null===(a=i)||void 0===a||a});case 18:return d=e.sent,e.abrupt("break",29);case 20:return e.next=22,this.createTracks({audio:null===(o=i)||void 0===o||o});case 22:return d=e.sent,e.abrupt("break",29);case 24:return e.next=26,this.createScreenTracks(xn({},i));case 26:return d=e.sent,e.abrupt("break",29);case 28:throw new Xr(t);case 29:l=[],f=(0,g.default)(d);try{for(f.s();!(p=f.n()).done;)h=p.value,x.info("publishing track",{localTrack:h}),l.push(this.publishTrack(h,r))}catch(s){f.e(s)}finally{f.f()}return e.next=34,Promise.all(l);case 34:v=e.sent,m=(0,c.default)(v,1),u=m[0],e.next=43;break;case 39:throw e.prev=39,e.t1=e["catch"](12),e.t1 instanceof Error&&!(e.t1 instanceof Xr)&&this.emit(aa.MediaDevicesError,e.t1),e.t1;case 43:return e.prev=43,this.pendingPublishing.delete(t),e.finish(43);case 46:e.next=59;break;case 48:if(!u||!u.track){e.next=59;break}if(t!==lo.Source.ScreenShare){e.next=57;break}return e.next=52,this.unpublishTrack(u.track);case 52:u=e.sent,b=this.getTrack(lo.Source.ScreenShareAudio),b&&b.track&&this.unpublishTrack(b.track),e.next=59;break;case 57:return e.next=59,u.mute();case 59:return e.abrupt("return",u);case 60:case"end":return e.stop()}}),e,this,[[12,39,43,46]])})));return function(t,n,i,r){return e.apply(this,arguments)}}()},{key:"enableCameraAndMicrophone",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.pendingPublishing.has(lo.Source.Camera)&&!this.pendingPublishing.has(lo.Source.Microphone)){e.next=2;break}return e.abrupt("return");case 2:return this.pendingPublishing.add(lo.Source.Camera),this.pendingPublishing.add(lo.Source.Microphone),e.prev=4,e.next=7,this.createTracks({audio:!0,video:!0});case 7:return t=e.sent,e.next=10,Promise.all(t.map((function(e){return n.publishTrack(e)})));case 10:return e.prev=10,this.pendingPublishing.delete(lo.Source.Camera),this.pendingPublishing.delete(lo.Source.Microphone),e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[4,,10,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"createTracks",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=pa(t,null===(n=this.roomOptions)||void 0===n?void 0:n.audioCaptureDefaults,null===(i=this.roomOptions)||void 0===i?void 0:i.videoCaptureDefaults),a=va(r),e.prev=2,e.next=5,navigator.mediaDevices.getUserMedia(a);case 5:o=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](2),e.t0 instanceof Error&&(a.audio&&(this.microphoneError=e.t0),a.video&&(this.cameraError=e.t0)),e.t0;case 12:return a.audio&&(this.microphoneError=void 0),a.video&&(this.cameraError=void 0),e.abrupt("return",o.getTracks().map((function(e){var n,i="audio"===e.kind;i?t.audio:t.video;var r=i?a.audio:a.video;"boolean"!==typeof r&&(n=r);var s=Bo(e,n);return s.kind===lo.Kind.Video?s.source=lo.Source.Camera:s.kind===lo.Kind.Audio&&(s.source=lo.Source.Microphone),s.mediaStream=o,s})));case 15:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createScreenTracks",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),void 0===t.resolution&&(t.resolution=_o.h1080fps15.resolution),i=!0,t.resolution&&(i=Ea()?{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}:{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate}),e.next=6,navigator.mediaDevices.getDisplayMedia({audio:null!==(n=t.audio)&&void 0!==n&&n,video:i});case 6:if(r=e.sent,a=r.getVideoTracks(),0!==a.length){e.next=10;break}throw new Xr("no video track found");case 10:return o=new mo(a[0],void 0,!1),o.source=lo.Source.ScreenShare,c=[o],r.getAudioTracks().length>0&&(u=new vo(r.getAudioTracks()[0],void 0,!1),u.source=lo.Source.ScreenShareAudio,c.push(u)),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i,r,a,o,c,u,d,l,f,p,h,v,m,g,b,y;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t instanceof MediaStreamTrack)){e.next=9;break}e.t0=t.kind,e.next="audio"===e.t0?4:"video"===e.t0?6:8;break;case 4:return t=new vo(t,void 0,!0),e.abrupt("break",9);case 6:return t=new mo(t,void 0,!0),e.abrupt("break",9);case 8:throw new Xr("unsupported MediaStreamTrack kind ".concat(t.kind));case 9:if(u=(null===n||void 0===n?void 0:n.forceStereo)||"channelCount"in t.mediaStreamTrack.getSettings()&&2===t.mediaStreamTrack.getSettings().channelCount||2===t.mediaStreamTrack.getConstraints().channelCount,u&&(n||(n={}),void 0===n.dtx&&x.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work."),null!==(i=n.dtx)&&void 0!==i||(n.dtx=!1)),d=xn(xn({},this.roomOptions.publishDefaults),n),this.tracks.forEach((function(e){e.track&&e.track===t&&(l=e)})),!l){e.next=15;break}return e.abrupt("return",l);case 15:if(d.source&&(t.source=d.source),f=Array.from(this.tracks.values()).find((function(e){return t instanceof ho&&e.source===t.source})),!f||t.source===lo.Source.Unknown){e.next=25;break}throw e.prev=18,Error("publishing a second track with the same source: ".concat(t.source));case 22:e.prev=22,e.t1=e["catch"](18),e.t1 instanceof Error&&x.warn(e.t1.message,{oldTrack:f,newTrack:t,trace:e.t1.stack});case 25:if(d.stopMicTrackOnMute&&t instanceof vo&&(t.stopOnMute=!0),t.source===lo.Source.ScreenShare&&Pa()&&(d.simulcast=!1),"av1"!==d.videoCodec||Aa()||(d.videoCodec=void 0),t.on(sa.Muted,this.onTrackMuted),t.on(sa.Unmuted,this.onTrackUnmuted),t.on(sa.Ended,this.handleTrackEnded),t.on(sa.UpstreamPaused,this.onTrackUpstreamPaused),t.on(sa.UpstreamResumed,this.onTrackUpstreamResumed),p=Wi.fromPartial({cid:t.mediaStreamTrack.id,name:null===n||void 0===n?void 0:n.name,type:lo.kindToProto(t.kind),muted:t.isMuted,source:lo.sourceToProto(t.source),disableDtx:!(null===(r=d.dtx)||void 0===r||r),stereo:u,disableRed:!(null===(a=d.red)||void 0===a||a)}),t.kind!==lo.Kind.Video){e.next=52;break}return m={width:0,height:0},e.prev=36,e.next=39,t.waitForDimensions();case 39:m=e.sent,e.next=45;break;case 42:e.prev=42,e.t2=e["catch"](36),x.error("could not determine track dimensions");case 45:p.width=m.width,p.height=m.height,t instanceof mo&&("av1"===(null===d||void 0===d?void 0:d.videoCodec)&&(d.scalabilityMode=null!==(o=d.scalabilityMode)&&void 0!==o?o:"L3T3"),d.videoCodec&&d.backupCodec&&d.videoCodec!==d.backupCodec.codec&&(g=xn({},d),g.simulcast=!0,v=Qo(t,d.backupCodec.codec,g),p.simulcastCodecs=[{codec:d.videoCodec,cid:t.mediaStreamTrack.id,enableSimulcastLayers:!0},{codec:d.backupCodec.codec,cid:"",enableSimulcastLayers:!0}])),h=Wo(t.source===lo.Source.ScreenShare,m.width,m.height,d),p.layers=ko(p.width,p.height,null!==v&&void 0!==v?v:h),e.next=53;break;case 52:t.kind===lo.Kind.Audio&&d.audioBitrate&&(h=[{maxBitrate:d.audioBitrate}]);case 53:if(this.engine&&!this.engine.isClosed){e.next=55;break}throw new ta("cannot publish track when not connected");case 55:return e.next=57,this.engine.addTrack(p);case 57:if(b=e.sent,y=new Eo(t.kind,b,t),y.options=d,t.sid=b.sid,this.engine.publisher){e.next=63;break}throw new ta("publisher is closed");case 63:return x.debug("publishing ".concat(t.kind," with encodings"),{encodings:h,trackInfo:b}),e.next=66,this.engine.createSender(t,d,h);case 66:return t.sender=e.sent,"av1"===t.codec&&h&&(null===(c=h[0])||void 0===c?void 0:c.maxBitrate)&&this.engine.publisher.setTrackCodecBitrate(p.cid,t.codec,h[0].maxBitrate/1e3),this.engine.negotiate(),t instanceof mo?t.startMonitor(this.engine.client):t instanceof vo&&t.startMonitor(),this.addTrackPublication(y),this.emit(aa.LocalTrackPublished,y),e.abrupt("return",y);case 73:case"end":return e.stop()}}),e,this,[[18,22],[36,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isLocal",get:function(){return!0}},{key:"publishAdditionalCodecForTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r,a,o,c,u,d,l;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tracks.forEach((function(e){e.track&&e.track===t&&(a=e)})),a){e.next=3;break}throw new Xr("track is not published");case 3:if(t instanceof mo){e.next=5;break}throw new Xr("track is not a video track");case 5:if(o=xn(xn({},null===(r=this.roomOptions)||void 0===r?void 0:r.publishDefaults),i),c=Qo(t,n,o),c){e.next=10;break}return x.info("backup codec has been disabled, ignoring request to add additional codec for track"),e.abrupt("return");case 10:if(u=t.addSimulcastTrack(n,c),d=Wi.fromPartial({cid:u.mediaStreamTrack.id,type:lo.kindToProto(t.kind),muted:t.isMuted,source:lo.sourceToProto(t.source),sid:t.sid,simulcastCodecs:[{codec:o.videoCodec,cid:u.mediaStreamTrack.id,enableSimulcastLayers:o.simulcast}]}),d.layers=ko(d.width,d.height,c),this.engine&&!this.engine.isClosed){e.next=15;break}throw new ta("cannot publish track when not connected");case 15:return e.next=17,this.engine.addTrack(d);case 17:return l=e.sent,e.next=20,this.engine.createSimulcastSender(t,u,o,c);case 20:this.engine.negotiate(),x.debug("published ".concat(n," for track ").concat(t.sid),{encodings:c,trackInfo:l});case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"unpublishTrack",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i,r,a,o,u,d,l;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.getPublicationForTrack(t),x.debug("unpublishing track",{track:t,method:"unpublishTrack"}),a&&a.track){e.next=5;break}return x.warn("track was not unpublished because no publication was found",{track:t,method:"unpublishTrack"}),e.abrupt("return",void 0);case 5:if(t=a.track,t.off(sa.Muted,this.onTrackMuted),t.off(sa.Unmuted,this.onTrackUnmuted),t.off(sa.Ended,this.handleTrackEnded),t.off(sa.UpstreamPaused,this.onTrackUpstreamPaused),t.off(sa.UpstreamResumed,this.onTrackUpstreamResumed),void 0===n&&(n=null===(r=null===(i=this.roomOptions)||void 0===i?void 0:i.stopLocalTrackOnUnpublish)||void 0===r||r),n&&t.stop(),!this.engine.publisher||"closed"===this.engine.publisher.pc.connectionState||!t.sender){e.next=26;break}if(e.prev=14,this.engine.removeTrack(t.sender),t instanceof mo){o=(0,g.default)(t.simulcastCodecs);try{for(o.s();!(u=o.n()).done;)d=(0,c.default)(u.value,2),l=d[1],l.sender&&(this.engine.removeTrack(l.sender),l.sender=void 0)}catch(s){o.e(s)}finally{o.f()}t.simulcastCodecs.clear()}e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](14),x.warn("failed to unpublish track",{error:e.t0,method:"unpublishTrack"});case 22:return e.prev=22,e.next=25,this.engine.negotiate();case 25:return e.finish(22);case 26:t.sender=void 0,this.tracks.delete(a.trackSid),e.t1=a.kind,e.next=e.t1===lo.Kind.Audio?31:e.t1===lo.Kind.Video?33:35;break;case 31:return this.audioTracks.delete(a.trackSid),e.abrupt("break",35);case 33:return this.videoTracks.delete(a.trackSid),e.abrupt("break",35);case 35:return this.emit(aa.LocalTrackUnpublished,a),a.setTrack(void 0),e.abrupt("return",a);case 38:case"end":return e.stop()}}),e,this,[[14,19,22,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unpublishTracks",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return i.unpublishTrack(e)})));case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e instanceof Eo})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"republishAllTracks",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],this.tracks.forEach((function(e){e.track&&(t&&(e.options=xn(xn({},e.options),t)),n.push(e))})),e.next=4,Promise.all(n.map(function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.track,e.next=3,i.unpublishTrack(n,!1);case 3:return e.next=5,i.publishTrack(n,t.options);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"publishData",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],void 0!==i&&i.forEach((function(e){e instanceof Yo?r.push(e.sid):r.push(e)})),a={kind:n,value:{$case:"user",user:{participantSid:this.sid,payload:t,destinationSids:r}}},e.next=5,this.engine.sendDataPacket(a,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"setTrackSubscriptionPermissions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.participantTrackPermissions=t,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isConnected&&this.updateTrackSubscriptionPermissions()}},{key:"updateInfo",value:function(e){var t=this;(0,a.default)((0,o.default)(n.prototype),"updateInfo",this).call(this,e),e.tracks.forEach((function(e){var n,i,r=t.tracks.get(e.sid);if(r){var a=r.isMuted||null!==(i=null===(n=r.track)||void 0===n?void 0:n.isUpstreamPaused)&&void 0!==i&&i;a!==e.muted&&(x.debug("updating server mute state after reconcile",{sid:e.sid,muted:a}),t.engine.client.sendMuteTrack(e.sid,a))}}))}},{key:"getPublicationForTrack",value:function(e){var t;return this.tracks.forEach((function(n){var i=n.track;i&&(e instanceof MediaStreamTrack?(i instanceof vo||i instanceof mo)&&i.mediaStreamTrack===e&&(t=n):e===i&&(t=n))})),t}},{key:"publishedTracksInfo",value:function(){var e=[];return this.tracks.forEach((function(t){void 0!==t.track&&e.push({cid:t.track.mediaStreamID,track:t.trackInfo})})),e}},{key:"dataChannelsInfo",value:function(){var e=[],t=function(t,n){void 0!==(null===t||void 0===t?void 0:t.id)&&null!==t.id&&e.push({label:t.label,id:t.id,target:n})};return t(this.engine.dataChannelForKind(ht.LOSSY),Oi.PUBLISHER),t(this.engine.dataChannelForKind(ht.RELIABLE),Oi.PUBLISHER),t(this.engine.dataChannelForKind(ht.LOSSY,!0),Oi.SUBSCRIBER),t(this.engine.dataChannelForKind(ht.RELIABLE,!0),Oi.SUBSCRIBER),e}}]),n}(Lo);t.LocalParticipant=Ko;var Xo=["syncState","trickle","offer","answer","simulate","leave"];function es(e){var t=Xo.includes(e.$case);return x.trace("request allowed to bypass queue:",{canPass:t,req:e}),t}var ts=function(){function e(){(0,v.default)(this,e);var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isConnected=!1,this.isReconnecting=!1,this.useJSON=t,this.requestQueue=new Ha,this.queuedRequests=[],this.closingLock=new Ga}return(0,m.default)(e,[{key:"join",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i,r){var a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isConnected=!1,this.options=i,e.next=4,this.connect(t,n,i,r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}()},{key:"reconnect",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.options){e.next=3;break}return x.warn("attempted to reconnect without signal options being set, ignoring"),e.abrupt("return");case 3:return this.isReconnecting=!0,this.clearPingInterval(),e.next=7,this.connect(t,n,xn(xn({},this.options),{},{reconnect:!0,sid:i}));case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"connect",value:function(e,t,n,i){var r=this;this.connectOptions=n,e.startsWith("http")&&(e=e.replace("http","ws")),e=e.replace(/\/$/,""),e+="/rtc";var a=function(){var e=un.fromPartial({sdk:mt.JS,protocol:8,version:"1.6.3"});return e}(),o=function(e,t,n){var i,r=new URLSearchParams;r.set("access_token",e),n.reconnect&&(r.set("reconnect","1"),n.sid&&r.set("sid",n.sid));r.set("auto_subscribe",n.autoSubscribe?"1":"0"),r.set("sdk","js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel);t.os&&r.set("os",t.os);t.osVersion&&r.set("os_version",t.osVersion);t.browser&&r.set("browser",t.browser);t.browserVersion&&r.set("browser_version",t.browserVersion);void 0!==n.publishOnly&&r.set("publish",n.publishOnly);n.adaptiveStream&&r.set("adaptive_stream","1");(null===(i=navigator.connection)||void 0===i?void 0:i.type)&&r.set("network",navigator.connection.type);return"?".concat(r.toString())}(t,a,n);return new Promise(function(){var t=(0,u.default)((0,s.default)().mark((function t(a,c){var d;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(d=function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.close();case 2:c(new Kr("room connection has been cancelled"));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(null===i||void 0===i?void 0:i.aborted)&&d(),null===i||void 0===i||i.addEventListener("abort",d),x.debug("connecting to ".concat(e+o)),!r.ws){t.next=7;break}return t.next=7,r.close();case 7:r.ws=new WebSocket(e+o),r.ws.binaryType="arraybuffer",r.ws.onerror=function(){var t=(0,u.default)((0,s.default)().mark((function t(n){var i,a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.isConnected){t.next=19;break}return t.prev=1,t.next=4,fetch("http".concat(e.substring(2),"/validate").concat(o));case 4:if(i=t.sent,i.ok){t.next=12;break}return t.next=8,i.text();case 8:a=t.sent,c(new Kr(a,0,i.status)),t.next=13;break;case 12:c(new Kr("Internal error",2,i.status));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),c(new Kr("server was not reachable",1));case 18:return t.abrupt("return");case 19:r.handleWSError(n);case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),r.ws.onmessage=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var o,u,l,f,p,h,v;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t.data){e.next=5;break}h=JSON.parse(t.data),p=Vi.fromJSON(h),e.next=11;break;case 5:if(!(t.data instanceof ArrayBuffer)){e.next=9;break}p=Vi.decode(new Uint8Array(t.data)),e.next=11;break;case 9:return x.error("could not decode websocket message: ".concat((0,b.default)(t.data))),e.abrupt("return");case 11:if(r.isConnected){e.next=16;break}if(v=!1,"join"===(null===(o=p.message)||void 0===o?void 0:o.$case)?(r.isConnected=!0,null===i||void 0===i||i.removeEventListener("abort",d),r.pingTimeoutDuration=p.message.join.pingTimeout,r.pingIntervalDuration=p.message.join.pingInterval,r.pingTimeoutDuration&&r.pingTimeoutDuration>0&&(x.debug("ping config",{timeout:r.pingTimeoutDuration,interval:r.pingIntervalDuration}),r.startPingInterval()),a(p.message.join)):n.reconnect?(r.isConnected=!0,null===i||void 0===i||i.removeEventListener("abort",d),r.startPingInterval(),"reconnect"===(null===(u=p.message)||void 0===u?void 0:u.$case)?a(null===(l=p.message)||void 0===l?void 0:l.reconnect):(a(),v=!0)):n.reconnect||c(new Kr("did not receive join response, got ".concat(null===(f=p.message)||void 0===f?void 0:f.$case," instead"))),v){e.next=16;break}return e.abrupt("return");case 16:if(!r.signalLatency){e.next=19;break}return e.next=19,ya(r.signalLatency);case 19:r.handleSignalResponse(p);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.ws.onclose=function(e){r.isConnected&&(x.debug("websocket connection closed: ".concat(e.reason)),r.isConnected=!1,r.onClose&&r.onClose(e.reason),r.ws=void 0)};case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"close",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.closingLock.lock();case 2:if(t=e.sent,e.prev=3,this.isConnected=!1,!this.ws){e.next=13;break}return this.ws.onclose=null,this.ws.onmessage=null,this.ws.onopen=null,n=new Promise((function(e){i.ws?i.ws.onclose=e:e(!0)})),this.ws.close(),e.next=13,Promise.race([n,ya(250)]);case 13:this.ws=void 0,this.clearPingInterval();case 15:return e.prev=15,t(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,,15,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendOffer",value:function(e){x.debug("sending offer",e),this.sendRequest({$case:"offer",offer:is(e)})}},{key:"sendAnswer",value:function(e){x.debug("sending answer"),this.sendRequest({$case:"answer",answer:is(e)})}},{key:"sendIceCandidate",value:function(e,t){x.trace("sending ice candidate",e),this.sendRequest({$case:"trickle",trickle:{candidateInit:JSON.stringify(e),target:t}})}},{key:"sendMuteTrack",value:function(e,t){this.sendRequest({$case:"mute",mute:{sid:e,muted:t}})}},{key:"sendAddTrack",value:function(e){this.sendRequest({$case:"addTrack",addTrack:Wi.fromPartial(e)})}},{key:"sendUpdateTrackSettings",value:function(e){this.sendRequest({$case:"trackSetting",trackSetting:e})}},{key:"sendUpdateSubscription",value:function(e){this.sendRequest({$case:"subscription",subscription:e})}},{key:"sendSyncState",value:function(e){this.sendRequest({$case:"syncState",syncState:e})}},{key:"sendUpdateVideoLayers",value:function(e,t){this.sendRequest({$case:"updateLayers",updateLayers:{trackSid:e,layers:t}})}},{key:"sendUpdateSubscriptionPermissions",value:function(e,t){this.sendRequest({$case:"subscriptionPermission",subscriptionPermission:{allParticipants:e,trackPermissions:t}})}},{key:"sendSimulateScenario",value:function(e){this.sendRequest({$case:"simulate",simulate:e})}},{key:"sendPing",value:function(){this.sendRequest({$case:"ping",ping:Date.now()})}},{key:"sendLeave",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest({$case:"leave",leave:{canReconnect:!1,reason:lt.CLIENT_INITIATED}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a=this,o=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],i=!n&&!es(t),!i||!this.isReconnecting){e.next=5;break}return this.queuedRequests.push((0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.sendRequest(t,!0);case 2:case"end":return e.stop()}}),e)})))),e.abrupt("return");case 5:if(n){e.next=8;break}return e.next=8,this.requestQueue.flush();case 8:if(!this.signalLatency){e.next=11;break}return e.next=11,ya(this.signalLatency);case 11:if(this.ws&&this.ws.readyState===this.ws.OPEN){e.next=14;break}return x.error("cannot send signal request before connected, type: ".concat(null===t||void 0===t?void 0:t.$case)),e.abrupt("return");case 14:r={message:t};try{this.useJSON?this.ws.send(JSON.stringify(ji.toJSON(r))):this.ws.send(ji.encode(r).finish())}catch(Ys){x.error("error sending signal message",{error:Ys})}case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSignalResponse",value:function(e){var t,n,i=e.message;if("answer"===i.$case){var r=ns(i.answer);this.onAnswer&&this.onAnswer(r)}else if("offer"===i.$case){var a=ns(i.offer);this.onOffer&&this.onOffer(a)}else if("trickle"===i.$case){var o=JSON.parse(i.trickle.candidateInit);this.onTrickle&&this.onTrickle(o,i.trickle.target)}else"update"===i.$case?this.onParticipantUpdate&&this.onParticipantUpdate(null!==(t=i.update.participants)&&void 0!==t?t:[]):"trackPublished"===i.$case?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.trackPublished):"speakersChanged"===i.$case?this.onSpeakersChanged&&this.onSpeakersChanged(null!==(n=i.speakersChanged.speakers)&&void 0!==n?n:[]):"leave"===i.$case?this.onLeave&&this.onLeave(i.leave):"mute"===i.$case?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.mute.sid,i.mute.muted):"roomUpdate"===i.$case?this.onRoomUpdate&&i.roomUpdate.room&&this.onRoomUpdate(i.roomUpdate.room):"connectionQuality"===i.$case?this.onConnectionQuality&&this.onConnectionQuality(i.connectionQuality):"streamStateUpdate"===i.$case?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.streamStateUpdate):"subscribedQualityUpdate"===i.$case?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.subscribedQualityUpdate):"subscriptionPermissionUpdate"===i.$case?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.subscriptionPermissionUpdate):"refreshToken"===i.$case?this.onTokenRefresh&&this.onTokenRefresh(i.refreshToken):"trackUnpublished"===i.$case?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.trackUnpublished):"pong"===i.$case?this.resetPingTimeout():x.debug("unsupported message",i)}},{key:"setReconnected",value:function(){while(this.queuedRequests.length>0){var e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}this.isReconnecting=!1}},{key:"handleWSError",value:function(e){x.error("websocket error",e)}},{key:"resetPingTimeout",value:function(){var e=this;this.clearPingTimeout(),this.pingTimeoutDuration?this.pingTimeout=Co.setTimeout((function(){x.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-1e3*e.pingTimeoutDuration).toUTCString())),e.onClose&&e.onClose("ping timeout")}),1e3*this.pingTimeoutDuration):x.warn("ping timeout duration not set")}},{key:"clearPingTimeout",value:function(){this.pingTimeout&&Co.clearTimeout(this.pingTimeout)}},{key:"startPingInterval",value:function(){var e=this;this.clearPingInterval(),this.resetPingTimeout(),this.pingIntervalDuration?(x.debug("start ping interval"),this.pingInterval=Co.setInterval((function(){e.sendPing()}),1e3*this.pingIntervalDuration)):x.warn("ping interval duration not set")}},{key:"clearPingInterval",value:function(){x.debug("clearing ping interval"),this.clearPingTimeout(),this.pingInterval&&Co.clearInterval(this.pingInterval)}}]),e}();function ns(e){var t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type;break}return t}function is(e){var t={sdp:e.sdp,type:e.type};return t}var rs={audioBitrate:Oo.music.maxBitrate,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:_o.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:"vp8",backupCodec:{codec:"vp8",encoding:Mo.h540.encoding}},as={autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0},os={resolution:Mo.h720.resolution},ss={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new wn,expWebAudioMix:!1},cs={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3},us={},ds={},ls={get exports(){return ds},set exports(e){ds=e}},fs=ls.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(fs).forEach((function(e){var t=fs[e];t.forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))})),function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,i){var r=e.name&&e.names;e.push&&!n[e.push]?n[e.push]=[]:r&&!n[e.name]&&(n[e.name]={});var a=e.push?{}:r?n[e.name]:n;(function(e,n,i,r){if(r&&!i)n[r]=t(e[1]);else for(var a=0;a<i.length;a+=1)null!=e[a+1]&&(n[i[a]]=t(e[a+1]))})(i.match(e.reg),a,e.names,e.name),e.push&&n[e.push].push(a)},i=ds,r=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},a=[],o=t;return e.split(/(\r\n|\r|\n)/).filter(r).forEach((function(e){var t=e[0],r=e.slice(2);"m"===t&&(a.push({rtp:[],fmtp:[]}),o=a[a.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(r))return n(c,o,r)}})),t.media=a,t};var a=function(e,n){var i=n.split(/=(.+)/,2);return 2===i.length?e[i[0]]=t(i[1]):1===i.length&&n.length>1&&(e[i[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],i=e.split(" ").map(t),r=0;r<i.length;r+=3)n.push({component:i[r],ip:i[r+1],port:i[r+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,i=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),i=!0),{scid:n,paused:i}}))}))}}(us);var ps=ds,hs=/%[sdv%]/g,vs=function(e){var t=1,n=arguments,i=n.length;return e.replace(hs,(function(e){if(t>=i)return e;var r=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}}))},ms=function(e,t,n){var i=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,r=[e+"="+i];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?r.push(n[t.name][o]):r.push(n[t.names[a]])}else r.push(n[t.name]);return vs.apply(null,r)},gs=["v","o","s","i","u","e","p","c","b","t","r","z","a"],bs=["i","c","b","a"],ys=us,ks=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||gs,i=t.innerOrder||bs,r=[];return n.forEach((function(t){ps[t].forEach((function(n){n.name in e&&null!=e[n.name]?r.push(ms(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){r.push(ms(t,n,e))}))}))})),e.media.forEach((function(e){r.push(ms("m",ps.m[0],e)),i.forEach((function(t){ps[t].forEach((function(n){n.name in e&&null!=e[n.name]?r.push(ms(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){r.push(ms(t,n,e))}))}))}))})),r.join("\r\n")+"\r\n"},ws=ks,Ss=ys.parse,As={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete"},Cs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){var i;return(0,v.default)(this,n),i=t.call(this),i.pendingCandidates=[],i.restartingIce=!1,i.renegotiate=!1,i.trackBitrates=[],i.remoteStereoMids=[],i.remoteNackMids=[],i.negotiate=Ao((function(e){i.emit(As.NegotiationStarted);try{i.createAndSendOffer()}catch(Ys){if(!e)throw Ys;e(Ys)}}),100),i.pc=new RTCPeerConnection(e),i}return(0,m.default)(n,[{key:"isICEConnected",get:function(){return"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState}},{key:"addIceCandidate",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.pc.remoteDescription||this.restartingIce){e.next=2;break}return e.abrupt("return",this.pc.addIceCandidate(t));case 2:this.pendingCandidates.push(t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRemoteDescription",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"offer"===t.type&&(n=Ts(t),i=n.stereoMids,r=n.nackMids,this.remoteStereoMids=i,this.remoteNackMids=r),e.next=3,this.pc.setRemoteDescription(t);case 3:this.pendingCandidates.forEach((function(e){a.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,this.createAndSendOffer()):"answer"===t.type&&this.emit(As.NegotiationComplete);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAndSendOffer",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.onOffer){e.next=2;break}return e.abrupt("return");case 2:if((null===t||void 0===t?void 0:t.iceRestart)&&(x.debug("restarting ICE"),this.restartingIce=!0),"have-local-offer"!==this.pc.signalingState){e.next=14;break}if(i=this.pc.remoteDescription,!(null===t||void 0===t?void 0:t.iceRestart)||!i){e.next=10;break}return e.next=8,this.pc.setRemoteDescription(i);case 8:e.next=12;break;case 10:return this.renegotiate=!0,e.abrupt("return");case 12:e.next=17;break;case 14:if("closed"!==this.pc.signalingState){e.next=17;break}return x.warn("could not createOffer with closed peer connection"),e.abrupt("return");case 17:return x.debug("starting to negotiate"),e.next=20,this.pc.createOffer(t);case 20:return r=e.sent,a=Ss(null!==(n=r.sdp)&&void 0!==n?n:""),a.media.forEach((function(e){"audio"===e.type?xs(e,[],[]):"video"===e.type&&o.trackBitrates.some((function(t){if(!e.msid||!e.msid.includes(t.sid))return!1;var n=0;return e.rtp.some((function(e){return e.codec.toUpperCase()===t.codec.toUpperCase()&&(n=e.payload,!0)})),n>0&&(e.fmtp.some((function(e){return e.payload===n&&(e.config.includes("x-google-max-bitrate")||(e.config+=";x-google-max-bitrate=".concat(t.maxbr)),!0)}))||e.fmtp.push({payload:n,config:"x-google-max-bitrate=".concat(t.maxbr)})),!0}))})),this.trackBitrates=[],e.next=26,this.setMungedLocalDescription(r,ws(a));case 26:this.onOffer(r);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createAndSetAnswer",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.pc.createAnswer();case 2:return n=e.sent,i=Ss(null!==(t=n.sdp)&&void 0!==t?t:""),i.media.forEach((function(e){"audio"===e.type&&xs(e,r.remoteStereoMids,r.remoteNackMids)})),e.next=7,this.setMungedLocalDescription(n,ws(i));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setTrackCodecBitrate",value:function(e,t,n){this.trackBitrates.push({sid:e,codec:t,maxbr:n})}},{key:"close",value:function(){this.pc.close()}},{key:"setMungedLocalDescription",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i,r;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.sdp,t.sdp=n,e.prev=2,x.debug("setting munged local description"),e.next=6,this.pc.setLocalDescription(t);case 6:return e.abrupt("return");case 9:e.prev=9,e.t0=e["catch"](2),x.warn("not able to set ".concat(t.type,", falling back to unmodified sdp"),{error:e.t0}),t.sdp=i;case 13:return e.prev=13,e.next=16,this.pc.setLocalDescription(t);case 16:e.next=23;break;case 18:throw e.prev=18,e.t1=e["catch"](13),r="unknown error",e.t1 instanceof Error?r=e.t1.message:"string"===typeof e.t1&&(r=e.t1),new na(r);case 23:case"end":return e.stop()}}),e,this,[[2,9],[13,18]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(qa);function xs(e,t,n){var i=0;e.rtp.some((function(e){return"opus"===e.codec&&(i=e.payload,!0)})),i>0&&(e.rtcpFb||(e.rtcpFb=[]),n.includes(e.mid)&&!e.rtcpFb.some((function(e){return e.payload===i&&"nack"===e.type}))&&e.rtcpFb.push({payload:i,type:"nack"}),t.includes(e.mid)&&e.fmtp.some((function(e){return e.payload===i&&(e.config.includes("stereo=1")||(e.config+=";stereo=1"),!0)})))}function Ts(e){var t,n=[],i=[],r=Ss(null!==(t=e.sdp)&&void 0!==t?t:""),a=0;return r.media.forEach((function(e){var t;"audio"===e.type&&(e.rtp.some((function(e){return"opus"===e.codec&&(a=e.payload,!0)})),(null===(t=e.rtcpFb)||void 0===t?void 0:t.some((function(e){return e.payload===a&&"nack"===e.type})))&&i.push(e.mid),e.fmtp.some((function(t){return t.payload===a&&(t.config.includes("sprop-stereo=1")&&n.push(e.mid),!0)})))})),{stereoMids:n,nackMids:i}}var Ps;(function(e){e[e["New"]=0]="New",e[e["Connected"]=1]="Connected",e[e["Disconnected"]=2]="Disconnected",e[e["Reconnecting"]=3]="Reconnecting",e[e["Closed"]=4]="Closed"})(Ps||(Ps={}));var Es=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){var i,a;return(0,v.default)(this,n),i=t.call(this),a=(0,r.default)(i),i.options=e,i.rtcConfig={},i.peerConnectionTimeout=cs.peerConnectionTimeout,i.subscriberPrimary=!1,i.pcState=Ps.New,i._isClosed=!0,i.pendingTrackResolvers={},i.hasPublished=!1,i.reconnectAttempts=0,i.reconnectStart=0,i.fullReconnectOnNext=!1,i.attemptingReconnect=!1,i.joinAttempts=0,i.maxJoinAttempts=1,i.handleDataChannel=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.channel,n){e.next=3;break}return e.abrupt("return");case 3:if("_reliable"!==n.label){e.next=7;break}i.reliableDCSub=n,e.next=12;break;case 7:if("_lossy"!==n.label){e.next=11;break}i.lossyDCSub=n,e.next=12;break;case 11:return e.abrupt("return");case 12:x.debug("on data channel ".concat(n.id,", ").concat(n.label)),n.onmessage=i.handleDataMessage;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleDataMessage=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,r,a,o;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.data instanceof ArrayBuffer)){e.next=4;break}a=t.data,e.next=12;break;case 4:if(!(t.data instanceof Blob)){e.next=10;break}return e.next=7,t.data.arrayBuffer();case 7:a=e.sent,e.next=12;break;case 10:return x.error("unsupported data type",t.data),e.abrupt("return");case 12:o=Zt.decode(new Uint8Array(a)),"speaker"===(null===(n=o.value)||void 0===n?void 0:n.$case)?i.emit(oa.ActiveSpeakersUpdate,o.value.speaker.speakers):"user"===(null===(r=o.value)||void 0===r?void 0:r.$case)&&i.emit(oa.DataPacketReceived,o.value.user,o.kind);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleDataError=function(e){var t=e.currentTarget,n=0===t.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent){var i=e.error.error;x.error("DataChannel error on ".concat(n,": ").concat(e.message),i)}else x.error("Unknown DataChannel Error on ".concat(n),e)},i.handleDisconnect=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!a._isClosed){x.debug("".concat(e," disconnected")),0===a.reconnectAttempts&&(a.reconnectStart=Date.now());var n=function(e){x.info("could not recover connection after ".concat(a.reconnectAttempts," attempts, ").concat(e,"ms. giving up")),a.emit(oa.Disconnected),a.close()},i=Date.now()-a.reconnectStart,r=a.getNextRetryDelay({elapsedMs:i,retryCount:a.reconnectAttempts});null!==r?("leave-reconnect"===e&&(r=0),x.debug("reconnecting in ".concat(r,"ms")),a.clearReconnectTimeout(),a.reconnectTimeout=Co.setTimeout((function(){return a.attemptReconnect(t)}),r)):n(i)}},i.handleBrowserOnLine=function(){i.client.isReconnecting&&(i.clearReconnectTimeout(),i.attemptReconnect(!0))},i.client=new ts,i.client.signalLatency=i.options.expSignalLatency,i.reconnectPolicy=i.options.reconnectPolicy,i.registerOnLineListener(),i.closingLock=new Ga,i}return(0,m.default)(n,[{key:"isClosed",get:function(){return this._isClosed}},{key:"join",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i,r){var a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.url=t,this.token=n,this.signalOpts=i,e.prev=3,this.joinAttempts+=1,e.next=7,this.client.join(t,n,i,r);case 7:return a=e.sent,this._isClosed=!1,this.subscriberPrimary=a.subscriberPrimary,this.publisher||this.configure(a),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=a.clientConfiguration,e.abrupt("return",a);case 16:if(e.prev=16,e.t0=e["catch"](3),!(e.t0 instanceof Kr)){e.next=23;break}if(1!==e.t0.reason){e.next=23;break}if(x.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts)),!(this.joinAttempts<this.maxJoinAttempts)){e.next=23;break}return e.abrupt("return",this.join(t,n,i,r));case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,this,[[3,16]])})));return function(t,n,i,r){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.closingLock.lock();case 2:if(t=e.sent,!this.isClosed){e.next=6;break}return t(),e.abrupt("return");case 6:return e.prev=6,this._isClosed=!0,this.emit(oa.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),this.publisher&&"closed"!==this.publisher.pc.signalingState&&(this.publisher.pc.getSenders().forEach((function(e){var t,i;try{(null===(t=n.publisher)||void 0===t?void 0:t.pc.removeTrack)&&(null===(i=n.publisher)||void 0===i||i.pc.removeTrack(e))}catch(Ys){x.warn("could not removeTrack",{error:Ys})}})),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),e.next=16,this.client.close();case 16:return e.prev=16,t(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[6,,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"addTrack",value:function(e){var t=this;if(this.pendingTrackResolvers[e.cid])throw new Xr("a track with the same ID has already been published");return new Promise((function(n,i){var r=setTimeout((function(){delete t.pendingTrackResolvers[e.cid],i(new Kr("publication of local track timed out, no response from server"))}),1e4);t.pendingTrackResolvers[e.cid]={resolve:function(e){clearTimeout(r),n(e)},reject:function(){clearTimeout(r),i(new Error("Cancelled publication by calling unpublish"))}},t.client.sendAddTrack(e)}))}},{key:"removeTrack",value:function(e){var t;if(e.track&&this.pendingTrackResolvers[e.track.id]){var n=this.pendingTrackResolvers[e.track.id].reject;n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{null===(t=this.publisher)||void 0===t||t.pc.removeTrack(e)}catch(Ys){x.warn("failed to remove track",{error:Ys,method:"removeTrack"})}}},{key:"updateMuteStatus",value:function(e,t){this.client.sendMuteTrack(e,t)}},{key:"dataSubscriberReadyState",get:function(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}},{key:"connectedServerAddress",get:function(){return this.connectedServerAddr}},{key:"configure",value:function(e){var t,n=this;if(!this.publisher&&!this.subscriber){this.participantSid=null===(t=e.participant)||void 0===t?void 0:t.sid;var i=this.makeRTCConfiguration(e);this.publisher=new Cs(i),this.subscriber=new Cs(i),this.emit(oa.TransportsCreated,this.publisher,this.subscriber),this.publisher.pc.onicecandidate=function(e){e.candidate&&(x.trace("adding ICE candidate for peer",e.candidate),n.client.sendIceCandidate(e.candidate,Oi.PUBLISHER))},this.subscriber.pc.onicecandidate=function(e){e.candidate&&n.client.sendIceCandidate(e.candidate,Oi.SUBSCRIBER)},this.publisher.onOffer=function(e){n.client.sendOffer(e)};var r=this.publisher.pc,a=this.subscriber.pc;e.subscriberPrimary&&(r=this.subscriber.pc,a=this.publisher.pc,this.subscriber.pc.ondatachannel=this.handleDataChannel),this.primaryPC=r,r.onconnectionstatechange=(0,u.default)((0,s.default)().mark((function t(){var i;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(x.debug("primary PC state changed ".concat(r.connectionState)),"connected"!==r.connectionState){t.next=16;break}return t.prev=2,t.next=5,Rs(r);case 5:n.connectedServerAddr=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),x.warn("could not get connected server address",{error:t.t0});case 11:i=n.pcState===Ps.New,n.pcState=Ps.Connected,i&&n.emit(oa.Connected,e),t.next=17;break;case 16:"failed"===r.connectionState&&n.pcState===Ps.Connected&&(n.pcState=Ps.Disconnected,n.handleDisconnect("primary peerconnection"));case 17:case"end":return t.stop()}}),t,null,[[2,8]])}))),a.onconnectionstatechange=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:x.debug("secondary PC state changed ".concat(a.connectionState)),"failed"===a.connectionState&&n.handleDisconnect("secondary peerconnection");case 2:case"end":return e.stop()}}),e)}))),this.subscriber.pc.ontrack=function(e){n.emit(oa.MediaTrackAdded,e.track,e.streams[0],e.receiver)},this.createDataChannels(),this.client.onAnswer=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.publisher){e.next=2;break}return e.abrupt("return");case 2:return x.debug("received server answer",{RTCSdpType:t.type,signalingState:n.publisher.pc.signalingState}),e.next=5,n.publisher.setRemoteDescription(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.client.onTrickle=function(e,t){n.publisher&&n.subscriber&&(x.trace("got ICE candidate from peer",{candidate:e,target:t}),t===Oi.PUBLISHER?n.publisher.addIceCandidate(e):n.subscriber.addIceCandidate(e))},this.client.onOffer=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.subscriber){e.next=2;break}return e.abrupt("return");case 2:return x.debug("received server offer",{RTCSdpType:t.type,signalingState:n.subscriber.pc.signalingState}),e.next=5,n.subscriber.setRemoteDescription(t);case 5:return e.next=7,n.subscriber.createAndSetAnswer();case 7:i=e.sent,n.client.sendAnswer(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.client.onLocalTrackPublished=function(e){x.debug("received trackPublishedResponse",e);var t=n.pendingTrackResolvers[e.cid].resolve;t?(delete n.pendingTrackResolvers[e.cid],t(e.track)):x.error("missing track resolver for ".concat(e.cid))},this.client.onTokenRefresh=function(e){n.token=e},this.client.onClose=function(){n.handleDisconnect("signal")},this.client.onLeave=function(e){(null===e||void 0===e?void 0:e.canReconnect)?(n.fullReconnectOnNext=!0,n.primaryPC=void 0,n.handleDisconnect("leave-reconnect")):(n.emit(oa.Disconnected,null===e||void 0===e?void 0:e.reason),n.close()),x.trace("leave request",{leave:e})}}}},{key:"makeRTCConfiguration",value:function(e){var t=xn({},this.rtcConfig);if(e.iceServers&&!t.iceServers){var n=[];e.iceServers.forEach((function(e){var t={urls:e.urls};e.username&&(t.username=e.username),e.credential&&(t.credential=e.credential),n.push(t)})),t.iceServers=n}return e.clientConfiguration&&e.clientConfiguration.forceRelay===dt.ENABLED&&(t.iceTransportPolicy="relay"),t.sdpSemantics="unified-plan",t.continualGatheringPolicy="gather_continually",t}},{key:"createDataChannels",value:function(){this.publisher&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.publisher.pc.createDataChannel("_lossy",{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.pc.createDataChannel("_reliable",{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError)}},{key:"setPreferredCodec",value:function(e,t,n){if("getCapabilities"in RTCRtpSender){var i=RTCRtpSender.getCapabilities(t);if(i){x.debug("get capabilities",i);var r=[],a=[],o=[];i.codecs.forEach((function(e){var t=e.mimeType.toLowerCase();if("audio/opus"!==t){var i=t==="video/".concat(n);i?"h264"!==n||e.sdpFmtpLine&&e.sdpFmtpLine.includes("profile-level-id=42e01f")?r.push(e):a.push(e):o.push(e)}else r.push(e)})),Ta(e)&&e.setCodecPreferences(r.concat(a,o))}}}},{key:"createSender",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!wa()){e.next=2;break}return e.abrupt("return",this.createTransceiverRTCRtpSender(t,n,i));case 2:if(!Sa()){e.next=5;break}return x.debug("using add-track fallback"),e.abrupt("return",this.createRTCRtpSender(t.mediaStreamTrack));case 5:throw new ta("Required webRTC APIs not supported on this device");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"createSimulcastSender",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i,r){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!wa()){e.next=2;break}return e.abrupt("return",this.createSimulcastTransceiverSender(t,n,i,r));case 2:if(!Sa()){e.next=5;break}return x.debug("using add-track fallback"),e.abrupt("return",this.createRTCRtpSender(t.mediaStreamTrack));case 5:throw new ta("Cannot stream on this device");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}()},{key:"createTransceiverRTCRtpSender",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i){var r,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.publisher){e.next=2;break}throw new ta("publisher is closed");case 2:return r={direction:"sendonly"},i&&(r.sendEncodings=i),e.next=6,this.publisher.pc.addTransceiver(t.mediaStreamTrack,r);case 6:return a=e.sent,t.kind===lo.Kind.Video&&n.videoCodec&&(this.setPreferredCodec(a,t.kind,n.videoCodec),t.codec=n.videoCodec),e.abrupt("return",a.sender);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"createSimulcastTransceiverSender",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,i,r){var a,o;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.publisher){e.next=2;break}throw new ta("publisher is closed");case 2:return a={direction:"sendonly"},r&&(a.sendEncodings=r),e.next=6,this.publisher.pc.addTransceiver(n.mediaStreamTrack,a);case 6:if(o=e.sent,i.videoCodec){e.next=9;break}return e.abrupt("return");case 9:return this.setPreferredCodec(o,t.kind,i.videoCodec),t.setSimulcastTrackSender(i.videoCodec,o.sender),e.abrupt("return",o.sender);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}()},{key:"createRTCRtpSender",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.publisher){e.next=2;break}throw new ta("publisher is closed");case 2:return e.abrupt("return",this.publisher.pc.addTrack(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptReconnect",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a,o,c,u=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],!this._isClosed){e.next=3;break}return e.abrupt("return");case 3:if(!this.attemptingReconnect){e.next=5;break}return e.abrupt("return");case 5:if((null===(n=this.clientConfiguration)||void 0===n?void 0:n.resumeConnection)!==dt.DISABLED&&"closed"!==(null!==(r=null===(i=this.primaryPC)||void 0===i?void 0:i.signalingState)&&void 0!==r?r:"closed")||(this.fullReconnectOnNext=!0),e.prev=6,this.attemptingReconnect=!0,!this.fullReconnectOnNext){e.next=13;break}return e.next=11,this.restartConnection(t);case 11:e.next=15;break;case 13:return e.next=15,this.resumeConnection(t);case 15:this.clearPendingReconnect(),this.fullReconnectOnNext=!1,e.next=28;break;case 19:e.prev=19,e.t0=e["catch"](6),this.reconnectAttempts+=1,a=!1,o=!0,c=!1,e.t0 instanceof ta?(x.debug("received unrecoverable error",{error:e.t0}),o=!1):e.t0 instanceof Is||(a=!0),a&&!this.fullReconnectOnNext&&(this.fullReconnectOnNext=!0,c=!0),o?this.handleDisconnect("reconnect",c):(x.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up")),this.emit(oa.Disconnected),this.close());case 28:return e.prev=28,this.attemptingReconnect=!1,e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[6,19,28,31]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNextRetryDelay",value:function(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(Ys){x.warn("encountered error in reconnect policy",{error:Ys})}return null}},{key:"restartConnection",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],this.url&&this.token){e.next=3;break}throw new ta("could not reconnect, url or token not saved");case 3:if(x.info("reconnecting, attempt: ".concat(this.reconnectAttempts)),(t||0===this.reconnectAttempts)&&this.emit(oa.Restarting),!this.client.isConnected){e.next=8;break}return e.next=8,this.client.sendLeave();case 8:return e.next=10,this.client.close();case 10:if(this.primaryPC=void 0,null===(n=this.publisher)||void 0===n||n.close(),this.publisher=void 0,null===(i=this.subscriber)||void 0===i||i.close(),this.subscriber=void 0,e.prev=15,this.signalOpts){e.next=19;break}throw x.warn("attempted connection restart, without signal options present"),new Is;case 19:return e.next=21,this.join(this.url,this.token,this.signalOpts);case 21:r=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e["catch"](15),new Is;case 27:return e.next=29,this.waitForPCConnected();case 29:this.client.setReconnected(),this.emit(oa.Restarted,r);case 31:case"end":return e.stop()}}),e,this,[[15,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"resumeConnection",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a,o=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],this.url&&this.token){e.next=3;break}throw new ta("could not reconnect, url or token not saved");case 3:if(this.publisher&&this.subscriber){e.next=5;break}throw new ta("publisher and subscriber connections unset");case 5:return x.info("resuming signal connection, attempt ".concat(this.reconnectAttempts)),(t||0===this.reconnectAttempts)&&this.emit(oa.Resuming),e.prev=7,e.next=10,this.client.reconnect(this.url,this.token,this.participantSid);case 10:i=e.sent,i&&(r=this.makeRTCConfiguration(i),this.publisher.pc.setConfiguration(r),this.subscriber.pc.setConfiguration(r)),e.next=19;break;case 14:throw e.prev=14,e.t0=e["catch"](7),a="",e.t0 instanceof Error&&(a=e.t0.message),new Is(a);case 19:if(this.emit(oa.SignalResumed),this.subscriber.restartingIce=!0,!this.hasPublished){e.next=24;break}return e.next=24,this.publisher.createAndSendOffer({iceRestart:!0});case 24:return e.next=26,this.waitForPCConnected();case 26:this.client.setReconnected(),"open"===(null===(n=this.reliableDC)||void 0===n?void 0:n.readyState)&&null===this.reliableDC.id&&this.createDataChannels(),this.emit(oa.Resumed);case 29:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"waitForPCConnected",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Date.now(),i=n,this.pcState=Ps.Reconnecting,x.debug("waiting for peer connection to reconnect");case 4:if(!(i-n<this.peerConnectionTimeout)){e.next=27;break}if(void 0!==this.primaryPC){e.next=9;break}return e.abrupt("break",27);case 9:if(!(i-n>2e3&&"connected"===(null===(t=this.primaryPC)||void 0===t?void 0:t.connectionState))){e.next=20;break}return this.pcState=Ps.Connected,e.prev=11,e.next=14,Rs(this.primaryPC);case 14:this.connectedServerAddr=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](11),x.warn("could not get connected server address",{error:e.t0});case 20:if(this.pcState!==Ps.Connected){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,ya(100);case 24:i=Date.now(),e.next=4;break;case 27:throw new Kr("could not establish PC connection");case 28:case"end":return e.stop()}}),e,this,[[11,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendDataPacket",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=Zt.encode(t).finish(),e.next=3,this.ensurePublisherConnected(n);case 3:n===ht.LOSSY&&this.lossyDC?this.lossyDC.send(i):n===ht.RELIABLE&&this.reliableDC&&this.reliableDC.send(i);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"ensureDataTransportConnected",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u,d,l=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:this.subscriberPrimary,o=n?this.subscriber:this.publisher,c=n?"Subscriber":"Publisher",o){e.next=5;break}throw new Kr("".concat(c," connection not set"));case 5:if(n||(null===(i=this.publisher)||void 0===i?void 0:i.isICEConnected)||"checking"===(null===(r=this.publisher)||void 0===r?void 0:r.pc.iceConnectionState)||this.negotiate(),u=this.dataChannelForKind(t,n),"open"!==(null===u||void 0===u?void 0:u.readyState)){e.next=9;break}return e.abrupt("return");case 9:d=(new Date).getTime()+this.peerConnectionTimeout;case 10:if(!((new Date).getTime()<d)){e.next=17;break}if(!o.isICEConnected||"open"!==(null===(a=this.dataChannelForKind(t,n))||void 0===a?void 0:a.readyState)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,ya(50);case 15:e.next=10;break;case 17:throw new Kr("could not establish ".concat(c," connection, state: ").concat(o.pc.iceConnectionState));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ensurePublisherConnected",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ensureDataTransportConnected(t,!1);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"negotiate",value:function(){var e=this;return new Promise((function(t,n){if(e.publisher){e.hasPublished=!0;var i=function(){x.debug("engine disconnected while negotiation was ongoing"),a(),t()};e.on(oa.Closing,i);var r=setTimeout((function(){n("negotiation timed out"),e.handleDisconnect("negotiation")}),e.peerConnectionTimeout),a=function(){clearTimeout(r),e.off(oa.Closing,i)};e.publisher.once(As.NegotiationStarted,(function(){var n;null===(n=e.publisher)||void 0===n||n.once(As.NegotiationComplete,(function(){a(),t()}))})),e.publisher.negotiate((function(t){a(),n(t),t instanceof na&&(e.fullReconnectOnNext=!0),e.handleDisconnect("negotiation")}))}else n(new na("publisher is not defined"))}))}},{key:"dataChannelForKind",value:function(e,t){if(t){if(e===ht.LOSSY)return this.lossyDCSub;if(e===ht.RELIABLE)return this.reliableDCSub}else{if(e===ht.LOSSY)return this.lossyDC;if(e===ht.RELIABLE)return this.reliableDC}}},{key:"clearReconnectTimeout",value:function(){this.reconnectTimeout&&Co.clearTimeout(this.reconnectTimeout)}},{key:"clearPendingReconnect",value:function(){this.clearReconnectTimeout(),this.reconnectAttempts=0}},{key:"registerOnLineListener",value:function(){Oa()&&window.addEventListener("online",this.handleBrowserOnLine)}},{key:"deregisterOnLineListener",value:function(){Oa()&&window.removeEventListener("online",this.handleBrowserOnLine)}}]),n}(qa.EventEmitter);function Rs(e){return Os.apply(this,arguments)}function Os(){return Os=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="",r=new Map,a=new Map,e.next=5,t.getStats();case 5:if(o=e.sent,o.forEach((function(e){switch(e.type){case"transport":i=e.selectedCandidatePairId;break;case"candidate-pair":""===i&&e.selected&&(i=e.id),r.set(e.id,e);break;case"remote-candidate":a.set(e.id,"".concat(e.address,":").concat(e.port));break}})),""!==i){e.next=9;break}return e.abrupt("return",void 0);case 9:if(c=null===(n=r.get(i))||void 0===n?void 0:n.remoteCandidateId,void 0!==c){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.abrupt("return",a.get(c));case 13:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}var Ns,Is=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n)}((0,f.default)(Error));t.ConnectionState=Ns,function(e){e["Disconnected"]="disconnected",e["Connecting"]="connecting",e["Connected"]="connected",e["Reconnecting"]="reconnecting"}(Ns||(t.ConnectionState=Ns={}));var Ms=Ns;t.RoomState=Ms;var Ds,Us=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e){var i,a;return(0,v.default)(this,n),i=t.call(this),a=(0,r.default)(i),i.state=Ns.Disconnected,i.activeSpeakers=[],i.sid="",i.name="",i.metadata=void 0,i._isRecording=!1,i.audioEnabled=!0,i.connect=function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n,r){var a,o;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.disconnectLock.lock();case 2:if(a=e.sent,i.state!==Ns.Connected){e.next=7;break}return x.info("already connected to room ".concat(i.name)),a(),e.abrupt("return",Promise.resolve());case 7:if(!i.connectFuture){e.next=10;break}return a(),e.abrupt("return",i.connectFuture.promise);case 10:return i.setAndEmitConnectionState(Ns.Connecting),o=function(){var e=(0,u.default)((0,s.default)().mark((function e(o,u){var d,l,f,p,h,v,m,g;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.abortController&&!i.abortController.signal.aborted||(i.abortController=new AbortController),a(),i.state===Ns.Reconnecting?(x.info("Reconnection attempt replaced by new connection attempt"),i.recreateEngine()):i.maybeCreateEngine(),i.acquireAudioContext(),i.connOptions=xn(xn({},cs),r),i.connOptions.rtcConfig&&(i.engine.rtcConfig=i.connOptions.rtcConfig),i.connOptions.peerConnectionTimeout&&(i.engine.peerConnectionTimeout=i.connOptions.peerConnectionTimeout),e.prev=7,e.next=10,i.engine.join(t,n,{autoSubscribe:i.connOptions.autoSubscribe,publishOnly:i.connOptions.publishOnly,adaptiveStream:"object"===(0,b.default)(i.options.adaptiveStream)||i.options.adaptiveStream,maxRetries:i.connOptions.maxRetries},i.abortController.signal);case 10:if(f=e.sent,p=f.serverInfo,p||(p={version:f.serverVersion,region:f.serverRegion}),x.debug("connected to Livekit Server ".concat(Object.entries(p).map((function(e){var t=(0,c.default)(e,2),n=t[0],i=t[1];return"".concat(n,": ").concat(i)})).join(", "))),f.serverVersion){e.next=16;break}throw new ea("unknown server version");case 16:"0.15.1"===f.serverVersion&&i.options.dynacast&&(x.debug("disabling dynacast due to server version"),i.options.dynacast=!1),h=f.participant,i.localParticipant.sid=h.sid,i.localParticipant.identity=h.identity,i.localParticipant.updateInfo(h),i.setupLocalParticipantEvents(),f.otherParticipants.forEach((function(e){e.sid!==i.localParticipant.sid&&e.identity!==i.localParticipant.identity?i.getOrCreateParticipant(e.sid,e):x.warn("received info to create local participant as remote participant",{info:e,localParticipant:i.localParticipant})})),i.name=f.room.name,i.sid=f.room.sid,i.metadata=f.room.metadata,i._isRecording!==f.room.activeRecording&&(i._isRecording=f.room.activeRecording,i.emit(ra.RecordingStatusChanged,f.room.activeRecording)),i.emit(ra.SignalConnected),e.next=38;break;case 30:return e.prev=30,e.t0=e["catch"](7),i.recreateEngine(),i.handleDisconnect(i.options.stopLocalTrackOnUnpublish),v="",e.t0 instanceof Error&&(v=e.t0.message,x.debug("error trying to establish signal connection",{error:e.t0})),u(new Kr("could not establish signal connection: ".concat(v))),e.abrupt("return");case 38:m=Co.setTimeout((function(){i.recreateEngine(),i.handleDisconnect(i.options.stopLocalTrackOnUnpublish),u(new Kr("could not connect PeerConnection after timeout"))}),i.connOptions.peerConnectionTimeout),g=function(){x.warn("closing engine"),Co.clearTimeout(m),i.recreateEngine(),i.handleDisconnect(i.options.stopLocalTrackOnUnpublish),u(new Kr("room connection has been cancelled"))},(null===(d=i.abortController)||void 0===d?void 0:d.signal.aborted)&&g(),null===(l=i.abortController)||void 0===l||l.signal.addEventListener("abort",g),i.engine.once(oa.Connected,(function(){var e,t;Co.clearTimeout(m),null===(e=i.abortController)||void 0===e||e.signal.removeEventListener("abort",g),Oa()&&(window.addEventListener("beforeunload",i.onBeforeUnload),null===(t=navigator.mediaDevices)||void 0===t||t.addEventListener("devicechange",i.handleDeviceChange)),i.setAndEmitConnectionState(Ns.Connected),i.emit(ra.Connected),o()}));case 43:case"end":return e.stop()}}),e,null,[[7,30]])})));return function(t,n){return e.apply(this,arguments)}}(),i.connectFuture=new Ja(o,(function(){i.clearConnectionFutures()})),e.abrupt("return",i.connectFuture.promise);case 14:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),i.disconnect=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,o,c,u=arguments;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(u.length>0&&void 0!==u[0])||u[0],e.next=3,a.disconnectLock.lock();case 3:if(c=e.sent,e.prev=4,a.state!==Ns.Disconnected){e.next=8;break}return x.debug("already disconnected"),e.abrupt("return");case 8:if(x.info("disconnect from room",{identity:a.localParticipant.identity}),a.state!==Ns.Connecting&&a.state!==Ns.Reconnecting||(x.warn("abort connection attempt"),null===(n=a.abortController)||void 0===n||n.abort(),null===(r=null===(i=a.connectFuture)||void 0===i?void 0:i.reject)||void 0===r||r.call(i,new Kr("Client initiated disconnect")),a.connectFuture=void 0),!(null===(o=a.engine)||void 0===o?void 0:o.client.isConnected)){e.next=13;break}return e.next=13,a.engine.client.sendLeave();case 13:if(!a.engine){e.next=16;break}return e.next=16,a.engine.close();case 16:a.handleDisconnect(t,lt.CLIENT_INITIATED),a.engine=void 0;case 18:return e.prev=18,c(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,,18,21]])}))),i.onBeforeUnload=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.disconnect();case 2:case"end":return e.stop()}}),e)}))),i.handleRestarting=function(){var e,t=(0,g.default)(i.participants.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;i.handleParticipantDisconnected(n.sid,n)}}catch(r){t.e(r)}finally{t.f()}i.setAndEmitConnectionState(Ns.Reconnecting)&&i.emit(ra.Reconnecting)},i.handleRestarted=function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return x.debug("reconnected to server",{region:t.serverRegion}),i.setAndEmitConnectionState(Ns.Connected),i.emit(ra.Reconnected),t.participant&&(i.localParticipant.sid=t.participant.sid,i.handleParticipantUpdates([t.participant])),i.handleParticipantUpdates(t.otherParticipants),n=[],i.localParticipant.tracks.forEach((function(e){e.track&&n.push(e)})),e.next=9,Promise.all(n.map(function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.track,i.localParticipant.unpublishTrack(n,!1),n.isMuted){e.next=9;break}if(!(n instanceof vo||n instanceof mo)||n.isUserProvided){e.next=7;break}return x.debug("restarting existing track",{track:t.trackSid}),e.next=7,n.restartTrack();case 7:return e.next=9,i.localParticipant.publishTrack(n,t.options);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.handleParticipantUpdates=function(e){e.forEach((function(e){if(e.sid!==i.localParticipant.sid&&e.identity!==i.localParticipant.identity){var t=i.identityToSid.get(e.identity);t&&t!==e.sid&&i.handleParticipantDisconnected(t,i.participants.get(t));var n=i.participants.get(e.sid),r=!n;n=i.getOrCreateParticipant(e.sid,e),e.state===ft.DISCONNECTED?i.handleParticipantDisconnected(e.sid,n):r||n.updateInfo(e)}else i.localParticipant.updateInfo(e)}))},i.handleActiveSpeakersUpdate=function(e){var t=[],n={};e.forEach((function(e){if(n[e.sid]=!0,e.sid===i.localParticipant.sid)i.localParticipant.audioLevel=e.level,i.localParticipant.setIsSpeaking(!0),t.push(i.localParticipant);else{var r=i.participants.get(e.sid);r&&(r.audioLevel=e.level,r.setIsSpeaking(!0),t.push(r))}})),n[i.localParticipant.sid]||(i.localParticipant.audioLevel=0,i.localParticipant.setIsSpeaking(!1)),i.participants.forEach((function(e){n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),i.activeSpeakers=t,i.emitWhenConnected(ra.ActiveSpeakersChanged,t)},i.handleSpeakersChanged=function(e){var t=new Map;i.activeSpeakers.forEach((function(e){t.set(e.sid,e)})),e.forEach((function(e){var n=i.participants.get(e.sid);e.sid===i.localParticipant.sid&&(n=i.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))}));var n=Array.from(t.values());n.sort((function(e,t){return t.audioLevel-e.audioLevel})),i.activeSpeakers=n,i.emitWhenConnected(ra.ActiveSpeakersChanged,n)},i.handleStreamStateUpdate=function(e){e.streamStates.forEach((function(e){var t=i.participants.get(e.participantSid);if(t){var n=t.getTrackPublication(e.trackSid);n&&n.track&&(n.track.streamState=lo.streamStateFromProto(e.state),t.emit(aa.TrackStreamStateChanged,n,n.track.streamState),i.emitWhenConnected(ra.TrackStreamStateChanged,n,n.track.streamState,t))}}))},i.handleSubscriptionPermissionUpdate=function(e){var t=i.participants.get(e.participantSid);if(t){var n=t.getTrackPublication(e.trackSid);n&&n.setAllowed(e.allowed)}},i.handleDataPacket=function(e,t){var n=i.participants.get(e.participantSid);i.emit(ra.DataReceived,e.payload,n,t),null===n||void 0===n||n.emit(aa.DataReceived,e.payload,t)},i.handleAudioPlaybackStarted=function(){i.canPlaybackAudio||(i.audioEnabled=!0,i.emit(ra.AudioPlaybackStatusChanged,!0))},i.handleAudioPlaybackFailed=function(e){x.warn("could not playback audio",e),i.canPlaybackAudio&&(i.audioEnabled=!1,i.emit(ra.AudioPlaybackStatusChanged,!1))},i.handleDeviceChange=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.emit(ra.MediaDevicesChanged);case 1:case"end":return e.stop()}}),e)}))),i.handleRoomUpdate=function(e){i._isRecording!==e.activeRecording&&(i._isRecording=e.activeRecording,i.emit(ra.RecordingStatusChanged,e.activeRecording)),i.metadata!==e.metadata&&(i.metadata=e.metadata,i.emitWhenConnected(ra.RoomMetadataChanged,e.metadata))},i.handleConnectionQualityUpdate=function(e){e.updates.forEach((function(e){if(e.participantSid!==i.localParticipant.sid){var t=i.participants.get(e.participantSid);t&&t.setConnectionQuality(e.quality)}else i.localParticipant.setConnectionQuality(e.quality)}))},i.onLocalParticipantMetadataChanged=function(e){i.emit(ra.ParticipantMetadataChanged,e,i.localParticipant)},i.onLocalTrackMuted=function(e){i.emit(ra.TrackMuted,e,i.localParticipant)},i.onLocalTrackUnmuted=function(e){i.emit(ra.TrackUnmuted,e,i.localParticipant)},i.onLocalTrackPublished=function(e){i.emit(ra.LocalTrackPublished,e,i.localParticipant)},i.onLocalTrackUnpublished=function(e){i.emit(ra.LocalTrackUnpublished,e,i.localParticipant)},i.onLocalConnectionQualityChanged=function(e){i.emit(ra.ConnectionQualityChanged,e,i.localParticipant)},i.onMediaDevicesError=function(e){i.emit(ra.MediaDevicesError,e)},i.onLocalParticipantPermissionsChanged=function(e){i.emit(ra.ParticipantPermissionsChanged,e,i.localParticipant)},i.setMaxListeners(100),i.participants=new Map,i.identityToSid=new Map,i.options=xn(xn({},ss),e),i.options.audioCaptureDefaults=xn(xn({},as),null===e||void 0===e?void 0:e.audioCaptureDefaults),i.options.videoCaptureDefaults=xn(xn({},os),null===e||void 0===e?void 0:e.videoCaptureDefaults),i.options.publishDefaults=xn(xn({},rs),null===e||void 0===e?void 0:e.publishDefaults),i.maybeCreateEngine(),i.disconnectLock=new Ga,i.localParticipant=new Ko("","",i.engine,i.options),i}return(0,m.default)(n,[{key:"maybeCreateEngine",value:function(){var e=this;this.engine||(this.engine=new Es(this.options),this.engine.client.onParticipantUpdate=this.handleParticipantUpdates,this.engine.client.onRoomUpdate=this.handleRoomUpdate,this.engine.client.onSpeakersChanged=this.handleSpeakersChanged,this.engine.client.onStreamStateUpdate=this.handleStreamStateUpdate,this.engine.client.onSubscriptionPermissionUpdate=this.handleSubscriptionPermissionUpdate,this.engine.client.onConnectionQuality=this.handleConnectionQualityUpdate,this.engine.on(oa.MediaTrackAdded,(function(t,n,i){e.onTrackAdded(t,n,i)})).on(oa.Disconnected,(function(t){e.handleDisconnect(e.options.stopLocalTrackOnUnpublish,t)})).on(oa.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(oa.DataPacketReceived,this.handleDataPacket).on(oa.Resuming,(function(){e.setAndEmitConnectionState(Ns.Reconnecting)&&e.emit(ra.Reconnecting)})).on(oa.Resumed,(function(){e.setAndEmitConnectionState(Ns.Connected),e.emit(ra.Reconnected),e.updateSubscriptions()})).on(oa.SignalResumed,(function(){e.state===Ns.Reconnecting&&e.sendSyncState()})).on(oa.Restarting,this.handleRestarting).on(oa.Restarted,this.handleRestarted),this.localParticipant&&this.localParticipant.setupEngine(this.engine))}},{key:"prepareConnection",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http".concat(t.substring(2)),{method:"HEAD"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParticipantByIdentity",value:function(e){if(this.localParticipant.identity===e)return this.localParticipant;var t=this.identityToSid.get(e);return t?this.participants.get(t):void 0}},{key:"clearConnectionFutures",value:function(){this.connectFuture=void 0}},{key:"isRecording",get:function(){return this._isRecording}},{key:"simulateScenario",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=function(){},e.t0=t,e.next="signal-reconnect"===e.t0?4:"speaker"===e.t0?8:"node-failure"===e.t0?10:"server-leave"===e.t0?12:"migration"===e.t0?14:"force-tcp"===e.t0||"force-tls"===e.t0?16:19;break;case 4:return e.next=6,this.engine.client.close();case 6:return this.engine.client.onClose&&this.engine.client.onClose("simulate disconnect"),e.abrupt("break",19);case 8:return i=qr.fromPartial({scenario:{$case:"speakerUpdate",speakerUpdate:3}}),e.abrupt("break",19);case 10:return i=qr.fromPartial({scenario:{$case:"nodeFailure",nodeFailure:!0}}),e.abrupt("break",19);case 12:return i=qr.fromPartial({scenario:{$case:"serverLeave",serverLeave:!0}}),e.abrupt("break",19);case 14:return i=qr.fromPartial({scenario:{$case:"migration",migration:!0}}),e.abrupt("break",19);case 16:return i=qr.fromPartial({scenario:{$case:"switchCandidateProtocol",switchCandidateProtocol:"force-tls"===t?2:1}}),n=function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=r.engine.client.onLeave,t&&t({reason:lt.CLIENT_INITIATED,canReconnect:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("break",19);case 19:i&&(this.engine.client.sendSimulateScenario(i),n());case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startAudio",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.acquireAudioContext();case 2:return t=[],this.participants.forEach((function(e){e.audioTracks.forEach((function(e){e.track&&e.track.attachedElements.forEach((function(e){t.push(e)}))}))})),e.prev=4,e.next=7,Promise.all(t.map((function(e){return e.muted=!1,e.play()})));case 7:this.handleAudioPlaybackStarted(),e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](4),this.handleAudioPlaybackFailed(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"canPlaybackAudio",get:function(){return this.audioEnabled}},{key:"getActiveAudioOutputDevice",value:function(){var e,t;return null!==(t=null===(e=this.options.audioOutput)||void 0===e?void 0:e.deviceId)&&void 0!==t?t:""}},{key:"switchActiveDevice",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t,n){var i,r,a,o,c,u,d;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("audioinput"!==t){e.next=15;break}return a=this.options.audioCaptureDefaults.deviceId,this.options.audioCaptureDefaults.deviceId=n,o=Array.from(this.localParticipant.audioTracks.values()).filter((function(e){return e.source===lo.Source.Microphone})),e.prev=4,e.next=7,Promise.all(o.map((function(e){var t;return null===(t=e.audioTrack)||void 0===t?void 0:t.setDeviceId(n)})));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](4),this.options.audioCaptureDefaults.deviceId=a,e.t0;case 13:e.next=45;break;case 15:if("videoinput"!==t){e.next=30;break}return c=this.options.videoCaptureDefaults.deviceId,this.options.videoCaptureDefaults.deviceId=n,u=Array.from(this.localParticipant.videoTracks.values()).filter((function(e){return e.source===lo.Source.Camera})),e.prev=19,e.next=22,Promise.all(u.map((function(e){var t;return null===(t=e.videoTrack)||void 0===t?void 0:t.setDeviceId(n)})));case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e["catch"](19),this.options.videoCaptureDefaults.deviceId=c,e.t1;case 28:e.next=45;break;case 30:if("audiooutput"!==t){e.next=45;break}if(Ca()){e.next=33;break}throw new Error("cannot switch audio output, setSinkId not supported");case 33:return null!==(i=(r=this.options).audioOutput)&&void 0!==i||(r.audioOutput={}),d=this.options.audioOutput.deviceId,this.options.audioOutput.deviceId=n,e.prev=36,e.next=39,Promise.all(Array.from(this.participants.values()).map((function(e){return e.setAudioOutput({deviceId:n})})));case 39:e.next=45;break;case 41:throw e.prev=41,e.t2=e["catch"](36),this.options.audioOutput.deviceId=d,e.t2;case 45:case"end":return e.stop()}}),e,this,[[4,9],[19,24],[36,41]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setupLocalParticipantEvents",value:function(){this.localParticipant.on(aa.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(aa.TrackMuted,this.onLocalTrackMuted).on(aa.TrackUnmuted,this.onLocalTrackUnmuted).on(aa.LocalTrackPublished,this.onLocalTrackPublished).on(aa.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(aa.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(aa.MediaDevicesError,this.onMediaDevicesError).on(aa.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}},{key:"recreateEngine",value:function(){var e;null===(e=this.engine)||void 0===e||e.close(),this.engine=void 0,this.participants.clear(),this.maybeCreateEngine()}},{key:"onTrackAdded",value:function(e,t,n){var i=this;if(this.state===Ns.Connecting||this.state===Ns.Reconnecting){var r=function(){i.onTrackAdded(e,t,n),a()},a=function e(){i.off(ra.Reconnected,r),i.off(ra.Connected,r),i.off(ra.Disconnected,e)};return this.once(ra.Reconnected,r),this.once(ra.Connected,r),void this.once(ra.Disconnected,a)}if(this.state!==Ns.Disconnected){var o=function(e){var t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]}(t.id),s=o[0],c=o[1];if(c&&""!==c||(c=e.id),s!==this.localParticipant.sid){var u,d=this.getOrCreateParticipant(s);this.options.adaptiveStream&&(u="object"===(0,b.default)(this.options.adaptiveStream)?this.options.adaptiveStream:{}),d.addSubscribedMediaTrack(e,c,t,n,u)}else x.warn("tried to create RemoteParticipant for local participant")}else x.warn("skipping incoming track after Room disconnected")}},{key:"handleDisconnect",value:function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;this.state!==Ns.Disconnected&&(this.participants.forEach((function(e){e.tracks.forEach((function(t){e.unpublishTrack(t.trackSid)}))})),this.localParticipant.tracks.forEach((function(e){var i,r;e.track&&t.localParticipant.unpublishTrack(e.track,n),n&&(null===(i=e.track)||void 0===i||i.detach(),null===(r=e.track)||void 0===r||r.stop())})),this.localParticipant.off(aa.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(aa.TrackMuted,this.onLocalTrackMuted).off(aa.TrackUnmuted,this.onLocalTrackUnmuted).off(aa.LocalTrackPublished,this.onLocalTrackPublished).off(aa.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(aa.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(aa.MediaDevicesError,this.onMediaDevicesError).off(aa.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.tracks.clear(),this.localParticipant.videoTracks.clear(),this.localParticipant.audioTracks.clear(),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&"boolean"===typeof this.options.expWebAudioMix&&(this.audioContext.close(),this.audioContext=void 0),Oa()&&(window.removeEventListener("beforeunload",this.onBeforeUnload),null===(e=navigator.mediaDevices)||void 0===e||e.removeEventListener("devicechange",this.handleDeviceChange)),this.setAndEmitConnectionState(Ns.Disconnected),this.emit(ra.Disconnected,i))}},{key:"handleParticipantDisconnected",value:function(e,t){this.participants.delete(e),t&&(this.identityToSid.delete(t.identity),t.tracks.forEach((function(e){t.unpublishTrack(e.trackSid,!0)})),this.emitWhenConnected(ra.ParticipantDisconnected,t))}},{key:"acquireAudioContext",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("boolean"===typeof this.options.expWebAudioMix||!this.options.expWebAudioMix.audioContext){e.next=6;break}return this.audioContext=this.options.expWebAudioMix.audioContext,e.next=4,this.audioContext.resume();case 4:e.next=7;break;case 6:this.audioContext=null!==(t=ba())&&void 0!==t?t:void 0;case 7:this.options.expWebAudioMix&&this.participants.forEach((function(e){return e.setAudioContext(r.audioContext)})),i="running"===(null===(n=this.audioContext)||void 0===n?void 0:n.state),i!==this.canPlaybackAudio&&(this.audioEnabled=i,this.emit(ra.AudioPlaybackStatusChanged,i));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createParticipant",value:function(e,t){var n;return n=t?Yo.fromParticipantInfo(this.engine.client,t):new Yo(this.engine.client,e,"",void 0,void 0),this.options.expWebAudioMix&&n.setAudioContext(this.audioContext),n}},{key:"getOrCreateParticipant",value:function(e,t){var n=this;if(this.participants.has(e))return this.participants.get(e);var i=this.createParticipant(e,t);return this.participants.set(e,i),t&&(this.identityToSid.set(t.identity,t.sid),this.emitWhenConnected(ra.ParticipantConnected,i)),i.on(aa.TrackPublished,(function(e){n.emitWhenConnected(ra.TrackPublished,e,i)})).on(aa.TrackSubscribed,(function(e,t){e.kind===lo.Kind.Audio&&(e.on(sa.AudioPlaybackStarted,n.handleAudioPlaybackStarted),e.on(sa.AudioPlaybackFailed,n.handleAudioPlaybackFailed)),n.emit(ra.TrackSubscribed,e,t,i)})).on(aa.TrackUnpublished,(function(e){n.emitWhenConnected(ra.TrackUnpublished,e,i)})).on(aa.TrackUnsubscribed,(function(e,t){n.emit(ra.TrackUnsubscribed,e,t,i)})).on(aa.TrackSubscriptionFailed,(function(e){n.emit(ra.TrackSubscriptionFailed,e,i)})).on(aa.TrackMuted,(function(e){n.emitWhenConnected(ra.TrackMuted,e,i)})).on(aa.TrackUnmuted,(function(e){n.emitWhenConnected(ra.TrackUnmuted,e,i)})).on(aa.ParticipantMetadataChanged,(function(e){n.emitWhenConnected(ra.ParticipantMetadataChanged,e,i)})).on(aa.ConnectionQualityChanged,(function(e){n.emitWhenConnected(ra.ConnectionQualityChanged,e,i)})).on(aa.ParticipantPermissionsChanged,(function(e){n.emitWhenConnected(ra.ParticipantPermissionsChanged,e,i)})).on(aa.TrackSubscriptionStatusChanged,(function(e,t){n.emitWhenConnected(ra.TrackSubscriptionStatusChanged,e,t,i)})).on(aa.TrackSubscriptionPermissionChanged,(function(e,t){n.emitWhenConnected(ra.TrackSubscriptionPermissionChanged,e,t,i)})),t&&i.updateInfo(t),i}},{key:"sendSyncState",value:function(){var e,t;if(void 0!==this.engine.subscriber&&null!==this.engine.subscriber.pc.localDescription){var n=this.engine.subscriber.pc.localDescription,i=this.engine.subscriber.pc.remoteDescription,r=null===(t=null===(e=this.connOptions)||void 0===e?void 0:e.autoSubscribe)||void 0===t||t,a=new Array;this.participants.forEach((function(e){e.tracks.forEach((function(e){e.isDesired!==r&&a.push(e.trackSid)}))})),this.engine.client.sendSyncState({answer:is({sdp:n.sdp,type:n.type}),offer:i?is({sdp:i.sdp,type:i.type}):void 0,subscription:{trackSids:a,subscribe:!r,participantTracks:[]},publishTracks:this.localParticipant.publishedTracksInfo(),dataChannels:this.localParticipant.dataChannelsInfo()})}}},{key:"updateSubscriptions",value:function(){var e,t=(0,g.default)(this.participants.values());try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=(0,g.default)(i.videoTracks.values());try{for(r.s();!(n=r.n()).done;){var a=n.value;a.isSubscribed&&a instanceof Zo&&a.emitTrackUpdate()}}catch(o){r.e(o)}finally{r.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"setAndEmitConnectionState",value:function(e){return e!==this.state&&(this.state=e,this.emit(ra.ConnectionStateChanged,this.state),!0)}},{key:"emitWhenConnected",value:function(e){if(this.state===Ns.Connected){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.emit.apply(this,[e].concat(n))}return!1}},{key:"simulateParticipants",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u,d,l,f,p,v,m;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=xn({audio:!0,video:!0,useRealTracks:!1},t.publish),a=xn({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},t.participants),this.handleDisconnect(),this.name="simulated-room",this.localParticipant.updateInfo(Jt.fromPartial({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(ra.SignalConnected),this.emit(ra.Connected),this.setAndEmitConnectionState(Ns.Connected),!r.video){e.next=26;break}if(e.t0=Eo,e.t1=lo.Kind.Video,e.t2=Qt.fromPartial({source:st.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:ot.AUDIO,name:"video-dummy"}),e.t3=mo,!r.useRealTracks){e.next=20;break}return e.next=17,navigator.mediaDevices.getUserMedia({video:!0});case 17:e.t4=e.sent.getVideoTracks()[0],e.next=21;break;case 20:e.t4=Fa(null!==(n=160*a.aspectRatios[0])&&void 0!==n?n:1,160,!0,!0);case 21:e.t5=e.t4,e.t6=new e.t3(e.t5),o=new e.t0(e.t1,e.t2,e.t6),this.localParticipant.addTrackPublication(o),this.localParticipant.emit(aa.LocalTrackPublished,o);case 26:if(!r.audio){e.next=43;break}if(e.t7=Eo,e.t8=lo.Kind.Audio,e.t9=Qt.fromPartial({source:st.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:ot.AUDIO}),e.t10=vo,!r.useRealTracks){e.next=37;break}return e.next=34,navigator.mediaDevices.getUserMedia({audio:!0});case 34:e.t11=e.sent.getAudioTracks()[0],e.next=38;break;case 37:e.t11=Va();case 38:e.t12=e.t11,e.t13=new e.t10(e.t12),c=new e.t7(e.t8,e.t9,e.t13),this.localParticipant.addTrackPublication(c),this.localParticipant.emit(aa.LocalTrackPublished,c);case 43:for(u=0;u<a.count-1;u+=1)d=Jt.fromPartial({sid:Math.floor(1e4*Math.random()).toString(),identity:"simulated-".concat(u),state:ft.ACTIVE,tracks:[],joinedAt:Date.now()}),l=this.getOrCreateParticipant(d.identity,d),a.video&&(f=Fa(null!==(i=160*a.aspectRatios[u%a.aspectRatios.length])&&void 0!==i?i:1,160,!1,!0),p=Qt.fromPartial({source:st.CAMERA,sid:Math.floor(1e4*Math.random()).toString(),type:ot.AUDIO}),l.addSubscribedMediaTrack(f,p.sid,new MediaStream([f])),d.tracks=[].concat((0,h.default)(d.tracks),[p])),a.audio&&(v=Va(),m=Qt.fromPartial({source:st.MICROPHONE,sid:Math.floor(1e4*Math.random()).toString(),type:ot.AUDIO}),l.addSubscribedMediaTrack(v,m.sid,new MediaStream([v])),d.tracks=[].concat((0,h.default)(d.tracks),[m])),l.updateInfo(d);case 44:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emit",value:function(e){for(var t,i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return e!==ra.ActiveSpeakersChanged&&x.debug("room event ".concat(e),{event:e,args:r}),(t=(0,a.default)((0,o.default)(n.prototype),"emit",this)).call.apply(t,[this,e].concat(r))}}],[{key:"getLocalDevices",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Wa.getInstance().getDevices(e,t)}}]),n}(qa.EventEmitter);function _s(e){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null!==t&&void 0!==t||(t={}),null!==(n=t.audio)&&void 0!==n||(t.audio=!0),null!==(i=t.video)&&void 0!==i||(t.video=!0),r=pa(t,as,os),a=va(r),o=navigator.mediaDevices.getUserMedia(a),t.audio&&(Wa.userMediaPromiseMap.set("audioinput",o),o.catch((function(){return Wa.userMediaPromiseMap.delete("audioinput")}))),t.video&&(Wa.userMediaPromiseMap.set("videoinput",o),o.catch((function(){return Wa.userMediaPromiseMap.delete("videoinput")}))),e.next=10,o;case 10:return c=e.sent,e.abrupt("return",c.getTracks().map((function(e){var n,i="audio"===e.kind;i?t.audio:t.video;var r=i?a.audio:a.video;"boolean"!==typeof r&&(n=r);var o=Bo(e,n);return o.kind===lo.Kind.Video?o.source=lo.Source.Camera:o.kind===lo.Kind.Audio&&(o.source=lo.Source.Microphone),o.mediaStream=c,o})));case 12:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Bs(e){return js.apply(this,arguments)}function js(){return js=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_s({audio:!1,video:t});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Fs(e){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,u.default)((0,s.default)().mark((function e(t){var n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_s({audio:t,video:!1});case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Js(){return Js=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o,c,u;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),void 0===t.resolution&&(t.resolution=Mo.h1080.resolution),i=!0,t.resolution&&(i={width:t.resolution.width,height:t.resolution.height}),e.next=6,navigator.mediaDevices.getDisplayMedia({audio:null!==(n=t.audio)&&void 0!==n&&n,video:i});case 6:if(r=e.sent,a=r.getVideoTracks(),0!==a.length){e.next=10;break}throw new Xr("no video track found");case 10:return o=new mo(a[0],void 0,!1),o.source=lo.Source.ScreenShare,c=[o],r.getAudioTracks().length>0&&(u=new vo(r.getAudioTracks()[0],void 0,!1),u.source=lo.Source.ScreenShareAudio,c.push(u)),e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}t.Room=Us,function(e){e[e["IDLE"]=0]="IDLE",e[e["RUNNING"]=1]="RUNNING",e[e["SKIPPED"]=2]="SKIPPED",e[e["SUCCESS"]=3]="SUCCESS",e[e["FAILED"]=4]="FAILED"}(Ds||(Ds={}));var Gs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;(0,v.default)(this,n);var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=t.call(this),r.status=Ds.IDLE,r.logs=[],r.errorsAsWarnings=!1,r.url=e,r.token=i,r.name=r.constructor.name,r.room=new Us(a.roomOptions),r.connectOptions=a.connectOptions,a.errorsAsWarnings&&(r.errorsAsWarnings=a.errorsAsWarnings),r}return(0,m.default)(n,[{key:"run",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.status===Ds.IDLE){e.next=2;break}throw Error("check is running already");case 2:return this.setStatus(Ds.RUNNING),this.appendMessage("".concat(this.name," started.")),e.prev=4,e.next=7,this.perform();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),e.t0 instanceof Error&&(this.errorsAsWarnings?this.appendWarning(e.t0.message):this.appendError(e.t0.message));case 12:return e.next=14,this.disconnect();case 14:return e.next=16,new Promise((function(e){return setTimeout(e,500)}));case 16:return this.status!==Ds.SKIPPED&&this.setStatus(this.isSuccess()?Ds.SUCCESS:Ds.FAILED),t&&t(),e.abrupt("return",this.getInfo());case 19:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isSuccess",value:function(){return!this.logs.some((function(e){return"error"===e.level}))}},{key:"connect",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.room.state!==Ns.Connected){e.next=2;break}return e.abrupt("return",this.room);case 2:return e.next=4,this.room.connect(this.url,this.token);case 4:return e.abrupt("return",this.room);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.room||this.room.state===Ns.Disconnected){e.next=5;break}return e.next=3,this.room.disconnect();case 3:return e.next=5,new Promise((function(e){return setTimeout(e,500)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"skip",value:function(){this.setStatus(Ds.SKIPPED)}},{key:"appendMessage",value:function(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}},{key:"appendWarning",value:function(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}},{key:"appendError",value:function(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}},{key:"setStatus",value:function(e){this.status=e,this.emit("update",this.getInfo())}},{key:"engine",get:function(){var e;return null===(e=this.room)||void 0===e?void 0:e.engine}},{key:"getInfo",value:function(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}]),n}(qa.EventEmitter),Hs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Can publish audio"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connect();case 2:return n=e.sent,e.next=5,Fs();case 5:return i=e.sent,n.localParticipant.publishTrack(i),e.next=9,new Promise((function(e){return setTimeout(e,3e3)}));case 9:return e.next=11,null===(t=i.sender)||void 0===t?void 0:t.getStats();case 11:if(r=e.sent,r){e.next=14;break}throw new Error("Could not get RTCStats");case 14:if(a=0,r.forEach((function(e){"outbound-rtp"===e.type&&"audio"===e.mediaType&&(a=e.packetsSent)})),0!==a){e.next=18;break}throw new Error("Could not determine packets are sent");case 18:this.appendMessage("published ".concat(a," audio packets"));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),Ws=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Can publish video"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connect();case 2:return n=e.sent,e.next=5,Bs();case 5:return i=e.sent,n.localParticipant.publishTrack(i),e.next=9,new Promise((function(e){return setTimeout(e,3e3)}));case 9:return e.next=11,null===(t=i.sender)||void 0===t?void 0:t.getStats();case 11:if(r=e.sent,r){e.next=14;break}throw new Error("Could not get RTCStats");case 14:if(a=0,r.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&(a=e.packetsSent)})),0!==a){e.next=18;break}throw new Error("Could not determine packets are sent");case 18:this.appendMessage("published ".concat(a," video packets"));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),Qs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Resuming connection after interruption"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a,o,c;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.connect();case 2:return n=e.sent,i=!1,r=!1,o=new Promise((function(e){setTimeout(e,5e3),a=e})),n.on(ra.Reconnecting,(function(){i=!0})).on(ra.Reconnected,(function(){r=!0,a(!0)})),null===(t=n.engine.client.ws)||void 0===t||t.close(),c=n.engine.client.onClose,c&&c(""),e.next=12,o;case 12:if(i){e.next=16;break}throw new Error("Did not attempt to reconnect");case 16:if(r&&n.state===Ns.Connected){e.next=19;break}throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),qs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Can connect via TURN"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n,i,r,a,o,c,u,d,l,f,p,h;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new ts,e.next=3,i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0});case 3:r=e.sent,a=!1,o=!1,c=!1,u=(0,g.default)(r.iceServers);try{for(u.s();!(d=u.n()).done;){l=d.value,f=(0,g.default)(l.urls);try{for(f.s();!(p=f.n()).done;)h=p.value,h.startsWith("turn:")?(o=!0,c=!0):h.startsWith("turns:")&&(o=!0,c=!0,a=!0),h.startsWith("stun:")&&(c=!0)}catch(s){f.e(s)}finally{f.f()}}}catch(s){u.e(s)}finally{u.f()}return c?o&&!a&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),e.next=12,i.close();case 12:if(!(null===(n=null===(t=this.connectOptions)||void 0===t?void 0:t.rtcConfig)||void 0===n?void 0:n.iceServers)&&!o){e.next=17;break}return e.next=15,this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}});case 15:e.next=21;break;case 17:return this.appendWarning("No TURN servers configured."),this.skip(),e.next=21,new Promise((function(e){return setTimeout(e,0)}));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),$s=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Establishing WebRTC connection"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("initiating room connection"),e.next=4,this.connect();case 4:this.room=e.sent,console.log("now the room is connected"),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](0),this.appendWarning("ports need to be open on firewall in order to connect."),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),zs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(){return(0,v.default)(this,n),t.apply(this,arguments)}return(0,m.default)(n,[{key:"description",get:function(){return"Connecting to signal connection via WebSocket"}},{key:"perform",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){var t,n;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it"),t=new ts,e.next=4,t.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0});case 4:return n=e.sent,this.appendMessage("Connected to server, version ".concat(n.serverVersion,".")),e.next=8,t.close();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gs),Zs=function(e){(0,d.default)(n,e);var t=(0,l.default)(n);function n(e,i){var r;return(0,v.default)(this,n),r=t.call(this),r.checkResults=new Map,r.url=e,r.token=i,r}return(0,m.default)(n,[{key:"getNextCheckId",value:function(){var e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:Ds.IDLE,name:"",description:""}),e}},{key:"updateCheck",value:function(e,t){this.checkResults.set(e,t),this.emit("checkUpdate",e,t)}},{key:"isSuccess",value:function(){return Array.from(this.checkResults.values()).every((function(e){return e.status!==Ds.FAILED}))}},{key:"getResults",value:function(){return Array.from(this.checkResults.values())}},{key:"createAndRunCheck",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(t){var n,i,r,a,o=this;return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.getNextCheckId(),i=new t(this.url,this.token),r=function(e){o.updateCheck(n,e)},i.on("update",r),e.next=6,i.run();case 6:return a=e.sent,i.off("update",r),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkWebsocket",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck(zs));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkWebRTC",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck($s));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkTURN",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck(qs));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkReconnect",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck(Qs));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkPublishAudio",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck(Hs));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkPublishVideo",value:function(){var e=(0,u.default)((0,s.default)().mark((function e(){return(0,s.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createAndRunCheck(Ws));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qa);t.ConnectionCheck=Zs}).call(this,n("c8ba"))},"249c":function(e,t,n){e.exports=n.p+"static/img/ic_avatar_01.a264103d.png"},"257e":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},n("d9e2"),n("d401")},"25eb":function(e,t,n){var i=n("23e7"),r=n("c20d");i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},"262e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.default)(e,t)},n("d9e2"),n("d401"),n("7a82");var i=function(e){return e&&e.__esModule?e:{default:e}}(n("b380"))},2714:function(e,t,n){var i="function"===typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=i&&r&&"function"===typeof r.get?r.get:null,o=i&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"===typeof c.get?c.get:null,d=s&&Set.prototype.forEach,l="function"===typeof WeakMap&&WeakMap.prototype,f=l?WeakMap.prototype.has:null,p="function"===typeof WeakSet&&WeakSet.prototype,h=p?WeakSet.prototype.has:null,v="function"===typeof WeakRef&&WeakRef.prototype,m=v?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,b=Object.prototype.toString,y=Function.prototype.toString,k=String.prototype.match,w=String.prototype.slice,S=String.prototype.replace,A=String.prototype.toUpperCase,C=String.prototype.toLowerCase,x=RegExp.prototype.test,T=Array.prototype.concat,P=Array.prototype.join,E=Array.prototype.slice,R=Math.floor,O="function"===typeof BigInt?BigInt.prototype.valueOf:null,N=Object.getOwnPropertySymbols,I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,M="function"===typeof Symbol&&"object"===typeof Symbol.iterator,D="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===M||"symbol")?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,_=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var i=e<0?-R(-e):R(e);if(i!==e){var r=String(i),a=w.call(t,r.length+1);return S.call(r,n,"$&_")+"."+S.call(S.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return S.call(t,n,"$&_")}var B=n(1),j=B.custom,F=W(j)?j:null;function V(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function J(e){return S.call(String(e),/"/g,"&quot;")}function G(e){return"[object Array]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function H(e){return"[object RegExp]"===$(e)&&(!D||!("object"===typeof e&&D in e))}function W(e){if(M)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!I)return!1;try{return I.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,i,r){var s=n||{};if(q(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(q(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!q(s,"customInspect")||s.customInspect;if("boolean"!==typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(q(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(q(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return function e(t,n){if(t.length>n.maxStringLength){var i=t.length-n.maxStringLength,r="... "+i+" more character"+(i>1?"s":"");return e(w.call(t,0,n.maxStringLength),n)+r}var a=S.call(S.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Z);return V(a,"single",n)}(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var p=String(t);return l?L(t,p):p}if("bigint"===typeof t){var v=String(t)+"n";return l?L(t,v):v}var b="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof i&&(i=0),i>=b&&b>0&&"object"===typeof t)return G(t)?"[Array]":"[Object]";var A=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=P.call(Array(e.indent+1)," ")}return{base:n,prev:P.call(Array(t+1),n)}}(s,i);if("undefined"===typeof r)r=[];else if(z(r,t)>=0)return"[Circular]";function x(t,n,a){if(n&&(r=E.call(r),r.push(n)),a){var o={depth:s.depth};return q(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),e(t,o,i+1,r)}return e(t,s,i+1,r)}if("function"===typeof t&&!H(t)){var R=function(e){if(e.name)return e.name;var t=k.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),N=te(t,x);return"[Function"+(R?": "+R:" (anonymous)")+"]"+(N.length>0?" { "+P.call(N,", ")+" }":"")}if(W(t)){var j=M?S.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!==typeof t||M?j:Y(j)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var Q="<"+C.call(String(t.nodeName)),ne=t.attributes||[],ie=0;ie<ne.length;ie++)Q+=" "+ne[ie].name+"="+V(J(ne[ie].value),"double",s);return Q+=">",t.childNodes&&t.childNodes.length&&(Q+="..."),Q+="</"+C.call(String(t.nodeName))+">",Q}if(G(t)){if(0===t.length)return"[]";var re=te(t,x);return A&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(re)?"["+ee(re,A)+"]":"[ "+P.call(re,", ")+" ]"}if(function(e){return"[object Error]"===$(e)&&(!D||!("object"===typeof e&&D in e))}(t)){var ae=te(t,x);return"cause"in Error.prototype||!("cause"in t)||U.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+P.call(ae,", ")+" }":"{ ["+String(t)+"] "+P.call(T.call("[cause]: "+x(t.cause),ae),", ")+" }"}if("object"===typeof t&&c){if(F&&"function"===typeof t[F]&&B)return B(t,{depth:b-i});if("symbol"!==c&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!==typeof e)return!1;try{a.call(e);try{u.call(e)}catch(Q){return!0}return e instanceof Map}catch(t){}return!1}(t)){var oe=[];return o.call(t,(function(e,n){oe.push(x(n,t,!0)+" => "+x(e,t))})),X("Map",a.call(t),oe,A)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e);try{a.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var se=[];return d.call(t,(function(e){se.push(x(e,t))})),X("Set",u.call(t),se,A)}if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{f.call(e,f);try{h.call(e,h)}catch(Q){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return K("WeakMap");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{f.call(e,f)}catch(Q){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return K("WeakSet");if(function(e){if(!m||!e||"object"!==typeof e)return!1;try{return m.call(e),!0}catch(t){}return!1}(t))return K("WeakRef");if(function(e){return"[object Number]"===$(e)&&(!D||!("object"===typeof e&&D in e))}(t))return Y(x(Number(t)));if(function(e){if(!e||"object"!==typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}(t))return Y(x(O.call(t)));if(function(e){return"[object Boolean]"===$(e)&&(!D||!("object"===typeof e&&D in e))}(t))return Y(g.call(t));if(function(e){return"[object String]"===$(e)&&(!D||!("object"===typeof e&&D in e))}(t))return Y(x(String(t)));if(!function(e){return"[object Date]"===$(e)&&(!D||!("object"===typeof e&&D in e))}(t)&&!H(t)){var ce=te(t,x),ue=_?_(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",le=!ue&&D&&Object(t)===t&&D in t?w.call($(t),8,-1):de?"Object":"",fe=ue||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"",pe=fe+(le||de?"["+P.call(T.call([],le||[],de||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":A?pe+"{"+ee(ce,A)+"}":pe+"{ "+P.call(ce,", ")+" }"}return String(t)};var Q=Object.prototype.hasOwnProperty||function(e){return e in this};function q(e,t){return Q.call(e,t)}function $(e){return b.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function Z(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+A.call(t.toString(16))}function Y(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function X(e,t,n,i){var r=i?ee(n,i):P.call(n,", ");return e+" ("+t+") {"+r+"}"}function ee(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+P.call(e,","+n)+"\n"+t.prev}function te(e,t){var n=G(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=q(e,r)?t(e[r],e):""}var a,o="function"===typeof N?N(e):[];if(M){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var c in e)q(e,c)&&(n&&String(Number(c))===c&&c<e.length||M&&a["$"+c]instanceof Symbol||(x.call(/[^\w$]/,c)?i.push(t(c,e)+": "+t(e[c],e)):i.push(c+": "+t(e[c],e))));if("function"===typeof N)for(var u=0;u<o.length;u++)U.call(e,o[u])&&i.push("["+t(o[u])+"]: "+t(e[o[u]],e));return i}},2843:function(e,t,n){"use strict";n.r(t);var i=n("9b0f"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},2909:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)||(0,r.default)(e)||(0,a.default)(e)||(0,o.default)()};var i=s(n("6005")),r=s(n("db90")),a=s(n("06c5")),o=s(n("3427"));function s(e){return e&&e.__esModule?e:{default:e}}},2942:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uIcon:n("8709").default,"u-Text":n("73fc").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-avatar",class:["u-avatar--"+e.shape],style:[{backgroundColor:e.text||e.icon?e.randomBgColor?e.colors[""!==e.colorIndex?e.colorIndex:e.$u.random(0,19)]:e.bgColor:"transparent",width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)},e.$u.addStyle(e.customStyle)],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("default",[e.mpAvatar&&e.allowMp?void 0:e.icon?n("u-icon",{attrs:{name:e.icon,size:e.fontSize,color:e.color}}):e.text?n("u--text",{attrs:{text:e.text,size:e.fontSize,color:e.color,align:"center",customStyle:"justify-content: center"}}):n("v-uni-image",{staticClass:"u-avatar__image",class:["u-avatar__image--"+e.shape],style:[{width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)}],attrs:{src:e.avatarUrl||e.defaultUrl,mode:e.mode},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.errorHandler.apply(void 0,arguments)}}})])],2)},a=[]},2948:function(e,t,n){e.exports=n.p+"static/img/mic_off.b7aba3cb.png"},2951:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f6ee")),a={name:"u-modal",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{loading:!1}},watch:{show:function(e){e&&this.loading&&(this.loading=!1)}},methods:{confirmHandler:function(){this.asyncClose&&(this.loading=!0),this.$emit("confirm")},cancelHandler:function(){this.$emit("cancel")},clickHandler:function(){this.closeOnClickOverlay&&this.$emit("close")}}};t.default=a},"2ae7":function(e,t,n){"use strict";n.r(t);var i=n("a0e7"),r=n("69c0");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("8984");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"327502e2",null,!1,i["a"],void 0);t["default"]=s.exports},"2b14":function(e,t){e.exports="data:image/png;base64,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"},"2c4e":function(e,t,n){"use strict";var i=n("4f5b"),r=n.n(i);r.a},"2caf":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}},n("4ae1"),n("d3b7"),n("f8c9");var i=o(n("7e84")),r=o(n("d967")),a=o(n("99de"));function o(e){return e&&e.__esModule?e:{default:e}}},"2e96":function(e,t,n){"use strict";n.r(t);var i=n("e1bf"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"2f22":function(e,t,n){"use strict";n.r(t);var i=n("6469"),r=n("c292");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("20b5");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"a75f7a08",null,!1,i["a"],void 0);t["default"]=s.exports},"2f46":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5530")),a=i(n("ad2f")),o=i(n("d633")),s={name:"u-transition",data:function(){return{inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}},computed:{mergeStyle:function(){var e=this.viewStyle,t=this.customStyle;return(0,r.default)((0,r.default)({transitionDuration:"".concat(this.duration,"ms"),transitionTimingFunction:this.timingFunction},uni.$u.addStyle(t)),e)}},mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default,a.default],watch:{show:{handler:function(e){e?this.vueEnter():this.vueLeave()},immediate:!0}}};t.default=s},"2fd9":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-2b5fb029], uni-scroll-view[data-v-2b5fb029], uni-swiper-item[data-v-2b5fb029]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-link[data-v-2b5fb029]{line-height:1;display:flex;flex-direction:row;flex-wrap:wrap;flex:1}',""]),e.exports=t},"32ea":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.voice_invition_desc[data-v-26eeed99]{display:flex;flex-direction:column;align-items:center;margin-top:20vh;color:#fff}.voice_invition_desc .title[data-v-26eeed99]{font-size:%?48?%;margin:%?30?% 0 %?60?%}',""]),e.exports=t},"33e1":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var r=i(n("5248")),a={components:{MyAvatar:r.default},props:{memberList:{type:Array,default:function(){return[]}},totalMember:Number},data:function(){return{}},methods:{}};t.default=a},3427:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},"376e":function(e,t,n){var i=n("0059");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("484f7385",i,!0,{sourceMap:!1,shadowMode:!1})},3977:function(e,t,n){var i=n("238c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("5de9510c",i,!0,{sourceMap:!1,shadowMode:!1})},"39a9":function(e,t,n){e.exports=n.p+"static/img/ic_avatar_02.cd88c1f4.png"},"3a23":function(e,t,n){var i=n("6a1f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("96585172",i,!0,{sourceMap:!1,shadowMode:!1})},"3b4c":function(e,t,n){var i=n("f1cd");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("ed98fc34",i,!0,{sourceMap:!1,shadowMode:!1})},"3b99":function(e,t,n){"use strict";n.r(t);var i=n("2942"),r=n("5713");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("7ada");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"4b87d063",null,!1,i["a"],void 0);t["default"]=s.exports},"3eb1":function(e,t,n){"use strict";var i=n("0f7c"),r=n("00ce"),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||i.call(o,a),c=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(f){u=null}e.exports=function(e){var t=s(i,o,arguments);if(c&&u){var n=c(t,"length");n.configurable&&u(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var l=function(){return s(i,a,arguments)};u?u(e.exports,"apply",{value:l}):e.exports.apply=l},"40d9":function(e,t,n){var i=n("23e7"),r=Math.floor,a=Math.log,o=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-r(a(t+.5)*o):32}})},4127:function(e,t,n){"use strict";var i=n("5402"),r=n("d233"),a=n("b313"),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=String.prototype.split,d=Array.prototype.push,l=function(e,t){d.apply(e,c(t)?t:[t])},f=Date.prototype.toISOString,p=a["default"],h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:p,formatter:a.formatters[p],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},v={},m=function e(t,n,a,o,s,d,f,p,m,g,b,y,k,w,S,A){var C=t,x=A,T=0,P=!1;while(void 0!==(x=x.get(v))&&!P){var E=x.get(t);if(T+=1,"undefined"!==typeof E){if(E===T)throw new RangeError("Cyclic object value");P=!0}"undefined"===typeof x.get(v)&&(T=0)}if("function"===typeof p?C=p(n,C):C instanceof Date?C=b(C):"comma"===a&&c(C)&&(C=r.maybeMap(C,(function(e){return e instanceof Date?b(e):e}))),null===C){if(s)return f&&!w?f(n,h.encoder,S,"key",y):n;C=""}if(function(e){return"string"===typeof e||"number"===typeof e||"boolean"===typeof e||"symbol"===typeof e||"bigint"===typeof e}(C)||r.isBuffer(C)){if(f){var R=w?n:f(n,h.encoder,S,"key",y);if("comma"===a&&w){for(var O=u.call(String(C),","),N="",I=0;I<O.length;++I)N+=(0===I?"":",")+k(f(O[I],h.encoder,S,"value",y));return[k(R)+(o&&c(C)&&1===O.length?"[]":"")+"="+N]}return[k(R)+"="+k(f(C,h.encoder,S,"value",y))]}return[k(n)+"="+k(String(C))]}var M,D=[];if("undefined"===typeof C)return D;if("comma"===a&&c(C))M=[{value:C.length>0?C.join(",")||null:void 0}];else if(c(p))M=p;else{var U=Object.keys(C);M=m?U.sort(m):U}for(var _=o&&c(C)&&1===C.length?n+"[]":n,L=0;L<M.length;++L){var B=M[L],j="object"===typeof B&&"undefined"!==typeof B.value?B.value:C[B];if(!d||null!==j){var F=c(C)?"function"===typeof a?a(_,B):_:_+(g?"."+B:"["+B+"]");A.set(t,T);var V=i();V.set(v,A),l(D,e(j,F,a,o,s,d,f,p,m,g,b,y,k,w,S,V))}}return D};e.exports=function(e,t){var n,r,u=e,d=function(e){if(!e)return h;if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a["default"];if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=a.formatters[n],r=h.filter;return("function"===typeof e.filter||c(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?h.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:h.encode,encoder:"function"===typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"===typeof d.filter?(r=d.filter,u=r("",u)):c(d.filter)&&(r=d.filter,n=r);var f,p=[];if("object"!==typeof u||null===u)return"";f=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var v=s[f];if(t&&"commaRoundTrip"in t&&"boolean"!==typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===v&&t&&t.commaRoundTrip;n||(n=Object.keys(u)),d.sort&&n.sort(d.sort);for(var b=i(),y=0;y<n.length;++y){var k=n[y];d.skipNulls&&null===u[k]||l(p,m(u[k],k,v,g,d.strictNullHandling,d.skipNulls,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,b))}var w=p.join(d.delimiter),S=!0===d.addQueryPrefix?"?":"";return d.charsetSentinel&&("iso-8859-1"===d.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),w.length>0?S+w:""}},"419d":function(e,t){e.exports="data:image/png;base64,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"},4328:function(e,t,n){"use strict";var i=n("4127"),r=n("9e6a"),a=n("b313");e.exports={formats:a,parse:r,stringify:i}},4349:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.video_invition_desc[data-v-4edd9d78]{display:flex;width:100%;margin-top:10vh;color:#fff}.video_invition_desc .my-avatar[data-v-4edd9d78]{margin-left:%?60?%;margin-right:%?48?%}.video_invition_desc .right_info[data-v-4edd9d78]{display:flex;flex-direction:column;justify-content:space-evenly}.video_invition_desc .right_info .title[data-v-4edd9d78]{font-size:%?48?%}',""]),e.exports=t},"43ec":function(e,t,n){var i=n("d76b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("6dda77fa",i,!0,{sourceMap:!1,shadowMode:!1})},4478:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,n("4ae1"),n("d3b7"),n("f8c9"),n("14d9");var i=a(n("b380")),r=a(n("d967"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,n,a){return(0,r.default)()?t.default=o=Reflect.construct.bind():t.default=o=function(e,t,n){var r=[null];r.push.apply(r,t);var a=Function.bind.apply(e,r),o=new a;return n&&(0,i.default)(o,n.prototype),o},o.apply(null,arguments)}},"45eb":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,n("d3b7"),n("f8c9"),n("5d41"),n("e439");var i=function(e){return e&&e.__esModule?e:{default:e}}(n("5d34"));function r(){return"undefined"!==typeof Reflect&&Reflect.get?t.default=r=Reflect.get.bind():t.default=r=function(e,t,n){var r=(0,i.default)(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},r.apply(this,arguments)}},"4a9b":function(e,t,n){var i=n("74e8");i("Float64",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},"4cd4":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uModal:n("1e81").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"rtc_container",style:{backgroundColor:e.callState.isCalling||e.callState.isGroup||!e.callState.isVideo||!e.singleRemoteVideoLoaded?"#262626":"transparent",height:e.pageHeight}},[n("v-uni-view",{staticClass:"desc_container"},[e.callState.isGroup||e.callState.isVideo&&(!e.callState.isVideo||e.singleRemoteVideoLoaded||e.callState.isCalling)?e._e():n("single-voice-invition",{attrs:{callState:e.callState,userInfo:e.particiPantInfo.userInfo}}),(e.callState.isVideo&&!e.callState.isGroup||e.callState.isGroup)&&e.callState.isCalling?n("group-or-video-invition",{attrs:{callState:e.callState,totalMember:e.totalMember,particiPantInfo:e.particiPantInfo}}):e._e(),e.callState.isGroup&&e.callState.isCalling?n("invited-member-row",{attrs:{memberList:e.memberList,totalMember:e.totalMember}}):e._e(),n("u-modal",{attrs:{content:e.confirmContent,asyncClose:!0,show:e.showConfirm,showCancelButton:!0},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmLeave.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),function(){return e.showConfirm=!1}.apply(void 0,arguments)}}})],1),!e.callState.isCalling&&e.callState.isGroup?n("group-on-call",{attrs:{participants:e.roomState.participants,isVideo:e.callState.isVideo,localCameraIsMute:e.localPartState.isLocalVideoMuted},on:{opCamera:function(t){arguments[0]=t=e.$handleEvent(t),e.opCamera.apply(void 0,arguments)},changeCamera:function(t){arguments[0]=t=e.$handleEvent(t),e.switchCamera.apply(void 0,arguments)},inviteMember:function(t){arguments[0]=t=e.$handleEvent(t),e.inviteMember.apply(void 0,arguments)}}}):e._e(),n("room-action-bar",{ref:"actionBar",attrs:{localPartState:e.localPartState,isConnecting:e.roomState.isConnecting,callState:e.callState},on:{opMic:function(t){arguments[0]=t=e.$handleEvent(t),e.opMic.apply(void 0,arguments)},cancelAction:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelAction.apply(void 0,arguments)},accept:function(t){arguments[0]=t=e.$handleEvent(t),e.accept.apply(void 0,arguments)},opVol:function(t){arguments[0]=t=e.$handleEvent(t),e.opVol.apply(void 0,arguments)},opCamera:function(t){arguments[0]=t=e.$handleEvent(t),e.switchCamera.apply(void 0,arguments)}}}),e.callState.isVideo&&!e.callState.isGroup?n("v-uni-view",{staticClass:"single_video_wrap"},[n("v-uni-video",{ref:"singleRemoteRef",staticClass:"single_other",attrs:{controls:!1,"show-center-play-btn":!1,"show-loading":!1,id:"singleRemoteRef"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.singleRemoteVideoLoaded,expression:"!singleRemoteVideoLoaded"}],staticClass:"loading_wrap"})],1),n("v-uni-video",{directives:[{name:"show",rawName:"v-show",value:e.singleLocalVideoLoaded,expression:"singleLocalVideoLoaded"}],ref:"singleSelfRef",staticClass:"single_self",attrs:{controls:!1,"show-center-play-btn":!1,"show-loading":!1,"object-fit":"fill"}})],1):e._e()],1)},a=[]},"4e01":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={fade:{enter:{opacity:0},"enter-to":{opacity:1},leave:{opacity:1},"leave-to":{opacity:0}},"fade-up":{enter:{opacity:0,transform:"translateY(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(100%)"}},"fade-down":{enter:{opacity:0,transform:"translateY(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateY(-100%)"}},"fade-left":{enter:{opacity:0,transform:"translateX(-100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(-100%)"}},"fade-right":{enter:{opacity:0,transform:"translateX(100%)"},"enter-to":{opacity:1,transform:"translateY(0)"},leave:{opacity:1,transform:"translateY(0)"},"leave-to":{opacity:0,transform:"translateX(100%)"}},"slide-up":{enter:{transform:"translateY(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(100%)"}},"slide-down":{enter:{transform:"translateY(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateY(-100%)"}},"slide-left":{enter:{transform:"translateX(-100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(-100%)"}},"slide-right":{enter:{transform:"translateX(100%)"},"enter-to":{transform:"translateY(0)"},leave:{transform:"translateY(0)"},"leave-to":{transform:"translateX(100%)"}},zoom:{enter:{transform:"scale(0.95)"},"enter-to":{transform:"scale(1)"},leave:{transform:"scale(1)"},"leave-to":{transform:"scale(0.95)"}},"fade-zoom":{enter:{opacity:0,transform:"scale(0.95)"},"enter-to":{opacity:1,transform:"scale(1)"},leave:{opacity:1,transform:"scale(1)"},"leave-to":{opacity:0,transform:"scale(0.95)"}}}},"4eb4":function(e,t,n){"use strict";n.r(t);var i=n("6200"),r=n("9418");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("152c");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"4edd9d78",null,!1,i["a"],void 0);t["default"]=s.exports},"4f27":function(e,t,n){"use strict";var i=n("747a"),r=n.n(i);r.a},"4f5b":function(e,t,n){var i=n("f2b8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("b077cc24",i,!0,{sourceMap:!1,shadowMode:!1})},5156:function(e,t,n){"use strict";var i="undefined"!==typeof Symbol&&Symbol,r=n("1696");e.exports=function(){return"function"===typeof i&&("function"===typeof Symbol&&("symbol"===typeof i("foo")&&("symbol"===typeof Symbol("bar")&&r())))}},"51f3":function(e,t,n){var i=n("6565");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("47ac1d1e",i,!0,{sourceMap:!1,shadowMode:!1})},5248:function(e,t,n){"use strict";n.r(t);var i=n("ad19"),r=n("bc43");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"40ff5202",null,!1,i["a"],void 0);t["default"]=s.exports},5273:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};t.default=i},"52c8":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.invited_member_row[data-v-6eabddce]{display:flex;margin-top:%?112?%;margin-left:%?60?%}.invited_member_row .member_item[data-v-6eabddce]{display:flex;flex-direction:column;align-items:center;margin-right:%?48?%}.invited_member_row .member_item .member_name[data-v-6eabddce]{color:#fff;margin-top:%?24?%}',""]),e.exports=t},5402:function(e,t,n){"use strict";var i=n("00ce"),r=n("545e"),a=n("2714"),o=i("%TypeError%"),s=i("%WeakMap%",!0),c=i("%Map%",!0),u=r("WeakMap.prototype.get",!0),d=r("WeakMap.prototype.set",!0),l=r("WeakMap.prototype.has",!0),f=r("Map.prototype.get",!0),p=r("Map.prototype.set",!0),h=r("Map.prototype.has",!0),v=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new o("Side channel does not contain "+a(e))},get:function(i){if(s&&i&&("object"===typeof i||"function"===typeof i)){if(e)return u(e,i)}else if(c){if(t)return f(t,i)}else if(n)return function(e,t){var n=v(e,t);return n&&n.value}(n,i)},has:function(i){if(s&&i&&("object"===typeof i||"function"===typeof i)){if(e)return l(e,i)}else if(c){if(t)return h(t,i)}else if(n)return function(e,t){return!!v(e,t)}(n,i);return!1},set:function(i,r){s&&i&&("object"===typeof i||"function"===typeof i)?(e||(e=new s),d(e,i,r)):c?(t||(t=new c),p(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=v(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i}},"542a":function(e,t,n){"use strict";var i=n("3a23"),r=n.n(i);r.a},"545e":function(e,t,n){"use strict";var i=n("00ce"),r=n("3eb1"),a=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"===typeof n&&a(e,".prototype.")>-1?r(n):n}},5604:function(e,t,n){"use strict";n.r(t);var i=n("d231"),r=n("2e96");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("049f");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"eca591a4",null,!1,i["a"],void 0);t["default"]=s.exports},5713:function(e,t,n){"use strict";n.r(t);var i=n("de1d"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"57c1":function(e,t,n){"use strict";n.r(t);var i=n("6407"),r=n("6bfa");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("c95c");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"ed1d90b6",null,!1,i["a"],void 0);t["default"]=s.exports},"57ee":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-684dd422], uni-scroll-view[data-v-684dd422], uni-swiper-item[data-v-684dd422]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-modal[data-v-684dd422]{width:%?650?%;border-radius:6px;overflow:hidden}.u-modal__title[data-v-684dd422]{font-size:16px;font-weight:700;color:#606266;text-align:center;padding-top:25px}.u-modal__content[data-v-684dd422]{padding:12px 25px 25px 25px;display:flex;flex-direction:row;justify-content:center}.u-modal__content__text[data-v-684dd422]{font-size:15px;color:#606266;flex:1}.u-modal__button-group[data-v-684dd422]{display:flex;flex-direction:row}.u-modal__button-group--confirm-button[data-v-684dd422]{flex-direction:column;padding:0 25px 15px 25px}.u-modal__button-group__wrapper[data-v-684dd422]{flex:1;display:flex;flex-direction:row;justify-content:center;align-items:center;height:48px}.u-modal__button-group__wrapper--confirm[data-v-684dd422], .u-modal__button-group__wrapper--only-cancel[data-v-684dd422]{border-bottom-right-radius:6px}.u-modal__button-group__wrapper--cancel[data-v-684dd422], .u-modal__button-group__wrapper--only-confirm[data-v-684dd422]{border-bottom-left-radius:6px}.u-modal__button-group__wrapper--hover[data-v-684dd422]{background-color:#f3f4f6}.u-modal__button-group__wrapper__text[data-v-684dd422]{color:#606266;font-size:16px;text-align:center}',""]),e.exports=t},"59ab":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7"),n("159b");var r=i(n("8e8b")),a=i(n("b592")),o=i(n("5248")),s=n("2430"),c={name:"",components:{MyAvatar:o.default},props:{participant:Object,isVideo:Boolean},data:function(){return{isAudioMuted:!1,isVideoMuted:!1,isSpeaking:!1,connectionQuality:"good",metadata:{},cameraPublication:null,audioPublications:null,videoLoaded:!1,audioEl:null}},computed:{muteStatusIcon:function(){return this.isAudioMuted?a.default:r.default}},beforeMount:function(){uni.$on("onParticipantsChanged",this.onParticipantsChanged),this.setParticipantListener()},mounted:function(){this.onParticipantsChanged()},beforeDestroy:function(){uni.$off("onParticipantsChanged",this.onParticipantsChanged),this.disposeParticipantListener()},methods:{onParticipantsChanged:function(){this.getVideoPublications(),this.getAudioPublications()},getVideoPublications:function(){var e,t,n,i,r,a=this;if(!this.videoLoaded&&(this.cameraPublication||(this.cameraPublication=this.participant.getTrack(s.Track.Source.Camera)),null===(e=null===(t=this.cameraPublication)||void 0===t||null===(n=t.track)||void 0===n?void 0:n.attachedElements.length)||void 0===e||!e)){var o,c,u=null===(i=this.$refs.videoRef)||void 0===i||null===(r=i.$refs)||void 0===r?void 0:r.video;if(u)u.onloadeddata=function(){a.videoLoaded=!0},null===(o=this.cameraPublication)||void 0===o||null===(c=o.track)||void 0===c||c.attach(u),u.play()}},getAudioMuteStatus:function(){var e;this.participant.audioTracks.forEach((function(t){e=t.isMuted})),void 0===e&&(e=!0),this.isAudioMuted!==e&&(this.isAudioMuted=e)},getAudioPublications:function(){var e,t;this.audioEl||this.participant instanceof s.LocalParticipant||(this.audioPublications||(this.getAudioMuteStatus(),this.audioPublications=this.participant.getTrack(s.Track.Source.Microphone)),this.audioEl=null===(e=this.audioPublications)||void 0===e||null===(t=e.track)||void 0===t?void 0:t.attach())},onMuted:function(e){e.kind===s.Track.Kind.Audio?this.isAudioMuted=!0:e.kind===s.Track.Kind.Video&&(this.isVideoMuted=!0,this.videoLoaded=!1)},onUnmuted:function(e){var t=this;if(e.kind===s.Track.Kind.Audio)this.isAudioMuted=!1;else if(e.kind===s.Track.Kind.Video){var n,i;this.isVideoMuted=!1;var r=null===(n=this.$refs.videoRef)||void 0===n||null===(i=n.$refs)||void 0===i?void 0:i.video;r.onloadeddata=function(){t.videoLoaded=!0}}},onMetadataChanged:function(){this.participant.metadata&&(this.metadata=JSON.parse(this.participant.metadata),console.log(this.metadata))},onIsSpeakingChanged:function(){this.isSpeaking=this.participant.isSpeaking},onConnectionQualityUpdate:function(){this.connectionQuality=this.participant.connectionQuality},setParticipantListener:function(){this.participant.on(s.ParticipantEvent.TrackMuted,this.onMuted).on(s.ParticipantEvent.TrackUnmuted,this.onUnmuted).on(s.ParticipantEvent.ParticipantMetadataChanged,this.onMetadataChanged).on(s.ParticipantEvent.IsSpeakingChanged,this.onIsSpeakingChanged).on(s.ParticipantEvent.ConnectionQualityChanged,this.onConnectionQualityUpdate),this.onMetadataChanged(),this.onIsSpeakingChanged()},disposeParticipantListener:function(){this.participant.off(s.ParticipantEvent.TrackMuted,this.onMuted).off(s.ParticipantEvent.TrackUnmuted,this.onUnmuted).off(s.ParticipantEvent.ParticipantMetadataChanged,this.onMetadataChanged).off(s.ParticipantEvent.IsSpeakingChanged,this.onIsSpeakingChanged).off(s.ParticipantEvent.ConnectionQualityChanged,this.onConnectionQualityUpdate)}}};t.default=c},"59c8":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("c7eb")),a=i(n("1da1"));n("ac1f"),n("841c"),n("a630"),n("3ca3"),n("d3b7"),n("ddb0"),n("14d9"),n("99af"),n("159b"),n("4de4"),n("7db0");var o=i(n("5248")),s=i(n("ca1f")),c=i(n("4eb4")),u=i(n("cedb")),d=i(n("c1ef")),l=i(n("ff17")),f=i(n("4328")),p=n("2430"),h=(p.connect,p.Room),v=p.RoomEvent,m=p.ParticipantEvent,g=(p.RemoteParticipant,p.RemoteTrackPublication,p.RemoteTrack,p.Participant,p.VideoPresets),b=p.Track,y=p.ConnectionState,k={components:{MyAvatar:o.default,SingleVoiceInvition:s.default,GroupOrVideoInvition:c.default,InvitedMemberRow:u.default,GroupOnCall:d.default,RoomActionBar:l.default},data:function(){return{callState:{isGroup:!1,isVideo:!1,isCalling:!0,isCalled:!1},roomState:{participants:[],audioTracks:[],connectionState:y.Disconnected,isConnecting:!1,usedCameraID:""},localPartState:{isLocalAudioMuted:!1,isLocalVideoMuted:!1},roomConfig:{liveURL:"wss://web.rentsoft.cn/open_rtc",liveToken:""},room:null,remoteAudioEl:null,singleRemoteVideoLoaded:!1,singleRemoteVideoMuted:!1,singleLocalVideoLoaded:!1,particiPantInfo:{},memberList:[],totalMember:0,pageHeight:"100vh",showConfirm:!1,confirmContent:"是否结束当前通话？",opCameraFlag:!1}},onLoad:function(){window.acceptCallback=this.acceptCallback,window.backConfirm=this.backConfirm,window.tryDisconnectAgin=this.tryDisconnectAgin,this.initRoom();var e=f.default.parse(window.location.search.substring(1)),t=e.isCalled,n=e.isGroup,i=e.isVideo,r=e.participantInfo,a=e.invitedMemberInfo,o=e.connectData,s=e.totalMember,c=e.statusBarHeight;if(this.callState.isCalled=JSON.parse(t),this.callState.isGroup=JSON.parse(n),this.callState.isVideo=JSON.parse(i),this.particiPantInfo=JSON.parse(null!==r&&void 0!==r?r:"{}"),this.memberList=JSON.parse(null!==a&&void 0!==a?a:"[]"),this.totalMember=JSON.parse(s),this.pageHeight="calc(100vh - ".concat(c,"px)"),o){this.roomState.isConnecting=!0,this.isCalling=!1;var u=JSON.parse(o);this.roomConfig.liveURL=u.liveURL,this.roomConfig.liveToken=u.token,this.connectRoom()}},onUnload:function(){this.tryDisconnectAgin()},methods:{initRoom:function(){this.room=new h({adaptiveStream:!0,dynacast:!0,publishDefaults:{simulcast:!0,videoSimulcastLayers:[g.h90,g.h216],videoCodec:"vp8"},videoCaptureDefaults:{resolution:g.h720.resolution}})},tryDisconnectAgin:function(){try{this.room.disconnect()}catch(e){}},renderRemoteAudio:function(){if(!this.remoteAudioEl&&!this.callState.isGroup){var e,t,n,i=Array.from(this.room.participants.values())[0];if(i)this.remoteAudioEl=null===(e=i.getTrack(b.Source.Microphone))||void 0===e||null===(t=e.track)||void 0===t?void 0:t.attach(),null===(n=this.remoteAudioEl)||void 0===n||n.play()}},renderSingleVideo:function(){var e=this;if(!this.callState.isGroup&&this.callState.isVideo){var t=Array.from(this.room.participants.values())[0],n=this.checkTrack(t);if(n){var i,r,a=null===(i=this.$refs.singleRemoteRef)||void 0===i||null===(r=i.$refs)||void 0===r?void 0:r.video;a&&(a.onloadeddata=function(){e.singleRemoteVideoLoaded=!0},n.attach(a),a.play(),this.checkSingleRemoteVideoStatus(t))}var o=this.checkTrack(this.room.localParticipant);if(o){var s,c,u=null===(s=this.$refs.singleSelfRef)||void 0===s||null===(c=s.$refs)||void 0===c?void 0:c.video;u&&(u.onloadeddata=function(){e.singleLocalVideoLoaded=!0},o.attach(u),u.play())}}},checkSingleRemoteVideoStatus:function(e){var t=this;if(!this.singleRemoteVideoLoaded){e.on(m.TrackMuted,(function(e){e.kind===b.Kind.Video&&(t.singleRemoteVideoLoaded=!1)})).on(m.TrackUnmuted,(function(e){if(e.kind===b.Kind.Video){var n,i,r=null===(n=t.$refs.singleRemoteRef)||void 0===n||null===(i=n.$refs)||void 0===i?void 0:i.video;r.onloadeddata=function(){t.singleRemoteVideoLoaded=!0}}}))}},checkTrack:function(e){var t,n;if(!e)return null;var i=null===(t=e.getTrack(b.Source.Camera))||void 0===t?void 0:t.track;return null!==(n=null===i||void 0===i?void 0:i.attachedElements.length)&&void 0!==n&&n?null:i},confirmLeave:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.callState.isCalling){t.next=9;break}return e.singleLocalVideoLoaded=!1,e.singleRemoteVideoLoaded=!1,t.next=5,e.room.disconnect();case 5:e.roomState.participants=[],e.poseMessageToApp("disconnect",e.$refs.actionBar.durationStr),t.next=10;break;case 9:e.poseMessageToApp(e.callState.isCalled?"refuse":"cancel");case 10:case"end":return t.stop()}}),t)})))()},connectRoom:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){var n,i,o,s,c,u,d,l;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=function(){if(e.room){var t=Array.from(e.room.participants.values()),n=[e.room.localParticipant];n.push.apply(n,t),e.roomState.participants=[].concat(n),uni.$emit("onParticipantsChanged"),e.renderRemoteAudio(),e.renderSingleVideo()}},i=function(t){if(n(),(!t||t.kind===b.Kind.Audio)&&e.room){var i=[];e.room.participants.forEach((function(e){e.audioTracks.forEach((function(e){e.audioTrack&&i.push(e.audioTrack)}))})),e.roomState.audioTracks=[].concat(i)}},o=function(t){e.roomState.connectionState=t},s=function(){var t=(0,a.default)((0,r.default)().mark((function t(i){var a;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("disconnectHandler"),a=Array.from(e.room.participants.values()).filter((function(e){return e.sid!==i.sid})),0!==a.length){t.next=12;break}if(!e.callState.isGroup){t.next=7;break}e.showConfirm=!0,t.next=12;break;case 7:return e.singleLocalVideoLoaded=!1,e.singleRemoteVideoLoaded=!1,t.next=11,e.room.disconnect();case 11:e.poseMessageToApp("disconnect",e.$refs.actionBar.durationStr);case 12:n();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.room.once(v.Disconnected,(function(){e.room.off(v.ParticipantConnected,n).off(v.ParticipantDisconnected,s).off(v.ActiveSpeakersChanged,n).off(v.TrackSubscribed,i).off(v.TrackUnsubscribed,i).off(v.LocalTrackPublished,n).off(v.LocalTrackUnpublished,n).off(v.AudioPlaybackStatusChanged,n).off(v.ConnectionStateChanged,o)})),e.room.on(v.ParticipantConnected,n).on(v.ParticipantDisconnected,s).on(v.ActiveSpeakersChanged,n).on(v.TrackSubscribed,i).on(v.TrackUnsubscribed,i).on(v.LocalTrackPublished,n).on(v.LocalTrackUnpublished,n).on(v.AudioPlaybackStatusChanged,n).on(v.ConnectionStateChanged,o),t.next=9,e.room.connect(e.roomConfig.liveURL,e.roomConfig.liveToken);case 9:if(!e.callState.isVideo){t.next=15;break}return t.next=12,e.room.localParticipant.enableCameraAndMicrophone();case 12:e.roomState.usedCameraID=null===(c=e.room.localParticipant.getTrack(b.Source.Camera))||void 0===c||null===(u=c.track.mediaStreamTrack)||void 0===u?void 0:u.getSettings().deviceId,t.next=17;break;case 15:return t.next=17,e.room.localParticipant.setMicrophoneEnabled(!0);case 17:i(),d=function(t){t.kind===b.Kind.Audio?e.localPartState.isLocalAudioMuted=!0:t.kind===b.Kind.Video&&(e.localPartState.isLocalVideoMuted=!0)},l=function(t){t.kind===b.Kind.Audio?e.localPartState.isLocalAudioMuted=!1:t.kind===b.Kind.Video&&(e.localPartState.isLocalVideoMuted=!1)},e.room.localParticipant.on(m.TrackMuted,d).on(m.TrackUnmuted,l),e.roomState.isConnecting=!1,e.callState.isCalling=!1,t.next=30;break;case 25:t.prev=25,t.t0=t["catch"](0);try{console.log(JSON.parse(t.t0))}catch(f){console.log(t.t0)}e.$u.toast("连接失败！"),e.poseMessageToApp("connectFailed");case 30:case"end":return t.stop()}}),t,null,[[0,25]])})))()},opMic:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.room.localParticipant.setMicrophoneEnabled(e.localPartState.isLocalAudioMuted);case 2:case"end":return t.stop()}}),t)})))()},cancelAction:function(e){var t=this;return(0,a.default)((0,r.default)().mark((function n(){return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.callState.isCalling){n.next=4;break}t.poseMessageToApp(t.callState.isCalled?"refuse":"cancel"),n.next=10;break;case 4:return t.singleLocalVideoLoaded=!1,t.singleRemoteVideoLoaded=!1,t.roomState.participants=[],n.next=9,t.room.disconnect();case 9:t.poseMessageToApp("hung",e);case 10:case"end":return n.stop()}}),n)})))()},accept:function(){this.roomState.isConnecting=!0,this.poseMessageToApp("accept")},inviteMember:function(){this.poseMessageToApp("invite")},opVol:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){var n,i,a,o,s,c;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.room.getActiveAudioOutputDevice(),t.next=3,h.getLocalDevices("audiooutput");case 3:return s=t.sent,c=Array.from(e.room.participants.values())[0],null===(n=Array.from(c.audioTracks.values())[0])||void 0===n||null===(i=n.track)||void 0===i||null===(a=i.mediaStreamTrack)||void 0===a||null===(o=a.enableSpeakerphone)||void 0===o||o.call(a,!1),t.next=8,e.room.switchActiveDevice("audiooutput",s[0].deviceId);case 8:case"end":return t.stop()}}),t)})))()},switchCamera:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){var n,i,a,o,s;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.opCameraFlag){t.next=2;break}return t.abrupt("return");case 2:return e.opCameraFlag=!0,t.next=5,h.getLocalDevices("videoinput");case 5:if(a=t.sent,console.log(a),o=a.find((function(t){return t.deviceId!==e.roomState.usedCameraID})),o){t.next=11;break}return e.opCameraFlag=!1,t.abrupt("return");case 11:return e.singleLocalVideoLoaded=!1,t.next=14,e.room.switchActiveDevice("videoinput",o.deviceId);case 14:e.roomState.usedCameraID=o.deviceId,s=null===(n=e.$refs.singleSelfRef)||void 0===n||null===(i=n.$refs)||void 0===i?void 0:i.video,s&&(s.onloadeddata=function(){e.singleLocalVideoLoaded=!0}),e.opCameraFlag=!1;case 18:case"end":return t.stop()}}),t)})))()},opCamera:function(){var e=this;return(0,a.default)((0,r.default)().mark((function t(){return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.opCameraFlag){t.next=2;break}return t.abrupt("return");case 2:return e.opCameraFlag=!0,t.next=5,e.room.localParticipant.setCameraEnabled(e.localPartState.isLocalVideoMuted);case 5:e.opCameraFlag=!1;case 6:case"end":return t.stop()}}),t)})))()},acceptCallback:function(e){var t=e.liveURL,n=e.token;this.roomState.isConnecting=!0,this.roomConfig.liveURL=t,this.roomConfig.liveToken=n,this.connectRoom()},backConfirm:function(){this.callState.isCalling&&(this.confirmContent=this.callState.isCalled?"确定要拒绝邀请并退出页面吗？":"确定要取消邀请并退出页面吗？"),this.showConfirm=!0},poseMessageToApp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h5uni.postMessage({data:{type:e,duration:t}})}}};t.default=k},"5c3c":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.popup.show},overlay:{type:Boolean,default:uni.$u.props.popup.overlay},mode:{type:String,default:uni.$u.props.popup.mode},duration:{type:[String,Number],default:uni.$u.props.popup.duration},closeable:{type:Boolean,default:uni.$u.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$u.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$u.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$u.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$u.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$u.props.popup.round},zoom:{type:Boolean,default:uni.$u.props.popup.zoom},bgColor:{type:String,default:uni.$u.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$u.props.popup.overlayOpacity}}};t.default=i},"5c4a":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("fb6a");var r=i(n("e3c7")),a=i(n("19b9")),o={name:"MyAvatar",props:{src:String,shape:{type:String,default:"square"},size:{type:String,default:"40"},isGroup:{type:Boolean,default:!1},desc:String},data:function(){return{avatarText:void 0}},computed:{getAvatarUrl:function(){var e;return this.src?null!==(e=r.default[this.src])&&void 0!==e?e:this.src:this.isGroup?a.default:(this.avatarText=this.desc?this.desc.slice(this.desc.length>1?-2:-1):"未知","")},getDdefaultUrl:function(){return this.isGroup?a.default:void 0}},methods:{errorHandle:function(){this.avatarText=this.desc?this.desc.slice(this.desc.length>1?-2:-1):"未知"},redirectShow:function(){this.avatarText&&(this.avatarText=void 0)}},watch:{src:function(){this.redirectShow()},desc:function(){this.redirectShow()}}};t.default=o},"5d34":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=(0,i.default)(e),null===e)break;return e};var i=function(e){return e&&e.__esModule?e:{default:e}}(n("7e84"))},"5e95":function(e,t,n){"use strict";n.r(t);var i=n("e8ae"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"5ef1":function(e,t,n){"use strict";n.r(t);var i=n("7243"),r=n("137d");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("62c4");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"26861ad0",null,!1,i["a"],void 0);t["default"]=s.exports},6005:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(Array.isArray(e))return(0,i.default)(e)};var i=function(e){return e&&e.__esModule?e:{default:e}}(n("6b75"))},6108:function(e,t,n){var i=n("2fd9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("5664cd46",i,!0,{sourceMap:!1,shadowMode:!1})},6200:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"video_invition_desc"},[n("my-avatar",{staticClass:"my-avatar",attrs:{size:"78",desc:e.showName,src:e.showFaceUrl}}),n("v-uni-view",{staticClass:"right_info"},[n("v-uni-view",{staticClass:"title"},[e._v(e._s(e.showName))]),n("v-uni-view",{staticClass:"sub_title"},[e._v(e._s(e.showInviteDesc))])],1)],1)},r=[]},"62c4":function(e,t,n){"use strict";var i=n("fe03"),r=n.n(i);r.a},"62fe":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uAvatar:n("3b99").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"invited_member_row"},[e._l(e.memberList,(function(t){return n("v-uni-view",{key:t.userID,staticClass:"member_item"},[n("my-avatar",{attrs:{size:"42",desc:t.nickname,src:t.faceURL}}),n("v-uni-view",{staticClass:"member_name"},[e._v(e._s(t.nickname))])],1)})),e.totalMember>4?n("v-uni-view",{staticClass:"member_item"},[n("u-avatar",{attrs:{bgColor:"#5496EB",icon:"more-dot-fill",shape:"square",size:"42"}}),n("v-uni-view",{staticClass:"member_name"},[e._v("更多")])],1):e._e()],2)},a=[]},6407:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uIcon:n("8709").default,uLink:n("91c1").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("v-uni-view",{staticClass:"u-text",class:[],style:{margin:e.margin,justifyContent:"left"===e.align?"flex-start":"center"===e.align?"center":"flex-end"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},["price"===e.mode?n("v-uni-text",{class:["u-text__price",e.type&&"u-text__value--"+e.type],style:[e.valueStyle]},[e._v("￥")]):e._e(),e.prefixIcon?n("v-uni-view",{staticClass:"u-text__prefix-icon"},[n("u-icon",{attrs:{name:e.prefixIcon,customStyle:e.$u.addStyle(e.iconStyle)}})],1):e._e(),"link"===e.mode?n("u-link",{attrs:{text:e.value,href:e.href,underLine:!0}}):e.openType&&e.isMp?[n("v-uni-button",{staticClass:"u-reset-button u-text__value",style:[e.valueStyle],attrs:{"data-index":e.index,openType:e.openType,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter},on:{getuserinfo:function(t){arguments[0]=t=e.$handleEvent(t),e.onGetUserInfo.apply(void 0,arguments)},contact:function(t){arguments[0]=t=e.$handleEvent(t),e.onContact.apply(void 0,arguments)},getphonenumber:function(t){arguments[0]=t=e.$handleEvent(t),e.onGetPhoneNumber.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.onError.apply(void 0,arguments)},launchapp:function(t){arguments[0]=t=e.$handleEvent(t),e.onLaunchApp.apply(void 0,arguments)},opensetting:function(t){arguments[0]=t=e.$handleEvent(t),e.onOpenSetting.apply(void 0,arguments)}}},[e._v(e._s(e.value))])]:n("v-uni-text",{staticClass:"u-text__value",class:[e.type&&"u-text__value--"+e.type,e.lines&&"u-line-"+e.lines],style:[e.valueStyle]},[e._v(e._s(e.value))]),e.suffixIcon?n("v-uni-view",{staticClass:"u-text__suffix-icon"},[n("u-icon",{attrs:{name:e.suffixIcon,customStyle:e.$u.addStyle(e.iconStyle)}})],1):e._e()],2):e._e()},a=[]},6469:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.inited?n("v-uni-view",{ref:"u-transition",staticClass:"u-transition",class:e.classes,style:[e.mergeStyle],on:{touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.noop.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("default")],2):e._e()},r=[]},6565:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-ed1d90b6], uni-scroll-view[data-v-ed1d90b6], uni-swiper-item[data-v-ed1d90b6]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-text[data-v-ed1d90b6]{display:flex;flex-direction:row;align-items:center;flex-wrap:nowrap;flex:1;width:100%}.u-text__price[data-v-ed1d90b6]{font-size:14px;color:#606266}.u-text__value[data-v-ed1d90b6]{font-size:14px;display:flex;flex-direction:row;color:#606266;flex-wrap:wrap;text-overflow:ellipsis;align-items:center}.u-text__value--primary[data-v-ed1d90b6]{color:#3c9cff}.u-text__value--warning[data-v-ed1d90b6]{color:#f9ae3d}.u-text__value--success[data-v-ed1d90b6]{color:#5ac725}.u-text__value--info[data-v-ed1d90b6]{color:#909399}.u-text__value--error[data-v-ed1d90b6]{color:#f56c6c}.u-text__value--main[data-v-ed1d90b6]{color:#303133}.u-text__value--content[data-v-ed1d90b6]{color:#606266}.u-text__value--tips[data-v-ed1d90b6]{color:#909193}.u-text__value--light[data-v-ed1d90b6]{color:#c0c4cc}',""]),e.exports=t},"66ef":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-line",style:[this.lineStyle]})},r=[]},"676b":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-safe-bottom[data-v-eca591a4]{width:100%}',""]),e.exports=t},"688e":function(e,t,n){"use strict";var i="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,a=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!==typeof t||"[object Function]"!==a.call(t))throw new TypeError(i+t);for(var n,o=r.call(arguments,1),s=function(){if(this instanceof n){var i=t.apply(this,o.concat(r.call(arguments)));return Object(i)===i?i:this}return t.apply(e,o.concat(r.call(arguments)))},c=Math.max(0,t.length-o.length),u=[],d=0;d<c;d++)u.push("$"+d);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},"692f":function(e,t,n){"use strict";var i=n("43ec"),r=n.n(i);r.a},"69c0":function(e,t,n){"use strict";n.r(t);var i=n("59ab"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"6a1f":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.rtc_container[data-v-244244fc]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;position:relative;z-index:0}.rtc_container .desc_container[data-v-244244fc]{width:100%}.rtc_container .single_video_wrap[data-v-244244fc]{position:absolute;width:100%;height:100%;z-index:-1}.rtc_container .single_video_wrap .single_other[data-v-244244fc]{position:absolute;top:0;left:0;right:0;z-index:-1;width:100%;height:100%}.rtc_container .single_video_wrap .single_self[data-v-244244fc]{position:absolute;top:%?28?%;right:%?28?%;z-index:0;width:%?240?%;height:%?400?%}.rtc_container .single_video_wrap .loading_wrap[data-v-244244fc]{height:100%;background-color:#262626}.rtc_container[data-v-244244fc] .uni-video-cover{display:none}',""]),e.exports=t},"6bf7":function(e,t,n){"use strict";var i=n("3977"),r=n.n(i);r.a},"6bfa":function(e,t,n){"use strict";n.r(t);var i=n("b751"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"6cd2":function(e,t,n){var i=n("4349");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("39b3d95a",i,!0,{sourceMap:!1,shadowMode:!1})},"6f15":function(e,t,n){e.exports=n.p+"static/img/vol_off.5961a194.png"},"70f2":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("ac1f"),n("00b4");var i={props:{src:{type:String,default:uni.$u.props.avatar.src},shape:{type:String,default:uni.$u.props.avatar.shape},size:{type:[String,Number],default:uni.$u.props.avatar.size},mode:{type:String,default:uni.$u.props.avatar.mode},text:{type:String,default:uni.$u.props.avatar.text},bgColor:{type:String,default:uni.$u.props.avatar.bgColor},color:{type:String,default:uni.$u.props.avatar.color},fontSize:{type:[String,Number],default:uni.$u.props.avatar.fontSize},icon:{type:String,default:uni.$u.props.avatar.icon},mpAvatar:{type:Boolean,default:uni.$u.props.avatar.mpAvatar},randomBgColor:{type:Boolean,default:uni.$u.props.avatar.randomBgColor},defaultUrl:{type:String,default:uni.$u.props.avatar.defaultUrl},colorIndex:{type:[String,Number],validator:function(e){return uni.$u.test.range(e,[0,19])||""===e},default:uni.$u.props.avatar.colorIndex},name:{type:String,default:uni.$u.props.avatar.name}}};t.default=i},"720d":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-26861ad0], uni-scroll-view[data-v-26861ad0], uni-swiper-item[data-v-26861ad0]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-loading-icon[data-v-26861ad0]{flex-direction:row;align-items:center;justify-content:center;color:#c8c9cc}.u-loading-icon__text[data-v-26861ad0]{margin-left:4px;color:#606266;font-size:14px;line-height:20px}.u-loading-icon__spinner[data-v-26861ad0]{width:30px;height:30px;position:relative;box-sizing:border-box;max-width:100%;max-height:100%;-webkit-animation:u-rotate-data-v-26861ad0 1s linear infinite;animation:u-rotate-data-v-26861ad0 1s linear infinite}.u-loading-icon__spinner--semicircle[data-v-26861ad0]{border-width:2px;border-color:transparent;border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-style:solid}.u-loading-icon__spinner--circle[data-v-26861ad0]{border-top-right-radius:100px;border-top-left-radius:100px;border-bottom-left-radius:100px;border-bottom-right-radius:100px;border-width:2px;border-top-color:#e5e5e5;border-right-color:#e5e5e5;border-bottom-color:#e5e5e5;border-left-color:#e5e5e5;border-style:solid}.u-loading-icon--vertical[data-v-26861ad0]{flex-direction:column}[data-v-26861ad0]:host{font-size:0;line-height:1}.u-loading-icon__spinner--spinner[data-v-26861ad0]{-webkit-animation-timing-function:steps(12);animation-timing-function:steps(12)}.u-loading-icon__text[data-v-26861ad0]:empty{display:none}.u-loading-icon--vertical .u-loading-icon__text[data-v-26861ad0]{margin:6px 0 0;color:#606266}.u-loading-icon__dot[data-v-26861ad0]{position:absolute;top:0;left:0;width:100%;height:100%}.u-loading-icon__dot[data-v-26861ad0]:before{display:block;width:2px;height:25%;margin:0 auto;background-color:currentColor;border-radius:40%;content:" "}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(1){-webkit-transform:rotate(30deg);transform:rotate(30deg);opacity:1}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(2){-webkit-transform:rotate(60deg);transform:rotate(60deg);opacity:.9375}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(3){-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:.875}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(4){-webkit-transform:rotate(120deg);transform:rotate(120deg);opacity:.8125}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(5){-webkit-transform:rotate(150deg);transform:rotate(150deg);opacity:.75}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(6){-webkit-transform:rotate(180deg);transform:rotate(180deg);opacity:.6875}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(7){-webkit-transform:rotate(210deg);transform:rotate(210deg);opacity:.625}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(8){-webkit-transform:rotate(240deg);transform:rotate(240deg);opacity:.5625}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(9){-webkit-transform:rotate(270deg);transform:rotate(270deg);opacity:.5}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(10){-webkit-transform:rotate(300deg);transform:rotate(300deg);opacity:.4375}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(11){-webkit-transform:rotate(330deg);transform:rotate(330deg);opacity:.375}.u-loading-icon__dot[data-v-26861ad0]:nth-of-type(12){-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:.3125}@-webkit-keyframes u-rotate-data-v-26861ad0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-rotate-data-v-26861ad0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),e.exports=t},7243:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("v-uni-view",{staticClass:"u-loading-icon",class:[e.vertical&&"u-loading-icon--vertical"],style:[e.$u.addStyle(e.customStyle)]},[e.webviewHide?e._e():n("v-uni-view",{ref:"ani",staticClass:"u-loading-icon__spinner",class:["u-loading-icon__spinner--"+e.mode],style:{color:e.color,width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size),borderTopColor:e.color,borderBottomColor:e.otherBorderColor,borderLeftColor:e.otherBorderColor,borderRightColor:e.otherBorderColor,"animation-duration":e.duration+"ms","animation-timing-function":"semicircle"===e.mode||"circle"===e.mode?e.timingFunction:""}},["spinner"===e.mode?e._l(e.array12,(function(e,t){return n("v-uni-view",{key:t,staticClass:"u-loading-icon__dot"})})):e._e()],2),e.text?n("v-uni-text",{staticClass:"u-loading-icon__text",style:{fontSize:e.$u.addUnit(e.textSize),color:e.textColor}},[e._v(e._s(e.text))]):e._e()],1):e._e()},r=[]},"73fc":function(e,t,n){"use strict";n.r(t);var i=n("0200"),r=n("2843");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);t["default"]=s.exports},"747a":function(e,t,n){var i=n("d9d4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("b19bb85e",i,!0,{sourceMap:!1,shadowMode:!1})},7821:function(e,t,n){e.exports=n.p+"static/img/ic_avatar_03.047b2485.png"},"78e8":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};t.default=i},"7ada":function(e,t,n){"use strict";var i=n("220e"),r=n.n(i);r.a},"7d4f":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uLoadingIcon:n("5ef1").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"action_bar_wrap"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.isConnecting,expression:"!isConnecting"}],staticClass:"action_bar"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.callState.isCalling,expression:"!callState.isCalling"}],staticClass:"action_item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.opMic.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:e.micIcon}}),i("v-uni-text",[e._v("麦克风已"+e._s(e.localPartState.isLocalAudioMuted?"关":"开"))])],1),i("v-uni-view",{staticClass:"action_item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelAction.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:n("e8d2")}}),i("v-uni-text",[e._v(e._s(e.getCancelText))])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.callState.isCalling&&e.callState.isCalled,expression:"callState.isCalling && callState.isCalled"}],staticClass:"action_item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.accept.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:n("0849")}}),i("v-uni-text",[e._v("接听")])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.callState.isVideo&&!e.callState.isCalling&&!e.callState.isGroup,expression:"callState.isVideo && !callState.isCalling && !callState.isGroup"}],staticClass:"action_item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.opCamera.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:n("419d")}}),i("v-uni-text",[e._v("切换摄像头")])],1),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!e.callState.isCalling,expression:"!callState.isCalling"}],staticClass:"duration"},[e._v(e._s(e.durationStr))])],1),e.isConnecting?i("u-loading-icon",{attrs:{text:"连接中..."}}):e._e()],1)},a=[]},"7e84":function(e,t,n){"use strict";function i(e){return t.default=i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("131a"),n("3410")},"7f0b":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("25eb"),n("a9e3"),n("ac1f"),n("5319");var r=i(n("2948")),a=i(n("2b14")),o=(i(n("6f15")),i(n("fda4")),{name:"",props:{callState:Object,localPartState:Object,isConnecting:Boolean},data:function(){return{duration:0,timer:null}},computed:{getCancelText:function(){return this.callState.isCalling?this.callState.isCalled?"拒绝":"取消":"挂断"},micIcon:function(){return this.localPartState.isLocalAudioMuted?r.default:a.default},durationStr:function(){return this.sec2Format(this.duration)}},watch:{isConnecting:function(e){e||this.startCounter()}},beforeDestroy:function(){this.disposeCounter()},methods:{opMic:function(){this.$emit("opMic")},cancelAction:function(){this.$emit("cancelAction",this.durationStr)},accept:function(){this.$emit("accept")},opVol:function(){this.$emit("opVol")},opCamera:function(){this.$emit("opCamera")},startCounter:function(){var e=this;this.timer=setInterval((function(){e.duration+=1}),1e3)},disposeCounter:function(){this.timer&&(clearInterval(this.timer),this.duration=0)},sec2Format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"H:i:s",n={};return n.H=Number.parseInt(e/3600),n.i=Number.parseInt((e-3600*n.H)/60),n.s=Number.parseInt(e-3600*n.H-60*n.i),n.H<10&&(n.H="0"+n.H),n.i<10&&(n.i="0"+n.i),n.s<10&&(n.s="0"+n.s),t.replace("H",n.H).replace("i",n.i).replace("s",n.s)}}});t.default=o},"810e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAA8CAYAAADSfGxZAAAAAXNSR0IArs4c6QAAA8dJREFUaEPt20GoFVUcx/HvT0uUqBaKQu5cFIUYtBFcFRgUQSKJZkS0UASJiCyCAjUqDK3E5ypdPnkY5EKem2hRi8plbgrfRpCeC0GIcpFk+o//41y5jnPvnDNv5s6dO57NXdxzz5n5zH/O/c/53yvutwUBZR3MbJWka13zuQvCzJ4HzgC7JX3TJYw7EAHhLLAC+A94vUsYCxB+OwCXgIf7oqBTGP0RsQM4BTzQRYzsGtFZjLxvjU5i3AMR1ozOYeRCdBFjIETXMIZCdAmjEKIrGFEQsRhm9mhI0R9vID2/AfwE7Jc0nzp/NEQCxmPAD0ATGH6Yl4ENkv5OwYiGMLOPgCPA1qIM1MyaxvhE0v66IDz0vgdeScA4DixPOaCSfVcCG/s++52kF1LGSokICwOfi8VIOZDF9jWzC8DTYZwfJT2XMmYZCB//A0mHzWxsMlAz83Xp2RgIM3sKeAKYk/R77g7VIEUz60WEdzko6ePYBTTlypTtWwRhZkuAl4H3gU1985wG3iwbEXcgxgVjEISZ+Rr1BvBuiII8688qgRgHjCxEWMf2Am8Bawoibb4yiKYxMhD+DXcLeCgHwG9xX1jXAw+G961SiCYxMhB5AfAvMAN8Iek3MzsKvNPrWDlEUxhDIP4CvgamJF3pnbiZHfBFv1aIJjByIPx54xhwIi/dHhnEqDEyEL4jv17SP0PSgdFERF8IjiTpKsojsiAjjYhRYrQCYhS3SWsg6sZoFUSdGK2DqAujlRB1YLQWomqMVkNUiZGB+FXSM8OeOBvJI4o2W6rY6cpJsWeBzyX9kjf/WEJUERlDHrp+Drvvs5Juj/yhqygKBlyl0ul4xGP4HPAlMC3phpl9CniJYqHV8hheBmGx6XgERG+Kq8C3wLb+nauxgyh7m2Qgzoer/R7wYsQF/3MsIcpgDNm89S25fcBrwLIB0To9thCpGEV5hJmtBd4G9gBerO61i14PGWuIFAwz8wrcS+HsBla6zOwRYHvY2neEGd/AKQtxSNKHi1kUUz4bk2dkCs+1lvx8e9yrRd585fUN0ZspJ1Syr2/NTyUUnr3094ekzSnzpUSE1wifTBm8wr7RhecQGa9K+ipl/hSInaEukDJ+lX2jMcpMGg0RFq5dwCHAf7vdRKsNIwkiYCwFVgP+2kS7FlLk0ul43kEnQzRx5oPmjPk2iT3eVkOk5BlFIK2HqApjIiCqwJgYiMViTBTEEIzrwLph/16cOIgcDK+Ib5HkvxEd2CYSog/jpP+WqgjB+08sRMCI/jPvREMU5Q797/8PHf0RJHv14OsAAAAASUVORK5CYII="},8153:function(e,t,n){var i=n("676b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("a65956ea",i,!0,{sourceMap:!1,shadowMode:!1})},"820e":function(e,t,n){"use strict";var i=n("23e7"),r=n("c65b"),a=n("59ed"),o=n("f069"),s=n("e667"),c=n("2266");i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),i=n.resolve,u=n.reject,d=s((function(){var n=a(t.resolve),o=[],s=0,u=1;c(e,(function(e){var a=s++,c=!1;u++,r(n,t,e).then((function(e){c||(c=!0,o[a]={status:"fulfilled",value:e},--u||i(o))}),(function(e){c||(c=!0,o[a]={status:"rejected",reason:e},--u||i(o))}))})),--u||i(o)}));return d.error&&u(d.value),n.promise}})},8709:function(e,t,n){"use strict";n.r(t);var i=n("b692"),r=n("ddc2");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("6bf7");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"59765974",null,!1,i["a"],void 0);t["default"]=s.exports},8783:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("99af");var r=i(n("5248")),a={components:{MyAvatar:r.default},props:{particiPantInfo:Object,callState:Object,totalMember:Number},data:function(){return{}},computed:{showName:function(){var e;return(null===(e=this.particiPantInfo.groupMemberInfo)||void 0===e?void 0:e.nickname)||this.particiPantInfo.userInfo.nickname},showFaceUrl:function(){var e;return(null===(e=this.particiPantInfo.groupMemberInfo)||void 0===e?void 0:e.faceURL)||this.particiPantInfo.userInfo.faceURL},showInviteDesc:function(){return this.callState.isCalled?this.callState.isGroup?"".concat(this.totalMember,"人正在").concat(this.callState.isVideo?"视频":"语音","通话"):"邀请你进行视频通话":this.callState.isGroup?"连接中":"等待对方接听"}},methods:{}};t.default=a},8949:function(e,t,n){"use strict";n.r(t);var i=n("f15b"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},8984:function(e,t,n){"use strict";var i=n("b80f"),r=n.n(i);r.a},"8a79":function(e,t,n){"use strict";var i=n("23e7"),r=n("4625"),a=n("06cf").f,o=n("50c4"),s=n("577e"),c=n("5a34"),u=n("1d80"),d=n("ab13"),l=n("c430"),f=r("".endsWith),p=r("".slice),h=Math.min,v=d("endsWith"),m=!l&&!v&&!!function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!m&&!v},{endsWith:function(e){var t=s(u(this));c(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,r=void 0===n?i:h(o(n),i),a=s(e);return f?f(t,a,r):p(t,r-a.length,r)===a}})},"8ba4":function(e,t,n){var i=n("23e7"),r=n("eac5");i({target:"Number",stat:!0},{isInteger:r})},"8c61":function(e,t,n){var i=n("32ea");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("216dcba9",i,!0,{sourceMap:!1,shadowMode:!1})},"8e8b":function(e,t){e.exports="data:image/png;base64,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"},9072:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var i=s(n("7e84")),r=s(n("b380")),a=s(n("fa95")),o=s(n("4478"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){var n="function"===typeof Map?new Map:void 0;return t.default=c=function(e){if(null===e||!(0,a.default)(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return(0,o.default)(e,arguments,(0,i.default)(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),(0,r.default)(t,e)},c(e)}},"90e1":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{color:{type:String,default:uni.$u.props.link.color},fontSize:{type:[String,Number],default:uni.$u.props.link.fontSize},underLine:{type:Boolean,default:uni.$u.props.link.underLine},href:{type:String,default:uni.$u.props.link.href},mpTips:{type:String,default:uni.$u.props.link.mpTips},lineColor:{type:String,default:uni.$u.props.link.lineColor},text:{type:String,default:uni.$u.props.link.text}}};t.default=i},"91c1":function(e,t,n){"use strict";n.r(t);var i=n("a9b8"),r=n("8949");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("bbaf");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"2b5fb029",null,!1,i["a"],void 0);t["default"]=s.exports},9233:function(e,t,n){"use strict";var i=n("3b4c"),r=n.n(i);r.a},9418:function(e,t,n){"use strict";n.r(t);var i=n("8783"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},9663:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a630"),n("3ca3");var r=i(n("d544")),a={name:"u-loading-icon",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}},computed:{otherBorderColor:function(){var e=uni.$u.colorGradient(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:e:"transparent"}},watch:{show:function(e){}},mounted:function(){this.init()},methods:{init:function(){setTimeout((function(){}),20)},addEventListenerToWebview:function(){var e=this,t=getCurrentPages(),n=t[t.length-1],i=n.$getAppWebview();i.addEventListener("hide",(function(){e.webviewHide=!0})),i.addEventListener("show",(function(){e.webviewHide=!1}))}}};t.default=a},9683:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{type:{type:String,default:uni.$u.props.text.type},show:{type:Boolean,default:uni.$u.props.text.show},text:{type:[String,Number],default:uni.$u.props.text.text},prefixIcon:{type:String,default:uni.$u.props.text.prefixIcon},suffixIcon:{type:String,default:uni.$u.props.text.suffixIcon},mode:{type:String,default:uni.$u.props.text.mode},href:{type:String,default:uni.$u.props.text.href},format:{type:[String,Function],default:uni.$u.props.text.format},call:{type:Boolean,default:uni.$u.props.text.call},openType:{type:String,default:uni.$u.props.text.openType},bold:{type:Boolean,default:uni.$u.props.text.bold},block:{type:Boolean,default:uni.$u.props.text.block},lines:{type:[String,Number],default:uni.$u.props.text.lines},color:{type:String,default:uni.$u.props.text.color},size:{type:[String,Number],default:uni.$u.props.text.size},iconStyle:{type:[Object,String],default:uni.$u.props.text.iconStyle},decoration:{tepe:String,default:uni.$u.props.text.decoration},margin:{type:[Object,String,Number],default:uni.$u.props.text.margin},lineHeight:{type:[String,Number],default:uni.$u.props.text.lineHeight},align:{type:String,default:uni.$u.props.text.align},wordWrap:{type:String,default:uni.$u.props.text.wordWrap}}};t.default=i},"974f":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{color:{type:String,default:uni.$u.props.line.color},length:{type:[String,Number],default:uni.$u.props.line.length},direction:{type:String,default:uni.$u.props.line.direction},hairline:{type:Boolean,default:uni.$u.props.line.hairline},margin:{type:[String,Number],default:uni.$u.props.line.margin},dashed:{type:Boolean,default:uni.$u.props.line.dashed}}};t.default=i},"988d":function(e,t,n){"use strict";n.r(t);var i=n("2951"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"99de":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t&&("object"===(0,i.default)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.default)(e)},n("d9e2"),n("d401");var i=a(n("53ca")),r=a(n("257e"));function a(e){return e&&e.__esModule?e:{default:e}}},"9a83":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5c3c")),a={name:"u-popup",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{overlayDuration:this.duration+50}},watch:{show:function(e,t){}},computed:{transitionStyle:function(){var e={zIndex:this.zIndex,position:"fixed",display:"flex"};return e[this.mode]=0,"left"===this.mode||"right"===this.mode?uni.$u.deepMerge(e,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?uni.$u.deepMerge(e,{left:0,right:0}):"center"===this.mode?uni.$u.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle:function(){var e={},t=uni.$u.sys();t.safeAreaInsets;if("center"!==this.mode&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){var n=uni.$u.addUnit(this.round);"top"===this.mode?(e.borderBottomLeftRadius=n,e.borderBottomRightRadius=n):"bottom"===this.mode?(e.borderTopLeftRadius=n,e.borderTopRightRadius=n):"center"===this.mode&&(e.borderRadius=n)}return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},position:function(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},methods:{overlayClick:function(){this.closeOnClickOverlay&&this.$emit("close")},close:function(e){this.$emit("close")},afterEnter:function(){this.$emit("open")},clickHandler:function(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}};t.default=a},"9ae8":function(e,t,n){"use strict";var i=n("1405"),r=n.n(i);r.a},"9b0f":function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("57c1")),a=i(n("9683")),o={name:"u--text",mixins:[uni.$u.mpMixin,a.default,uni.$u.mixin],components:{uvText:r.default}};t.default=o},"9d79":function(e,t,n){"use strict";n.r(t);var i=n("ae6d"),r=n("e433");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("9233");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"30282a05",null,!1,i["a"],void 0);t["default"]=s.exports},"9e6a":function(e,t,n){"use strict";var i=n("d233"),r=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(a),u=s?a.slice(0,s.index):a,d=[];if(u){if(!n.plainObjects&&r.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}var l=0;while(n.depth>0&&null!==(s=o.exec(a))&&l<n.depth){if(l+=1,!n.plainObjects&&r.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+a.slice(s.index)+"]"),function(e,t,n,i){for(var r=i?t:c(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&s!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=r):"__proto__"!==u&&(o[u]=r):o={0:r}}r=o}return r}(d,t,n,i)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var d="string"===typeof e?function(e,t){var n,u={},d=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,f=d.split(t.delimiter,l),p=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?h="utf-8":"utf8=%26%2310003%3B"===f[n]&&(h="iso-8859-1"),p=n,n=f.length);for(n=0;n<f.length;++n)if(n!==p){var v,m,g=f[n],b=g.indexOf("]="),y=-1===b?g.indexOf("="):b+1;-1===y?(v=t.decoder(g,o.decoder,h,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(g.slice(0,y),o.decoder,h,"key"),m=i.maybeMap(c(g.slice(y+1),t),(function(e){return t.decoder(e,o.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=a(m)?[m]:m),r.call(u,v)?u[v]=i.combine(u[v],m):u[v]=m}return u}(e,n):e,l=n.plainObjects?Object.create(null):{},f=Object.keys(d),p=0;p<f.length;++p){var h=f[p],v=u(h,d[h],n,"string"===typeof e);l=i.merge(l,v,n)}return!0===n.allowSparse?l:i.compact(l)}},"9e96":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-2f0e5305], uni-scroll-view[data-v-2f0e5305], uni-swiper-item[data-v-2f0e5305]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-line[data-v-2f0e5305]{vertical-align:middle}',""]),e.exports=t},a0d3:function(e,t,n){"use strict";var i=n("0f7c");e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},a0e7:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"member_item"},[e.isVideo?n("v-uni-video",{ref:"videoRef",staticClass:"member_video",attrs:{controls:!1,"show-center-play-btn":!1,"show-loading":!1}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!e.videoLoaded||e.isVideoMuted,expression:"!videoLoaded || isVideoMuted"}],staticClass:"loading_wrap"},[n("my-avatar",{attrs:{src:e.metadata.groupMemberInfo.faceURL,desc:e.metadata.groupMemberInfo.nickname}})],1)],1):n("my-avatar",{attrs:{src:e.metadata.groupMemberInfo.faceURL,desc:e.metadata.groupMemberInfo.nickname}}),n("v-uni-image",{staticClass:"mic_status",attrs:{src:e.muteStatusIcon}})],1)},r=[]},a4e4:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("f692")),a={name:"u-overlay",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{overlayStyle:function(){var e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":"rgba(0, 0, 0, ".concat(this.opacity,")")};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},methods:{clickHandler:function(){this.$emit("click")}}};t.default=a},a81a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAkCAYAAADy19hsAAAAAXNSR0IArs4c6QAAAwdJREFUWEftmEuoTWEUx39/r6KIgRSFyWUipOQxUshAyvUYGDCVR8gzAzIQEUIeAyMMUBgoGXjMiCR55ZFERCkJSYn+Wtd3tB332vs89s0tq26nu/d6/M761re+bx2RI7a7AUeABUDvPH3gJbBY0oUCujWrKM/C9izgXJ5e1fuXkobWaFNIvQjwUuBgIW8ZJUm5vmv1Gfq5Tm13eeBDkpZVZ8e2s89Kz7DtMcBUoG8VzHhgZubZTeB8O8u5pepZ9f/1VEDYfAIuS7rTVhK2oywOAEuKlEi9URu0i9U7DCwP4JXA3gYddpb5qgB+BIzsrIgNxnkcwN+A7hlHHdVeHCDxlyfhr5mS5fkewJ2yu+v9Bn/w/QfOpNJ2L0lf681u2HVqhm3vAk5Lul4vdFOBbcdmnQPMA0YB/ap6ef9IEtAq6VI90E0Dth2t8CQwtgDIG6BF0ue0zIMlvS5g15ySsN0CXAUGpqCRxRfAq5TRCkvoxbsZku6lu3WcWK3AZElP86CbkmHbUZMTUrAAXxJA1cFtbwJOVMBsrwN2Jr0bwCRJv7XVdnz83nZrbWu2pwEXk+O7wERJX9rLVNxTskC2+wDXgLhohUzPq+2GM2x7N7A6BZwn6Uzesmbf254bnSM92yNpzd/smwEcwSJoyHBJUbuFxfYw4HkyOCMpOkyH0gzgY8DCFGGcpNuFaX8eBOOAW8nmuKRFZQOvAPalILslra0ROA6TShmslLS/bOBBwDMgNlAcu/Ml/ZqqbY+WFJvxD7E9GzgF9AJio0ZJvS0VOJzbXg/sAN6lHtu2xLa3pYMkNmZFYqIZAsTPBdF/K1fUDZIqLa68Gk5gAbE19dj7acyKqSXKpYjslxSTTq40vOk6WOqeaakjg3+TB8BmSWdzSZNCKcAp6z2Ao0D84hOfWfkA3Jf0sChoRa804AQd9TlF0pVawTrSLxW4WZBZP/+By8hqXoZjQ8Sk0BXkY4z5cduKMacryNkAHgHEhXzAP078vu3undpRQG8H4nL+r5XHRyAG2I2SnvwABaenz7UyYtoAAAAASUVORK5CYII="},a8fc:function(e,t,n){"use strict";n.r(t);var i=n("7f0b"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},a9b8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-text",{staticClass:"u-link",style:[e.linkStyle,e.$u.addStyle(e.customStyle)],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.openLink.apply(void 0,arguments)}}},[e._v(e._s(e.text))])},r=[]},ac73:function(e,t,n){"use strict";var i=n("dca3"),r=n.n(i);r.a},ad19:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uAvatar:n("3b99").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-avatar",{attrs:{src:e.getAvatarUrl,text:e.avatarText,bgColor:"#5496EB",defaultUrl:e.getDdefaultUrl,shape:e.shape,size:e.size,mode:"aspectFill"},on:{onError:function(t){arguments[0]=t=e.$handleEvent(t),e.errorHandle.apply(void 0,arguments)}}})},a=[]},ad2f:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.transition.show},mode:{type:String,default:uni.$u.props.transition.mode},duration:{type:[String,Number],default:uni.$u.props.transition.duration},timingFunction:{type:String,default:uni.$u.props.transition.timingFunction}}};t.default=i},adb8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uPopup:n("9d79").default,uLine:n("e71b").default,uLoadingIcon:n("5ef1").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("u-popup",{attrs:{mode:"center",zoom:e.zoom,show:e.show,customStyle:{borderRadius:"6px",overflow:"hidden",marginTop:"-"+e.$u.addUnit(e.negativeTop)},closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:!1,duration:400},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"u-modal",style:{width:e.$u.addUnit(e.width)}},[e.title?n("v-uni-text",{staticClass:"u-modal__title"},[e._v(e._s(e.title))]):e._e(),n("v-uni-view",{staticClass:"u-modal__content",style:{paddingTop:(e.title?12:25)+"px"}},[e._t("default",[n("v-uni-text",{staticClass:"u-modal__content__text"},[e._v(e._s(e.content))])])],2),e.$slots.confirmButton?n("v-uni-view",{staticClass:"u-modal__button-group--confirm-button"},[e._t("confirmButton")],2):[n("u-line"),n("v-uni-view",{staticClass:"u-modal__button-group",style:{flexDirection:e.buttonReverse?"row-reverse":"row"}},[e.showCancelButton?n("v-uni-view",{staticClass:"u-modal__button-group__wrapper u-modal__button-group__wrapper--cancel",class:[e.showCancelButton&&!e.showConfirmButton&&"u-modal__button-group__wrapper--only-cancel"],attrs:{"hover-stay-time":150,"hover-class":"u-modal__button-group__wrapper--hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancelHandler.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"u-modal__button-group__wrapper__text",style:{color:e.cancelColor}},[e._v(e._s(e.cancelText))])],1):e._e(),e.showConfirmButton&&e.showCancelButton?n("u-line",{attrs:{direction:"column"}}):e._e(),e.showConfirmButton?n("v-uni-view",{staticClass:"u-modal__button-group__wrapper u-modal__button-group__wrapper--confirm",class:[!e.showCancelButton&&e.showConfirmButton&&"u-modal__button-group__wrapper--only-confirm"],attrs:{"hover-stay-time":150,"hover-class":"u-modal__button-group__wrapper--hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmHandler.apply(void 0,arguments)}}},[e.loading?n("u-loading-icon"):n("v-uni-text",{staticClass:"u-modal__button-group__wrapper__text",style:{color:e.confirmColor}},[e._v(e._s(e.confirmText))])],1):e._e()],1)]],2)],1)},a=[]},adf8:function(e,t,n){"use strict";var i=n("8c61"),r=n.n(i);r.a},ae6d:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={uOverlay:n("0ce7").default,uTransition:n("2f22").default,uStatusBar:n("d691").default,uIcon:n("8709").default,uSafeBottom:n("5604").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-popup"},[e.overlay?n("u-overlay",{attrs:{show:e.show,duration:e.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.overlayClick.apply(void 0,arguments)}}}):e._e(),n("u-transition",{attrs:{show:e.show,customStyle:e.transitionStyle,mode:e.position,duration:e.duration},on:{afterEnter:function(t){arguments[0]=t=e.$handleEvent(t),e.afterEnter.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"u-popup__content",style:[e.contentStyle],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.noop.apply(void 0,arguments)}}},[e.safeAreaInsetTop?n("u-status-bar"):e._e(),e._t("default"),e.closeable?n("v-uni-view",{staticClass:"u-popup__content__close",class:["u-popup__content__close--"+e.closeIconPos],attrs:{"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[n("u-icon",{attrs:{name:"close",color:"#909399",size:"18",bold:!0}})],1):e._e(),e.safeAreaInsetBottom?n("u-safe-bottom"):e._e()],2)],1)],1)},a=[]},b0ae:function(e,t,n){e.exports=n.p+"static/img/ic_avatar_04.b3c8da52.png"},b313:function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g,a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports={default:a.RFC3986,formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:a.RFC1738,RFC3986:a.RFC3986}},b36a:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-status-bar[data-v-186edb96]{width:100%}',""]),e.exports=t},b380:function(e,t,n){"use strict";function i(e,n){return t.default=i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,n)}n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,n("131a")},b3f0:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("974f")),a={name:"u-line",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{lineStyle:function(){var e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=a},b592:function(e,t){e.exports="data:image/png;base64,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"},b692:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-icon",class:["u-icon--"+e.labelPos],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e.isImg?n("v-uni-image",{staticClass:"u-icon__img",style:[e.imgStyle,e.$u.addStyle(e.customStyle)],attrs:{src:e.name,mode:e.imgMode}}):n("v-uni-text",{staticClass:"u-icon__icon",class:e.uClasses,style:[e.iconStyle,e.$u.addStyle(e.customStyle)],attrs:{"hover-class":e.hoverClass}},[e._v(e._s(e.icon))]),""!==e.label?n("v-uni-text",{staticClass:"u-icon__label",style:{color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.space):0}},[e._v(e._s(e.label))]):e._e()],1)},r=[]},b751:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("e95e")),a=(i(n("5273")),i(n("e618")),i(n("9683"))),o={name:"u--text",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default,a.default],computed:{valueStyle:function(){var e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:function(){return!1},isMp:function(){return!1}},data:function(){return{}},methods:{clickHandler:function(){this.call&&"phone"===this.mode&&uni.makePhoneCall({phoneNumber:this.text}),this.$emit("click")}}};t.default=o},b80f:function(e,t,n){var i=n("0548");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("2aa3c4f2",i,!0,{sourceMap:!1,shadowMode:!1})},b85c:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,i.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw o}}}},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("d9e2"),n("d401");var i=function(e){return e&&e.__esModule?e:{default:e}}(n("06c5"))},b87e:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{}}},bbaf:function(e,t,n){"use strict";var i=n("6108"),r=n.n(i);r.a},bc43:function(e,t,n){"use strict";n.r(t);var i=n("5c4a"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},bf19:function(e,t,n){"use strict";var i=n("23e7"),r=n("c65b");i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},c1ef:function(e,t,n){"use strict";n.r(t);var i=n("fefe"),r=n("5e95");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("4f27");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"1a4faf55",null,!1,i["a"],void 0);t["default"]=s.exports},c292:function(e,t,n){"use strict";n.r(t);var i=n("2f46"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},c36d:function(e,t,n){e.exports=n.p+"static/img/ic_avatar_06.a3a94948.png"},c7a1:function(e,t,n){e.exports=n.p+"static/img/ic_avatar_05.6ae0915a.png"},c95c:function(e,t,n){"use strict";var i=n("51f3"),r=n.n(i);r.a},ca07:function(e,t,n){"use strict";n.r(t);var i=n("ead5"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},ca1f:function(e,t,n){"use strict";n.r(t);var i=n("e5b3"),r=n("ebbb");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("adf8");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"26eeed99",null,!1,i["a"],void 0);t["default"]=s.exports},cadc:function(e,t,n){var i=n("b36a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("0770b33a",i,!0,{sourceMap:!1,shadowMode:!1})},cedb:function(e,t,n){"use strict";n.r(t);var i=n("62fe"),r=n("0104");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("9ae8");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"6eabddce",null,!1,i["a"],void 0);t["default"]=s.exports},cfc3:function(e,t,n){var i=n("74e8");i("Float32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))},d231:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticClass:"u-safe-bottom",class:[!this.isNvue&&"u-safe-area-inset-bottom"],style:[this.style]})},r=[]},d233:function(e,t,n){"use strict";var i=n("b313"),r=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)"undefined"!==typeof e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],s=Object.keys(o),c=0;c<s.length;++c){var u=s[c],d=o[u];"object"===typeof d&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:o,prop:u}),n.push(d))}return function(e){while(e.length>1){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var i=[],r=0;r<n.length;++r)"undefined"!==typeof n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(r){return i}},encode:function(e,t,n,r,a){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var d=s.charCodeAt(u);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===i.RFC1738&&(40===d||41===d)?c+=s.charAt(u):d<128?c+=o[d]:d<2048?c+=o[192|d>>6]+o[128|63&d]:d<55296||d>=57344?c+=o[224|d>>12]+o[128|d>>6&63]+o[128|63&d]:(u+=1,d=65536+((1023&d)<<10|1023&s.charCodeAt(u)),c+=o[240|d>>18]+o[128|d>>12&63]+o[128|d>>6&63]+o[128|63&d])}return c},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var o=t;return a(t)&&!a(n)&&(o=s(t,i)),a(t)&&a(n)?(n.forEach((function(n,a){if(r.call(t,a)){var o=t[a];o&&"object"===typeof o&&n&&"object"===typeof n?t[a]=e(o,n,i):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var o=n[a];return r.call(t,a)?t[a]=e(t[a],o,i):t[a]=o,t}),o)}}},d3cf:function(e,t,n){"use strict";n.r(t);var i=n("59c8"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},d544:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.loadingIcon.show},color:{type:String,default:uni.$u.props.loadingIcon.color},textColor:{type:String,default:uni.$u.props.loadingIcon.textColor},vertical:{type:Boolean,default:uni.$u.props.loadingIcon.vertical},mode:{type:String,default:uni.$u.props.loadingIcon.mode},size:{type:[String,Number],default:uni.$u.props.loadingIcon.size},textSize:{type:[String,Number],default:uni.$u.props.loadingIcon.textSize},text:{type:[String,Number],default:uni.$u.props.loadingIcon.text},timingFunction:{type:String,default:uni.$u.props.loadingIcon.timingFunction},duration:{type:[String,Number],default:uni.$u.props.loadingIcon.duration},inactiveColor:{type:String,default:uni.$u.props.loadingIcon.inactiveColor}}};t.default=i},d633:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("c7eb")),a=i(n("1da1"));n("d3b7"),n("99af");i(n("4e01"));var o=function(e){return{enter:"u-".concat(e,"-enter u-").concat(e,"-enter-active"),"enter-to":"u-".concat(e,"-enter-to u-").concat(e,"-enter-active"),leave:"u-".concat(e,"-leave u-").concat(e,"-leave-active"),"leave-to":"u-".concat(e,"-leave-to u-").concat(e,"-leave-active")}},s={methods:{clickHandler:function(){this.$emit("click")},vueEnter:function(){var e=this,t=o(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=t.enter,this.$nextTick((0,a.default)((0,r.default)().mark((function n(){return(0,r.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,uni.$u.sleep(20);case 2:e.$emit("enter"),e.transitionEnded=!1,e.$emit("afterEnter"),e.classes=t["enter-to"];case 6:case"end":return n.stop()}}),n)}))))},vueLeave:function(){var e=this;if(this.display){var t=o(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=t.leave,this.$nextTick((function(){e.transitionEnded=!1,e.$emit("leave"),setTimeout(e.onTransitionEnd,e.duration),e.classes=t["leave-to"]}))}},onTransitionEnd:function(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};t.default=s},d691:function(e,t,n){"use strict";n.r(t);var i=n("0baf"),r=n("ca07");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("0469");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"186edb96",null,!1,i["a"],void 0);t["default"]=s.exports},d76b:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.action_bar_wrap[data-v-59eca4d9]{width:100%;margin-bottom:5vh}.action_bar_wrap .u-loading-icon[data-v-59eca4d9]{margin-bottom:10vh}.action_bar[data-v-59eca4d9]{display:flex;justify-content:space-around;width:100%;position:relative}.action_bar .action_item[data-v-59eca4d9]{display:flex;flex-direction:column;align-items:center;color:#fff}.action_bar .action_item uni-image[data-v-59eca4d9]{width:%?128?%;height:%?128?%;margin-bottom:%?24?%}.action_bar .duration[data-v-59eca4d9]{position:absolute;top:%?-96?%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#fff}',""]),e.exports=t},d8ec:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("14d9"),n("caad"),n("2532"),n("c975");var r=i(n("1b80")),a=i(n("78e8")),o={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],computed:{uClasses:function(){var e=[];return e.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle:function(){var e={};return e={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var e={};return e.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),e.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),e},icon:function(){return r.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}};t.default=o},d967:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},n("d3b7"),n("f8c9"),n("4ae1")},d9d4:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.on_call_container[data-v-1a4faf55]{display:flex;flex-direction:column;overflow:hidden;width:100%;flex:1;margin-bottom:%?144?%}.on_call_container .room_action_bar[data-v-1a4faf55]{height:%?90?%;display:flex;justify-content:flex-end;align-items:center;margin-right:%?48?%}.on_call_container .room_action_bar .invite[data-v-1a4faf55]{width:20px;height:21px}.on_call_container .room_action_bar .change[data-v-1a4faf55]{width:22px;height:18px;margin:0 %?40?%}.on_call_container .room_action_bar .operate[data-v-1a4faf55]{width:33px;height:30px}.on_call_container .member_list[data-v-1a4faf55]{display:flex;flex-wrap:wrap;max-height:100%;overflow-y:auto;margin:%?32?% 24px}',""]),e.exports=t},dae6:function(e,t,n){"use strict";n.r(t);var i=n("a4e4"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},dca3:function(e,t,n){var i=n("9e96");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("86b100ce",i,!0,{sourceMap:!1,shadowMode:!1})},dca8:function(e,t,n){var i=n("23e7"),r=n("bb2f"),a=n("d039"),o=n("861d"),s=n("f183").onFreeze,c=Object.freeze,u=a((function(){c(1)}));i({target:"Object",stat:!0,forced:u,sham:!r},{freeze:function(e){return c&&o(e)?c(s(e)):e}})},ddc2:function(e,t,n){"use strict";n.r(t);var i=n("d8ec"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},de1d:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("c975");var r=i(n("70f2")),a={name:"u-avatar",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{colors:["#ffb34b","#f2bba9","#f7a196","#f18080","#88a867","#bfbf39","#89c152","#94d554","#f19ec2","#afaae4","#e1b0df","#c38cc1","#72dcdc","#9acdcb","#77b1cc","#448aca","#86cefa","#98d1ee","#73d1f1","#80a7dc"],avatarUrl:this.src,allowMp:!1}},watch:{src:{immediate:!0,handler:function(e){this.avatarUrl=e,e||this.errorHandler()}}},computed:{imageStyle:function(){return{}}},created:function(){this.init()},methods:{init:function(){},isImg:function(){return-1!==this.src.indexOf("/")},errorHandler:function(){this.avatarUrl=this.defaultUrl||"data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCADIAMgDAREAAhEBAxEB/8QAcQABAQEAAwEBAAAAAAAAAAAAAAUEAQMGAgcBAQAAAAAAAAAAAAAAAAAAAAAQAAIBAwICBgkDBQAAAAAAAAABAhEDBCEFMVFBYXGREiKBscHRMkJSEyOh4XLxYjNDFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHbHFyZ/Dam+yLA+Z2L0Pjtyj2poD4AAAAAAAAAAAAAAAAAAAAAAAAKWFs9y6lcvvwQeqj8z9wFaziY1n/HbUX9XF97A7QAGXI23EvJ1goyfzR0YEfN269jeZ+a03pNe0DIAAAAAAAAAAAAAAAAAAAACvtO3RcVkXlWutuL9YFYAAAAAOJRjKLjJVi9GmB5/csH/mu1h/in8PU+QGMAAAAAAAAAAAAAAAAAAaMDG/6MmMH8C80+xAelSSVFolwQAAAAAAAHVlWI37ErUulaPk+hgeYnCUJuElSUXRrrQHAAAAAAAAAAAAAAAAABa2Oz4bM7r4zdF2ICmAAAAAAAAAg7zZ8GX41wuJP0rRgYAAAAAAAAAAAAAAAAAD0m2R8ODaXU33tsDSAAAAAAAAAlb9HyWZcnJd9PcBHAAAAAAAAAAAAAAAAAPS7e64Vn+KA0AAAAAAAAAJm+v8Ftf3ewCKAAAAAAAAAAAAAAAAAX9muqeGo9NttP06+0DcAAAAAAAAAjb7dTu2ra+VOT9P8AQCWAAAAAAAAAAAAAAAAAUNmyPt5Ltv4bui/kuAF0AAAAAAADiUlGLlJ0SVW+oDzOXfd/Ind6JPRdS0QHSAAAAAAAAAAAAAAAAAE2nVaNcGB6Lbs6OTao9LsF51z60BrAAAAAABJ3jOVHjW3r/sa9QEgAAAAAAAAAAAAAAAAAAAPu1duWriuW34ZR4MC9hbnZyEoy8l36XwfYBsAAADaSq9EuLAlZ+7xSdrGdW9Hc5dgEdtt1erfFgAAAAAAAAAAAAAAAAADVjbblX6NR8MH80tEBRs7HYivyzlN8lovaBPzduvY0m6eK10TXtAyAarO55lpJK54orolr+4GqO/Xaea1FvqbXvA+Z77kNeW3GPbV+4DJfzcm/pcm3H6Vou5AdAFLC2ed2Pjv1txa8sV8T6wOL+yZEKu1JXFy4MDBOE4ScZxcZLinoB8gAAAAAAAAAAAB242LeyJ+C3GvN9C7QLmJtePYpKS+5c+p8F2IDYAANJqj1T4oCfk7Nj3G5Wn9qXJax7gJ93Z82D8sVNc4v30A6Xg5i42Z+iLfqARwcyT0sz9MWvWBps7LlTf5Grce9/oBTxdtxseklHxT+uWr9AGoAB138ezfj4bsFJdD6V2MCPm7RdtJzs1uW1xXzL3gTgAAAAAAAAADRhYc8q74I6RWs5ckB6GxYtWLat21SK731sDsAAAAAAAAAAAAAAAASt021NO/YjrxuQXT1oCOAAAAAAABzGLlJRSq26JAelwsWONYjbXxcZvmwO8AAAAAAAAAAAAAAAAAAef3TEWPkVivx3NY9T6UBiAAAAAABo2+VmGXblddIJ8eivRUD0oAAAAAAAAAAAAAAAAAAAYt4tKeFKVNYNSXfRgefAAAAAAAAr7VuSSWPedKaW5v1MCsAAAAAAAAAAAAAAAAAAIe6bj96Ts2n+JPzSXzP3ATgAAAAAAAAFbbt1UUrOQ9FpC4/UwK6aaqtU+DAAAAAAAAAAAAAAA4lKMIuUmoxWrb4ARNx3R3q2rLpa4Sl0y/YCcAAAAAAAAAAANmFud7G8r89r6X0dgFvGzLGRGtuWvTF6NAdwAAAAAAAAAAAy5W442PVN+K59EePp5ARMvOv5MvO6QXCC4AZwAAAAAAAAAAAAAcxlKLUotprg1owN+PvORborq+7Hnwl3gUbO74VzRydt8pKn68ANcJwmqwkpLmnUDkAAAAfNy9atqtyagut0AxXt5xIV8Fbj6lRd7Am5G65V6qUvtwfyx94GMAAAAAAAAAAAAAAAAAAAOU2nVOj5gdsc3LiqRvTpyqwOxbnnrhdfpSfrQB7pnv/AGvuS9gHXPMy5/Fem1yq0v0A6W29XqwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf//Z"},clickHandler:function(){this.$emit("click",this.name)}}};t.default=a},e1bf:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("b87e")),a={name:"u-safe-bottom",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{safeAreaBottomHeight:0,isNvue:!1}},computed:{style:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},mounted:function(){}};t.default=a},e3c7:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("249c")),a=i(n("39a9")),o=i(n("7821")),s=i(n("b0ae")),c=i(n("c7a1")),u=i(n("c36d")),d={ic_avatar_01:r.default,ic_avatar_02:a.default,ic_avatar_03:o.default,ic_avatar_04:s.default,ic_avatar_05:c.default,ic_avatar_06:u.default},l=d;t.default=l},e433:function(e,t,n){"use strict";n.r(t);var i=n("9a83"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},e5b3:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"voice_invition_desc"},[n("my-avatar",{attrs:{size:"78",desc:e.userInfo.nickname,src:e.userInfo.faceURL}}),n("v-uni-view",{staticClass:"title"},[e._v(e._s(e.userInfo.nickname))]),e.callState.isCalling?n("v-uni-view",{staticClass:"sub_title"},[e._v(e._s(e.subDesc))]):e._e()],1)},r=[]},e618:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}};t.default=i},e650:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-4b87d063], uni-scroll-view[data-v-4b87d063], uni-swiper-item[data-v-4b87d063]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-avatar[data-v-4b87d063]{display:flex;flex-direction:row;align-items:center;justify-content:center}.u-avatar--circle[data-v-4b87d063]{border-radius:100px}.u-avatar--square[data-v-4b87d063]{border-radius:4px}.u-avatar__image--circle[data-v-4b87d063]{border-radius:100px}.u-avatar__image--square[data-v-4b87d063]{border-radius:4px}',""]),e.exports=t},e71b:function(e,t,n){"use strict";n.r(t);var i=n("66ef"),r=n("11a4");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("ac73");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"2f0e5305",null,!1,i["a"],void 0);t["default"]=s.exports},e8ae:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("2ae7")),a=i(n("810e")),o=i(n("1b5d")),s={name:"",components:{GroupOnCallItem:r.default},props:{participants:{type:Array,default:function(){return[]}},isVideo:Boolean,localCameraIsMute:Boolean},data:function(){return{}},computed:{cameraStatusIcon:function(){return this.localCameraIsMute?a.default:o.default}},methods:{opCamera:function(){this.$emit("opCamera")}}};t.default=s},e8d2:function(e,t,n){e.exports=n.p+"static/img/hungup.c2f89939.png"},e95e:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac1f"),n("00b4"),n("99af");var i={computed:{value:function(){var e=this.text,t=this.mode,n=this.format,i=this.href;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("金额模式下，text参数需要为金额格式"),uni.$u.test.func(n)?n(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("日期模式下，text参数需要为日期或时间戳格式"),uni.$u.test.func(n)?n(e):n?uni.$u.timeFormat(e,n):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(n)?n(e):"encrypt"===n?"".concat(e.substr(0,3),"****").concat(e.substr(7)):e:"name"===t?("string"!==typeof e&&uni.$u.error("姓名模式下，text参数需要为字符串格式"),uni.$u.test.func(n)?n(e):"encrypt"===n?this.formatName(e):e):"link"===t?(!uni.$u.test.url(i)&&uni.$u.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName:function(e){var t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){for(var n="",i=0,r=e.length-2;i<r;i++)n+="*";t=e.substr(0,1)+n+e.substr(-1,1)}else t=e;return t}}};t.default=i},ead5:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("0522")),a={name:"u-status-bar",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],data:function(){return{}},computed:{style:function(){var e={};return e.height=uni.$u.addUnit(uni.$u.sys().statusBarHeight,"px"),e.backgroundColor=this.bgColor,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}};t.default=a},ebbb:function(e,t,n){"use strict";n.r(t);var i=n("fe84"),r=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},f15b:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("90e1")),a={name:"u-link",mixins:[uni.$u.mpMixin,uni.$u.mixin,r.default],computed:{linkStyle:function(){var e={color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"};return e}},methods:{openLink:function(){window.open(this.href),this.$emit("click")}}};t.default=a},f1cd:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-30282a05], uni-scroll-view[data-v-30282a05], uni-swiper-item[data-v-30282a05]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-popup[data-v-30282a05]{flex:1}.u-popup__content[data-v-30282a05]{background-color:#fff;position:relative}.u-popup__content--round-top[data-v-30282a05]{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content--round-left[data-v-30282a05]{border-top-left-radius:0;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:10px}.u-popup__content--round-right[data-v-30282a05]{border-top-left-radius:10px;border-top-right-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:0}.u-popup__content--round-bottom[data-v-30282a05]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:0;border-bottom-right-radius:0}.u-popup__content--round-center[data-v-30282a05]{border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.u-popup__content__close[data-v-30282a05]{position:absolute}.u-popup__content__close--hover[data-v-30282a05]{opacity:.4}.u-popup__content__close--top-left[data-v-30282a05]{top:15px;left:15px}.u-popup__content__close--top-right[data-v-30282a05]{top:15px;right:15px}.u-popup__content__close--bottom-left[data-v-30282a05]{bottom:15px;left:15px}.u-popup__content__close--bottom-right[data-v-30282a05]{right:15px;bottom:15px}',""]),e.exports=t},f2b8:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-b2a05bc2], uni-scroll-view[data-v-b2a05bc2], uni-swiper-item[data-v-b2a05bc2]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-overlay[data-v-b2a05bc2]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.7)}',""]),e.exports=t},f4b3:function(e,t,n){"use strict";var i=n("23e7"),r=n("d039"),a=n("7b0b"),o=n("c04e"),s=r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));i({target:"Date",proto:!0,arity:1,forced:s},{toJSON:function(e){var t=a(this),n=o(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},f5af:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAAAAXNSR0IArs4c6QAAAO5JREFUWEftmbENAjEMRZ8rKsQGFKxADR0zsACCMTjGAMEArAAdA7ABQwAVlVFQqpMORbKLgJw6/vp5thLLEZyWqg6AeZY7isjdQ1o8RLK5KzDKejdg7GHSy+AS2LYOuxKRnRWAl8E10LTMNCKyCYMlBFQ1CJaA6twTBE34gCAYBA0E4iUxwPuEBsH/J6iqQ+AATICe9cRO8S/gAixEVU/AzEnYW+acDD6Avreyk97zJwimGtwD0ypr0CMV0c1YKQbBIGggEN2MAV70gzE8Ki6fuKiLUXVsDIIOBKufUacviHqn/CkDVf+TWEvkW/wbYS/QvtHIP4MAAAAASUVORK5CYII="},f692:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.overlay.show},zIndex:{type:[String,Number],default:uni.$u.props.overlay.zIndex},duration:{type:[String,Number],default:uni.$u.props.overlay.duration},opacity:{type:[String,Number],default:uni.$u.props.overlay.opacity}}};t.default=i},f6ee:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{show:{type:Boolean,default:uni.$u.props.modal.show},title:{type:[String],default:uni.$u.props.modal.title},content:{type:String,default:uni.$u.props.modal.content},confirmText:{type:String,default:uni.$u.props.modal.confirmText},cancelText:{type:String,default:uni.$u.props.modal.cancelText},showConfirmButton:{type:Boolean,default:uni.$u.props.modal.showConfirmButton},showCancelButton:{type:Boolean,default:uni.$u.props.modal.showCancelButton},confirmColor:{type:String,default:uni.$u.props.modal.confirmColor},cancelColor:{type:String,default:uni.$u.props.modal.cancelColor},buttonReverse:{type:Boolean,default:uni.$u.props.modal.buttonReverse},zoom:{type:Boolean,default:uni.$u.props.modal.zoom},asyncClose:{type:Boolean,default:uni.$u.props.modal.asyncClose},closeOnClickOverlay:{type:Boolean,default:uni.$u.props.modal.closeOnClickOverlay},negativeTop:{type:[String,Number],default:uni.$u.props.modal.negativeTop},width:{type:[String,Number],default:uni.$u.props.modal.width},confirmButtonShape:{type:String,default:uni.$u.props.modal.confirmButtonShape}}};t.default=i},fa95:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},n("c975"),n("d401"),n("d3b7"),n("25f0")},fda4:function(e,t){e.exports="data:image/png;base64,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"},fe03:function(e,t,n){var i=n("720d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("4f06").default;r("0fce9796",i,!0,{sourceMap:!1,shadowMode:!1})},fe84:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5248")),a={components:{MyAvatar:r.default},props:{callState:Object,userInfo:Object},data:function(){return{}},computed:{subDesc:function(){return this.callState.isCalled?"邀请你进行语音通话":"等待对方接听"}},methods:{}};t.default=a},fefe:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"on_call_container"},[i("v-uni-view",{staticClass:"room_action_bar"},[i("v-uni-image",{staticClass:"invite",attrs:{src:n("f5af")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("inviteMember")}}}),e.isVideo?i("v-uni-image",{staticClass:"change",attrs:{src:n("a81a")},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("changeCamera")}}}):e._e(),e.isVideo?i("v-uni-image",{staticClass:"operate",attrs:{src:e.cameraStatusIcon},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.opCamera.apply(void 0,arguments)}}}):e._e()],1),i("v-uni-view",{staticClass:"member_list"},e._l(e.participants,(function(t,n){return i("group-on-call-item",{key:t.sid,attrs:{participant:t,isVideo:e.isVideo}})})),1)],1)},r=[]},ff17:function(e,t,n){"use strict";n.r(t);var i=n("7d4f"),r=n("a8fc");for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("692f");var o=n("f0c5"),s=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"59eca4d9",null,!1,i["a"],void 0);t["default"]=s.exports}}]);